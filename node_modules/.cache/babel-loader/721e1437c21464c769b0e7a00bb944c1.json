{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from'react';import{Button,Col,Container,Form,FormGroup,Input,Card,CardBody,Label}from'reactstrap';import axios from\"../../../helpers/axiosConfig\";import useList from'../../../hooks/useList';import{Redirect}from'react-router-dom';import SimpleModal from\"../components/SimpleModal\";var PatientAdmission=function PatientAdmission(){var regions=useList(\"list/region\");var towns=useList(\"list/town\");var carerTowns=towns;var registereds=useList(\"list/registered-by\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggle=_useState2[0],setToggle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),next=_useState4[0],setNext=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),createdPersonId=_useState6[0],setCreatedPersonId=_useState6[1];var defaultPerson={run:'',names:'',paternal_lastname:'',maternal_lastname:'',birthdate:'',address:'',is_retired:0,region_id:0,town_id:0,registered_by_id:0,phone:'',cellphone:'',email:''};var defaultCarer={carer_names:'',carer_paternal_lastname:'',carer_maternal_lastname:'',carer_town_id:7,carer_phone:'',carer_cellphone:'',carer_email:''};var _useState7=useState(defaultCarer),_useState8=_slicedToArray(_useState7,2),newCarer=_useState8[0],setNewCarer=_useState8[1];var _useState9=useState(defaultPerson),_useState10=_slicedToArray(_useState9,2),newPerson=_useState10[0],setNewPerson=_useState10[1];//SimpleModal######################################################################################################\nvar modalRef=useRef();var setModal=function setModal(options){modalRef.current.setModal(options);};//SimpleModal######################################################################################################\nvar handleToggle=function handleToggle(){if(toggle){setNewCarer(defaultCarer);}setToggle(!toggle);};var handleInputChangePerson=function handleInputChangePerson(e){setNewPerson(_objectSpread(_objectSpread({},newPerson),{},{[e.target.name]:e.target.value}));};var handleInputCheckedChange=function handleInputCheckedChange(e){setNewPerson(_objectSpread(_objectSpread({},newPerson),{},{[e.target.name]:e.target.checked}));};var handleInputChangeCarer=function handleInputChangeCarer(e){setNewCarer(_objectSpread(_objectSpread({},newCarer),{},{[e.target.name]:e.target.value}));};var addPerson=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"person\",{run:newPerson.run,names:newPerson.names,lastnames:newPerson.paternal_lastname+\" \"+newPerson.maternal_lastname,birthdate:newPerson.birthdate,address:newPerson.address,is_retired:newPerson.is_retired,region_id:newPerson.region_id,town_id:newPerson.town_id,registered_by_id:newPerson.registered_by_id,phone:newPerson.phone,cellphone:newPerson.cellphone,email:newPerson.email,carer_names:newCarer.carer_names,carer_lastnames:newCarer.carer_paternal_lastname+\" \"+newCarer.carer_maternal_lastname,carer_town_id:newCarer.carer_town_id,carer_phone:newCarer.carer_phone,carer_cellphone:newCarer.carer_cellphone,carer_email:newCarer.carer_email},{withCredentials:true});case 4:res=_context.sent;_context.t0=res.data.result[0][0].cod;_context.next=_context.t0===0?8:_context.t0===1?11:_context.t0===2?13:15;break;case 8:setCreatedPersonId(res.data.result[0][0].id);setNext(true);return _context.abrupt(\"break\",17);case 11:setModal({title:'Paciente',text:'El paciente '+newPerson.run+' ya existe.',type:1});return _context.abrupt(\"break\",17);case 13:setModal({title:'Paciente',text:'El paciente '+newPerson.run+' ya existe pero esta inactivo. ¿Desea activarlo?',type:2,fx:updateStatePerson});return _context.abrupt(\"break\",17);case 15:setModal({title:'Error',text:'Despierte al administrador de sistemas'+res.data.result[0][0].msg,type:1});return _context.abrupt(\"break\",17);case 17:;_context.next=24;break;case 20:_context.prev=20;_context.t1=_context[\"catch\"](1);console.log('Err: '+_context.t1);alert(\"Err: \"+_context.t1);case 24:;case 25:case\"end\":return _context.stop();}}},_callee,null,[[1,20]]);}));return function addPerson(_x){return _ref.apply(this,arguments);};}();var updateStatePerson=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"person/\"+newPerson.run);case 2:res=_context2.sent;if(!res.data.error){setModal({title:'Paciente',text:'El paciente '+newPerson.run+' fue activado correctamente',type:1});};case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function updateStatePerson(){return _ref2.apply(this,arguments);};}();var hoy=new Date();var reqTag=/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#DC3545\"}},\"*\");return/*#__PURE__*/React.createElement(Container,{className:\"mt-3\"},/*#__PURE__*/React.createElement(SimpleModal,{ref:modalRef}),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Ingreso de Paciente\"),/*#__PURE__*/React.createElement(\"h5\",{style:{color:\"#DC3545\"}},\"* Existen campos obligatorios\"),/*#__PURE__*/React.createElement(Form,{onSubmit:addPerson,role:\"form\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Nombres \",reqTag),/*#__PURE__*/React.createElement(Input,{placeholder:\"Debe colocar primera letra en May\\xFAscula\",type:\"text\",name:\"names\",pattern:\"^[\\xF1a-z\\xD1A-Z ]*$\",onChange:function onChange(e){handleInputChangePerson(e);},required:true}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Apellido Paterno \",reqTag),/*#__PURE__*/React.createElement(Input,{placeholder:\"Debe colocar primera letra en May\\xFAscula\",type:\"text\",name:\"paternal_lastname\",pattern:\"^[\\xD1A-Z\\xF1a-z ]*$\",onChange:function onChange(e){handleInputChangePerson(e);},required:true}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Apellido Materno \",reqTag),/*#__PURE__*/React.createElement(Input,{placeholder:\"Debe colocar primera letra en May\\xFAscula\",type:\"text\",name:\"maternal_lastname\",pattern:\"^[\\xD1A-Z\\xF1a-z ]*$\",onChange:function onChange(e){handleInputChangePerson(e);},required:true}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"N\\xFAmero de Identidad (sin puntos y con un gui\\xF3n antes del \\xFAltimo digito) \",reqTag),/*#__PURE__*/React.createElement(Input,{placeholder:\"12345678-9\",type:\"text\",name:\"run\"// pattern=\"^[ÑA-Zña-z ]*$\"\n,onChange:function onChange(e){handleInputChangePerson(e);},required:true}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Fecha de nacimiento \",reqTag),/*#__PURE__*/React.createElement(Input,{placeholder:\"2018-11-23\",type:\"date\",name:\"birthdate\",min:\"1910-01-01\",max:\"\"+hoy.getFullYear()+\"-\"+hoy.getMonth()+\"-\"+hoy.getDate(),onChange:function onChange(e){handleInputChangePerson(e);},required:true}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Direcci\\xF3n\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",maxLength:\"250\",placeholder:\"Direcci\\xF3n\",name:\"address\",onChange:function onChange(e){handleInputChangePerson(e);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Col,{className:\"d-flex p-0\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"\\xBFPaciente esta pensionado?\"),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-toggle custom-toggle-warning ml-3\"},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"is_retired\",onChange:function onChange(e){handleInputCheckedChange(e);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"custom-toggle-slider rounded-circle\",\"data-label-off\":\"No\",\"data-label-on\":\"S\\xED\"})))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Region \",reqTag),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"region_id\",required:true,onChange:function onChange(e){return handleInputChangePerson(e);}},/*#__PURE__*/React.createElement(\"option\",{hidden:true,value:\"\"},\"Seleccione...\"),regions.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{key:e.region_id,value:e.region_id},e.name);})),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Comuna de procedencia \",reqTag),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"town_id\",required:true,onChange:function onChange(e){return handleInputChangePerson(e);}},/*#__PURE__*/React.createElement(\"option\",{hidden:true,value:\"\"},\"Seleccione...\"),towns.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{key:e.town_id,value:e.town_id},e.name);})),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Enrolado por \",reqTag),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"registered_by_id\",required:true,onChange:function onChange(e){return handleInputChangePerson(e);}},/*#__PURE__*/React.createElement(\"option\",{hidden:true,value:\"\"},\"Seleccione...\"),registereds.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{key:e.registered_by_id,value:e.registered_by_id},e.name);})),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Tel\\xE9fono fijo\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"+56 9 2299 7066\",type:\"tel\",name:\"phone\",pattenr:\"[0-9]*\",onChange:function onChange(e){handleInputChangePerson(e);}}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Tel\\xE9fono celular\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"+56 9 2299 7066\",type:\"tel\",name:\"cellphone\",pattenr:\"[+]569[0-9]{8}\",onChange:function onChange(e){handleInputChangePerson(e);}}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Email\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"correo@dominio.cl\",name:\"email\",type:\"email\",onChange:function onChange(e){handleInputChangePerson(e);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Col,{className:\"d-flex p-0\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"\\xBFPaciente posee un cuidador?\"),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-toggle custom-toggle-warning ml-3\"},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",onChange:function onChange(){return handleToggle();}}),/*#__PURE__*/React.createElement(\"span\",{className:\"custom-toggle-slider rounded-circle\",\"data-label-off\":\"No\",\"data-label-on\":\"S\\xED\"}))))),toggle===true&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Nombres \",reqTag),/*#__PURE__*/React.createElement(Input,{required:true,placeholder:\"Debe colocar primera letra en May\\xFAscula\",name:\"carer_names\",type:\"text\",pattern:\"^[\\xF1a-z\\xD1A-Z ]*$\",onChange:function onChange(e){handleInputChangeCarer(e);},value:newCarer.carer_names}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Apellido Paterno \",reqTag),/*#__PURE__*/React.createElement(Input,{required:true,placeholder:\"Debe colocar primera letra en May\\xFAscula\",name:\"carer_paternal_lastname\",type:\"text\",pattern:\"^[\\xD1A-Z \\xF1a-z]*$\",onChange:function onChange(e){handleInputChangeCarer(e);},value:newCarer.carer_paternal_lastname}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Apellido Materno \",reqTag),/*#__PURE__*/React.createElement(Input,{required:true,placeholder:\"Debe colocar primera letra en May\\xFAscula\",name:\"carer_maternal_lastname\",type:\"text\",pattern:\"^[\\xD1A-Z \\xF1a-z]*$\",onChange:function onChange(e){handleInputChangeCarer(e);},value:newCarer.carer_maternal_lastname}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Comuna de procedencia \",reqTag),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"carer_town_id\",required:true,onChange:function onChange(e){return handleInputChangeCarer(e);}},/*#__PURE__*/React.createElement(\"option\",{hidden:true,value:\"\"},\"Seleccione...\"),carerTowns.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{key:e.town_id,value:e.town_id},e.name);}))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Tel\\xE9fono fijo\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"+56 9 2299 7066\",name:\"carer_phone\",type:\"tel\",onChange:function onChange(e){handleInputChangeCarer(e);},value:newCarer.carer_phone}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Tel\\xE9fono celular\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"+56 9 2299 7066\",name:\"carer_cellphone\",type:\"tel\",onChange:function onChange(e){handleInputChangeCarer(e);},value:newCarer.carer_cellphone}),/*#__PURE__*/React.createElement(Label,{className:\"form-control-label pt-3\"},\"Email\"),/*#__PURE__*/React.createElement(Input,{type:\"email\",name:\"carer_email\",placeholder:\"correo@dominio.cl\",value:newCarer.carer_email,onChange:function onChange(e){handleInputChangeCarer(e);}})))),/*#__PURE__*/React.createElement(Button,{className:\"float-right\",type:\"submit\",color:\"primary\"},\"Registrar\")))),next&&/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/admin/consultation-motive\",state:{id:createdPersonId,run:newPerson.run,name:newPerson.names,apellido:newPerson.paternal_lastname+\" \"+newPerson.maternal_lastname}}}));};export default PatientAdmission;","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/patient-admission.js"],"names":["React","useState","useRef","Button","Col","Container","Form","FormGroup","Input","Card","CardBody","Label","axios","useList","Redirect","SimpleModal","PatientAdmission","regions","towns","carerTowns","registereds","toggle","setToggle","next","setNext","createdPersonId","setCreatedPersonId","defaultPerson","run","names","paternal_lastname","maternal_lastname","birthdate","address","is_retired","region_id","town_id","registered_by_id","phone","cellphone","email","defaultCarer","carer_names","carer_paternal_lastname","carer_maternal_lastname","carer_town_id","carer_phone","carer_cellphone","carer_email","newCarer","setNewCarer","newPerson","setNewPerson","modalRef","setModal","options","current","handleToggle","handleInputChangePerson","e","target","name","value","handleInputCheckedChange","checked","handleInputChangeCarer","addPerson","preventDefault","post","lastnames","carer_lastnames","withCredentials","res","data","result","cod","id","title","text","type","fx","updateStatePerson","msg","console","log","alert","put","error","hoy","Date","reqTag","color","getFullYear","getMonth","getDate","map","pathname","state","apellido"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react'\r\nimport {Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label} from 'reactstrap'\r\nimport axios from \"../../../helpers/axiosConfig\"\r\nimport useList from '../../../hooks/useList';\r\nimport {Redirect} from 'react-router-dom';\r\nimport SimpleModal from \"../components/SimpleModal\";\r\n\r\nconst PatientAdmission = () => {\r\n    const regions = useList(\"list/region\");\r\n    const towns = useList(\"list/town\");\r\n    const carerTowns = towns; \r\n    const registereds = useList(\"list/registered-by\")  \r\n    const [toggle, setToggle] = useState(false);\r\n    const [next, setNext] = useState(false);\r\n    const [createdPersonId, setCreatedPersonId] = useState(0);\r\n    const defaultPerson = {run: '', names: '', paternal_lastname: '', maternal_lastname: '', birthdate: '', address: '', is_retired: 0, region_id: 0, town_id: 0, registered_by_id: 0, phone: '', cellphone: '', email: ''}\r\n    const defaultCarer = {carer_names: '', carer_paternal_lastname: '', carer_maternal_lastname: '', carer_town_id: 7, carer_phone: '', carer_cellphone: '', carer_email: ''}\r\n    const[newCarer, setNewCarer] = useState(defaultCarer);\r\n    const[newPerson, setNewPerson] = useState(defaultPerson);\r\n\r\n    //SimpleModal######################################################################################################\r\n    const modalRef = useRef()\r\n    const setModal = (options) => {\r\n        modalRef.current.setModal(options)\r\n    };\r\n    //SimpleModal######################################################################################################\r\n\r\n\r\n    const handleToggle = () => {\r\n        if(toggle){\r\n            setNewCarer(defaultCarer);\r\n        }\r\n        setToggle(!toggle);\r\n    };\r\n\r\n    const handleInputChangePerson = e => {\r\n        setNewPerson({\r\n            ...newPerson,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleInputCheckedChange = e => {\r\n        setNewPerson({\r\n            ...newPerson,\r\n            [e.target.name]: e.target.checked\r\n        });\r\n    };\r\n\r\n    const handleInputChangeCarer = e => {\r\n        setNewCarer({\r\n            ...newCarer,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const addPerson = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.post(\"person\", {\r\n                run: newPerson.run,\r\n                names: newPerson.names,\r\n                lastnames: newPerson.paternal_lastname + \" \" + newPerson.maternal_lastname,\r\n                birthdate: newPerson.birthdate,\r\n                address: newPerson.address,\r\n                is_retired: newPerson.is_retired,\r\n                region_id: newPerson.region_id,\r\n                town_id: newPerson.town_id,\r\n                registered_by_id: newPerson.registered_by_id,\r\n                phone: newPerson.phone,\r\n                cellphone: newPerson.cellphone,\r\n                email: newPerson.email,\r\n                carer_names: newCarer.carer_names,\r\n                carer_lastnames: newCarer.carer_paternal_lastname + \" \" + newCarer.carer_maternal_lastname,\r\n                carer_town_id: newCarer.carer_town_id,\r\n                carer_phone: newCarer.carer_phone,\r\n                carer_cellphone: newCarer.carer_cellphone,\r\n                carer_email: newCarer.carer_email\r\n            }, {withCredentials:true});\r\n            switch(res.data.result[0][0].cod) {\r\n                case 0: \r\n                    setCreatedPersonId(res.data.result[0][0].id);\r\n                    setNext(true);\r\n                    break;\r\n                case 1: \r\n                    setModal({title: 'Paciente', text : 'El paciente ' + newPerson.run + ' ya existe.', type: 1});\r\n                    break;\r\n                case 2: \r\n                    setModal({title: 'Paciente', text : 'El paciente ' + newPerson.run + ' ya existe pero esta inactivo. ¿Desea activarlo?', type: 2, fx: updateStatePerson});\r\n                    break;\r\n                default:\r\n                    setModal({title: 'Error', text : 'Despierte al administrador de sistemas' + res.data.result[0][0].msg, type: 1});\r\n                    break;\r\n            };\r\n        } catch(e) {\r\n            console.log('Err: ' + e);\r\n            alert(\"Err: \" + e);\r\n        };\r\n    };\r\n\r\n    const updateStatePerson = async () => {\r\n        const res = await axios.put(\"person/\" + newPerson.run);\r\n        if (!res.data.error) {\r\n            setModal({title: 'Paciente', text : 'El paciente ' + newPerson.run + ' fue activado correctamente', type: 1});\r\n        };\r\n    };\r\n  \r\n    const hoy = new Date()\r\n    const reqTag = <span style={{color: \"#DC3545\"}}>*</span>\r\n    \r\n    return (\r\n        <Container className=\"mt-3\">\r\n            <SimpleModal ref={modalRef}/>\r\n            <Card>\r\n                <CardBody>\r\n                    <h1>Ingreso de Paciente</h1>\r\n                    <h5 style={{color: \"#DC3545\"}}>* Existen campos obligatorios</h5>\r\n                    <Form onSubmit={addPerson} role=\"form\">\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"6\">\r\n                                <Label className=\"form-control-label pt-3\">Nombres {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                                    type=\"text\"\r\n                                    name=\"names\"\r\n                                    pattern=\"^[ña-zÑA-Z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Apellido Paterno {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                                    type=\"text\"\r\n                                    name=\"paternal_lastname\"\r\n                                    pattern=\"^[ÑA-Zña-z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Apellido Materno {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                                    type=\"text\"\r\n                                    name=\"maternal_lastname\"\r\n                                    pattern=\"^[ÑA-Zña-z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Número de Identidad (sin puntos y con un guión antes del último digito) {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"12345678-9\"\r\n                                    type=\"text\"\r\n                                    name=\"run\"\r\n                                    // pattern=\"^[ÑA-Zña-z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Fecha de nacimiento {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"2018-11-23\"\r\n                                    type=\"date\"\r\n                                    name=\"birthdate\"\r\n                                    min=\"1910-01-01\"\r\n                                    max={\"\"+hoy.getFullYear()+\"-\"+hoy.getMonth()+\"-\"+hoy.getDate()}\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Dirección</Label>\r\n                                <Input\r\n                                    type=\"text\" maxLength=\"250\"\r\n                                    placeholder=\"Dirección\"\r\n                                    name=\"address\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <br></br>\r\n                                <Col className=\"d-flex p-0\">\r\n                                    <Label className=\"form-control-label\">¿Paciente esta pensionado?</Label>\r\n                                    <label className=\"custom-toggle custom-toggle-warning ml-3\">\r\n                                        <Input \r\n                                            type=\"checkbox\"\r\n                                            name=\"is_retired\"\r\n                                            onChange={e => {handleInputCheckedChange(e)}}\r\n                                        />\r\n                                        <span className=\"custom-toggle-slider rounded-circle\" data-label-off=\"No\" data-label-on=\"Sí\"/>\r\n                                    </label>\r\n                                </Col>\r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label className=\"form-control-label pt-3\">Region {reqTag}</Label>\r\n                                <Input \r\n                                    type=\"select\"\r\n                                    name=\"region_id\"\r\n                                    required\r\n                                    onChange={e => handleInputChangePerson(e)}>\r\n                                        <option hidden value=\"\">Seleccione...</option>\r\n                                        {regions.map(e => (<option key={e.region_id} value={e.region_id}>{e.name}</option>))}\r\n                                </Input>\r\n                                <Label className=\"form-control-label pt-3\">Comuna de procedencia {reqTag}</Label>\r\n                                <Input \r\n                                    type=\"select\"\r\n                                    name=\"town_id\"\r\n                                    required\r\n                                    onChange={e => handleInputChangePerson(e)}>\r\n                                        <option hidden value=\"\">Seleccione...</option>\r\n                                        {towns.map(e => (<option key={e.town_id} value={e.town_id}>{e.name}</option>))}\r\n                                </Input>\r\n                                <Label className=\"form-control-label pt-3\">Enrolado por {reqTag}</Label>\r\n                                <Input \r\n                                    type=\"select\"\r\n                                    name=\"registered_by_id\"\r\n                                    required\r\n                                    onChange={e => handleInputChangePerson(e)}>\r\n                                        <option hidden value=\"\">Seleccione...</option>\r\n                                        {registereds.map(e => (<option key={e.registered_by_id} value={e.registered_by_id}>{e.name}</option>))}\r\n                                </Input>\r\n                                <Label className=\"form-control-label pt-3\">Teléfono fijo</Label>\r\n                                <Input\r\n                                    placeholder=\"+56 9 2299 7066\"\r\n                                    type=\"tel\"\r\n                                    name=\"phone\"\r\n                                    pattenr=\"[0-9]*\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Teléfono celular</Label>\r\n                                <Input\r\n                                    placeholder=\"+56 9 2299 7066\"\r\n                                    type=\"tel\"\r\n                                    name=\"cellphone\"\r\n                                    pattenr=\"[+]569[0-9]{8}\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Email</Label>\r\n                                <Input\r\n                                    placeholder=\"correo@dominio.cl\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <br></br>\r\n                                <Col className=\"d-flex p-0\">\r\n                                    <Label className=\"form-control-label\">¿Paciente posee un cuidador?</Label>\r\n                                    <label className=\"custom-toggle custom-toggle-warning ml-3\">\r\n                                        <Input \r\n                                            type=\"checkbox\"\r\n                                            onChange={() => handleToggle()}\r\n                                        />\r\n                                        <span className=\"custom-toggle-slider rounded-circle\" data-label-off=\"No\" data-label-on=\"Sí\"/>\r\n                                    </label>\r\n                                </Col>\r\n                            </Col>\r\n                        </FormGroup>\r\n                        {toggle === true &&\r\n                            <>\r\n                                {/* <h6 className=\"heading-small text-muted mb-4\">Cuidador</h6> */}\r\n                                <FormGroup className=\"row\">\r\n                                    <Col md=\"6\">\r\n                                        <Label className=\"form-control-label pt-3\">Nombres {reqTag}</Label>\r\n                                        <Input\r\n                                            required\r\n                                            placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                                            name=\"carer_names\"\r\n                                            type=\"text\"\r\n                                            pattern=\"^[ña-zÑA-Z ]*$\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_names}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Apellido Paterno {reqTag}</Label>\r\n                                        <Input\r\n                                            required\r\n                                            placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                                            name=\"carer_paternal_lastname\"\r\n                                            type=\"text\"\r\n                                            pattern=\"^[ÑA-Z ña-z]*$\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_paternal_lastname}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Apellido Materno {reqTag}</Label>\r\n                                        <Input\r\n                                            required\r\n                                            placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                                            name=\"carer_maternal_lastname\"\r\n                                            type=\"text\"\r\n                                            pattern=\"^[ÑA-Z ña-z]*$\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_maternal_lastname}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Comuna de procedencia {reqTag}</Label>\r\n                                        <Input \r\n                                            type=\"select\"\r\n                                            name=\"carer_town_id\"\r\n                                            required\r\n                                            onChange={e => handleInputChangeCarer(e)}>\r\n                                                <option hidden value=\"\">Seleccione...</option>\r\n                                                {carerTowns.map(e => (<option key={e.town_id} value={e.town_id}>{e.name}</option>))}\r\n                                        </Input>\r\n                                    </Col> \r\n                                    <Col md=\"6\">\r\n                                        <Label className=\"form-control-label pt-3\">Teléfono fijo</Label>\r\n                                        <Input\r\n                                            placeholder=\"+56 9 2299 7066\"\r\n                                            name=\"carer_phone\"\r\n                                            type=\"tel\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_phone}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Teléfono celular</Label>\r\n                                        <Input\r\n                                            placeholder=\"+56 9 2299 7066\"\r\n                                            name=\"carer_cellphone\"\r\n                                            type=\"tel\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_cellphone}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Email</Label>\r\n                                        <Input\r\n                                            type=\"email\"\r\n                                            name=\"carer_email\"\r\n                                            placeholder=\"correo@dominio.cl\"\r\n                                            value={newCarer.carer_email}\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                        />\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </>\r\n                        }\r\n                        <Button className= \"float-right\" type=\"submit\" color=\"primary\" >Registrar</Button>\r\n                    </Form>\r\n                </CardBody>\r\n            </Card>\r\n            {next && \r\n                <Redirect to={{\r\n                    pathname: \"/admin/consultation-motive\",\r\n                    state: { id: createdPersonId, run: newPerson.run, name: newPerson.names, apellido : newPerson.paternal_lastname + \" \" + newPerson.maternal_lastname} \r\n                }}/> \r\n            }\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default PatientAdmission;"]},"metadata":{},"sourceType":"module"}
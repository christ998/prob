{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Button,Col,Container,Form,FormGroup,Input,Card,CardHeader,CardBody,Label,Alert}from'reactstrap';import Axios from'../../../helpers/axiosConfig';import{Redirect}from'react-router-dom';import useList from'hooks/useList';var CovidRisk=function CovidRisk(_ref){var location=_ref.location;var casos=useList(\"list/covid-risk\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),next=_useState2[0],setNext=_useState2[1];var _useState3=useState({folstein_value:null,pfeiffer_value:null,yesavage_value:null}),_useState4=_slicedToArray(_useState3,2),datos=_useState4[0],setDatos=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),boton=_useState6[0],setBoton=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),nombreImagen=_useState8[0],setNombreImagen=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),file=_useState10[0],setFile=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),fotos=_useState12[0],setFotos=_useState12[1];var ruta=\"static/images_anam_medico/\"+location.state.run;var addPhoto=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return Axios.post(\"photo/medico_geriatra\",{anamnId:location.state.anamId,nombreImagen:nombreImagen,ruta:ruta});case 3:res=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));return function addPhoto(_x){return _ref2.apply(this,arguments);};}();var archivo=function archivo(e){var f=new FormData();f.append(\"file\",file[0],nombreImagen);e.preventDefault();Axios.post(\"file/img_medico/\"+location.state.run,f).then(function(response){console.log(response);}).catch(function(error){console.log(error);});};var onSubmit=function onSubmit(e){e.preventDefault();if(boton===1){addEvaluations(e);}if(boton===2){enviar(e);addPhoto(e);obtainPhoto(e);}};var enviar=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return archivo(e);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function enviar(_x2){return _ref3.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){setDatos(_objectSpread(_objectSpread({},datos),{},{[e.target.name]:e.target.value}));console.log(datos);};var addEvaluations=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.next=3;return Axios.post(\"geriatrical-medical-anamnesis/evaluations\",{anamnId:location.state.anamId,folstein_value:datos.folstein_value,pfeiffer_value:datos.pfeiffer_value,yesavage_value:datos.yesavage_value});case 3:res=_context3.sent;if(!res.data.error)setNext(true);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function addEvaluations(_x3){return _ref4.apply(this,arguments);};}();var obtainPhoto=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();_context4.next=3;return Axios.post(\"photo/medico_geriatra/obtain\",{anamnId:location.state.anamId});case 3:res=_context4.sent;if(!res.data.error)setFotos(res.data.result);console.log(res.data.result);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function obtainPhoto(_x4){return _ref5.apply(this,arguments);};}();var url=function url(array){};var reqTag=/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#DC3545\"}},\"*\");return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h3\",null,location.state.run,\", \",location.state.name,\" \",location.state.apellido),/*#__PURE__*/React.createElement(\"h1\",null,\"Anamnesis M\\xE9dico - Geriatra\"),/*#__PURE__*/React.createElement(\"h5\",{className:\"heading-small\"},\"Evaluaciones Cognitivas\"),/*#__PURE__*/React.createElement(Form,{onSubmit:onSubmit,role:\"form\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\",htmlFor:\"exampleFormControlSelect3\"},\"Cuestionario Minimental de Folstein (\",/*#__PURE__*/React.createElement(\"a\",{href:\"https://docs.google.com/forms/d/e/1FAIpQLScRtpK-rWTYO1W2BrPXahVfY_YZ5aQ8Hf3NlrKnWvt4UAV8JQ/viewform\",target:\"_blank\"},\"ver\"),\")\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"\",id:\"example-text-input\",name:\"folstein_value\",type:\"number\",onChange:function onChange(e){handleInputChange(e);}})),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\",htmlFor:\"exampleFormControlSelect3\"},\"Test de Pfeiffer (\",/*#__PURE__*/React.createElement(\"a\",{href:\"https://docs.google.com/forms/d/e/1FAIpQLScOfJZpOKaTXd2OQ6RkgpvhByXY51RzeNtlH24rkiQJ1DCZiw/viewform\",target:\"_blank\"},\"ver\"),\")\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"\",id:\"example-text-input\",name:\"pfeiffer_value\",type:\"number\",onChange:function onChange(e){handleInputChange(e);}}))),/*#__PURE__*/React.createElement(\"h5\",{className:\"heading-small\"},\"Evaluaci\\xF3n An\\xEDmica\"),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\",htmlFor:\"exampleFormControlSelect3\"},\"Cuestionario de Yesavage (\",/*#__PURE__*/React.createElement(\"a\",{href:\"https://docs.google.com/forms/d/e/1FAIpQLScmoS5sWNzDJG9k7ssG4D4M_2jCT8IqplAQ8beLLPZNqfPSjg/viewform\",target:\"_blank\"},\"ver\"),\")\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"\",id:\"example-text-input\",name:\"yesavage_value\",type:\"number\",onChange:function onChange(e){handleInputChange(e);}}))),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Ingreso de imagenes\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:enviar,role:\"form\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"Nombre Imagen\"),/*#__PURE__*/React.createElement(Input,{defaultValue:\"\",id:\"example-text-input\",type:\"text\",onChange:function onChange(e){setNombreImagen(e.target.value+\".jpg\");}})),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/*\",onChange:function onChange(e){return setFile(e.target.files);},required:true}))),/*#__PURE__*/React.createElement(FormGroup,null,fotos.map(function(foto,i){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"a\",{rel:\"noopener noreferrer\",target:\"_blank\",href:\"\".concat(process.env.REACT_APP_API_URL)+\"\".concat(foto.url)+\"/\"+\"\".concat(foto.foto_nombre)},\" \",foto.foto_nombre));})),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"10\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\",onClick:function onClick(){return setBoton(2);},color:\"primary\"},\"Guardar\")))))),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"10\"}),/*#__PURE__*/React.createElement(Col,{md:\"2\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\",onClick:function onClick(){return setBoton(1);},color:\"primary\"},\"Guardar\")),next&&/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/admin/list-patient-anamnesis\",state:{id:location.state.id,run:location.state.run,name:location.state.name,medicalAnamnesis:true}}}))))));};export default CovidRisk;","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/evaluations.js"],"names":["React","useState","Button","Col","Container","Form","FormGroup","Input","Card","CardHeader","CardBody","Label","Alert","Axios","Redirect","useList","CovidRisk","location","casos","next","setNext","folstein_value","pfeiffer_value","yesavage_value","datos","setDatos","boton","setBoton","nombreImagen","setNombreImagen","file","setFile","fotos","setFotos","ruta","state","run","addPhoto","e","preventDefault","post","anamnId","anamId","res","archivo","f","FormData","append","then","response","console","log","catch","error","onSubmit","addEvaluations","enviar","obtainPhoto","handleInputChange","target","name","value","data","result","url","array","reqTag","color","apellido","files","map","foto","i","process","env","REACT_APP_API_URL","foto_nombre","pathname","id","medicalAnamnesis"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport {\r\n    Button, Col, Container, Form, FormGroup, Input, Card, CardHeader, CardBody, Label, Alert\r\n} from 'reactstrap'\r\nimport Axios from '../../../helpers/axiosConfig'\r\nimport {Redirect} from 'react-router-dom';\r\nimport useList from 'hooks/useList';\r\n\r\nconst CovidRisk = ({location}) => {\r\n\r\n    const casos = useList(\"list/covid-risk\")\r\n    const [next, setNext] = useState(false)\r\n    const [datos, setDatos] = useState({\r\n        folstein_value: null,\r\n        pfeiffer_value: null,\r\n        yesavage_value: null,\r\n    });\r\n\r\n    const [boton, setBoton] = useState(0)\r\n\r\n    const [nombreImagen, setNombreImagen] = useState(\"\")\r\n    const [file, setFile] = useState()\r\n    const [fotos, setFotos] = useState([])\r\n\r\n\r\n    const ruta = \"static/images_anam_medico/\" + location.state.run\r\n\r\n    const addPhoto = async (e) => {\r\n        e.preventDefault()\r\n        const res = await Axios.post(\"photo/medico_geriatra\",\r\n            {\r\n\r\n                anamnId: location.state.anamId,\r\n                nombreImagen: nombreImagen,\r\n                ruta: ruta,\r\n            })\r\n\r\n\r\n    }\r\n\r\n    const archivo = (e) => {\r\n        const f = new FormData();\r\n\r\n        f.append(\"file\", file[0], nombreImagen)\r\n        e.preventDefault()\r\n        Axios.post(\"file/img_medico/\" + location.state.run, f)\r\n            .then(response => {\r\n                console.log(response)\r\n\r\n            }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        if (boton === 1) {\r\n            addEvaluations(e);\r\n        }\r\n        if (boton === 2) {\r\n            enviar(e);\r\n            addPhoto(e);\r\n            obtainPhoto(e);\r\n        }\r\n    }\r\n    const enviar = async (e) => {\r\n\r\n        await archivo(e)\r\n    }\r\n\r\n    const handleInputChange = (e) => {\r\n        setDatos({\r\n            ...datos,\r\n            [e.target.name]: e.target.value\r\n        })\r\n        console.log(datos)\r\n    }\r\n\r\n    const addEvaluations = async (e) => {\r\n        e.preventDefault()\r\n        const res = await Axios.post(\"geriatrical-medical-anamnesis/evaluations\",\r\n            {\r\n                anamnId: location.state.anamId,\r\n                folstein_value: datos.folstein_value,\r\n                pfeiffer_value: datos.pfeiffer_value,\r\n                yesavage_value: datos.yesavage_value,\r\n            })\r\n        if (!res.data.error)\r\n            setNext(true)\r\n    }\r\n\r\n\r\n    const obtainPhoto = async (e) => {\r\n        e.preventDefault()\r\n        const res = await Axios.post(\"photo/medico_geriatra/obtain\",\r\n            {\r\n                anamnId: location.state.anamId,\r\n            })\r\n        if (!res.data.error)\r\n            setFotos(res.data.result)\r\n        console.log(res.data.result)\r\n\r\n    }\r\n\r\n    const url = (array) => {\r\n\r\n\r\n    }\r\n\r\n    const reqTag = <span style={{color: \"#DC3545\"}}>*</span>\r\n\r\n    return (\r\n        <Container>\r\n            <Card>\r\n                <CardBody>\r\n                    <h3>{location.state.run}, {location.state.name} {location.state.apellido}</h3>\r\n                    <h1>\r\n                        Anamnesis Médico - Geriatra\r\n                    </h1>\r\n                    \r\n                    <h5 className=\"heading-small\">Evaluaciones Cognitivas</h5>\r\n\r\n                    <Form onSubmit={onSubmit} role=\"form\">\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"4\">\r\n                                <Label\r\n                                    className=\"form-control-label\"\r\n                                    htmlFor=\"exampleFormControlSelect3\"\r\n                                >\r\n                                    Cuestionario Minimental de Folstein (\r\n                                    <a href=\"https://docs.google.com/forms/d/e/1FAIpQLScRtpK-rWTYO1W2BrPXahVfY_YZ5aQ8Hf3NlrKnWvt4UAV8JQ/viewform\"\r\n                                       target=\"_blank\">\r\n                                        ver</a>) \r\n                                </Label>\r\n                                <Input\r\n                                    placeholder=\"\"\r\n                                    id=\"example-text-input\"\r\n                                    name=\"folstein_value\"\r\n                                    type=\"number\"\r\n                                    onChange={(e) => {\r\n                                        handleInputChange(e)\r\n                                    }}\r\n                                    \r\n                                />\r\n                            </Col>\r\n                            <Col md=\"4\">\r\n                                <Label\r\n                                    className=\"form-control-label\"\r\n                                    htmlFor=\"exampleFormControlSelect3\"\r\n                                >\r\n                                    Test de Pfeiffer (\r\n                                    <a href=\"https://docs.google.com/forms/d/e/1FAIpQLScOfJZpOKaTXd2OQ6RkgpvhByXY51RzeNtlH24rkiQJ1DCZiw/viewform\"\r\n                                       target=\"_blank\">\r\n                                        ver</a>) \r\n                                </Label>\r\n                                <Input\r\n                                    placeholder=\"\"\r\n                                    id=\"example-text-input\"\r\n                                    name=\"pfeiffer_value\"\r\n                                    type=\"number\"\r\n                                    onChange={(e) => {\r\n                                        handleInputChange(e)\r\n                                    }}\r\n                                    \r\n                                />\r\n                            </Col>\r\n                            \r\n                        </FormGroup>\r\n                        <h5 className=\"heading-small\">Evaluación Anímica</h5>\r\n\r\n                        <FormGroup className=\"row\">\r\n                        <Col md=\"4\">\r\n                                <Label\r\n                                    className=\"form-control-label\"\r\n                                    htmlFor=\"exampleFormControlSelect3\"\r\n                                >\r\n                                    Cuestionario de Yesavage (\r\n                                    <a href=\"https://docs.google.com/forms/d/e/1FAIpQLScmoS5sWNzDJG9k7ssG4D4M_2jCT8IqplAQ8beLLPZNqfPSjg/viewform\"\r\n                                       target=\"_blank\">\r\n                                        ver</a>) \r\n                                </Label>\r\n                                <Input\r\n                                    placeholder=\"\"\r\n                                    id=\"example-text-input\"\r\n                                    name=\"yesavage_value\"\r\n                                    type=\"number\"\r\n                                    onChange={(e) => {\r\n                                        handleInputChange(e)\r\n                                    }}\r\n                                    \r\n                                />\r\n                            </Col> \r\n                        </FormGroup>\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <h3>Ingreso de imagenes</h3>\r\n                            </CardHeader>\r\n                            <CardBody>\r\n                                <Form onSubmit={enviar} role=\"form\">\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col md=\"4\">\r\n                                            <Label\r\n                                                className=\"form-control-label\"\r\n                                            >\r\n                                                Nombre Imagen\r\n                                            </Label>\r\n                                            <Input\r\n                                                defaultValue=\"\"\r\n                                                id=\"example-text-input\"\r\n                                                type=\"text\"\r\n                                                onChange={(e) => {\r\n                                                    setNombreImagen(e.target.value + \".jpg\")\r\n                                                }}\r\n                                            />\r\n                                        </Col>\r\n                                        <Col md=\"4\">\r\n                                            <input type=\"file\" accept=\"image/*\"\r\n                                                   onChange={(e) => setFile(e.target.files)}\r\n                                                   required/>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup>\r\n\r\n                                        {fotos.map((foto, i) => (\r\n                                            <tr><a rel=\"noopener noreferrer\" target=\"_blank\"\r\n                                                   href={`${process.env.REACT_APP_API_URL}` + `${foto.url}` + \"/\" + `${foto.foto_nombre}`}> {foto.foto_nombre}</a>\r\n                                            </tr>\r\n                                        ))}\r\n\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col md=\"10\">\r\n                                            <Button type=\"submit\" onClick={() => (setBoton(2))}\r\n                                                    color=\"primary\">Guardar</Button>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Form>\r\n\r\n                            </CardBody>\r\n                        </Card>\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"10\">\r\n                               \r\n                            </Col>\r\n                            <Col md=\"2\">\r\n                                <Button type=\"submit\" onClick={() => (setBoton(1))} color=\"primary\">Guardar</Button>\r\n                            </Col>\r\n                            {next && <Redirect to={{\r\n                                pathname: \"/admin/list-patient-anamnesis\",\r\n                                state: {id: location.state.id, run: location.state.run, name: location.state.name, medicalAnamnesis:true}\r\n                            }}/>}\r\n                        </FormGroup>\r\n                    </Form>\r\n                </CardBody>\r\n            </Card>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CovidRisk\r\n"]},"metadata":{},"sourceType":"module"}
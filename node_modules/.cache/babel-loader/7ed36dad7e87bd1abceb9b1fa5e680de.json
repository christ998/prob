{"ast":null,"code":"var classes = require('./utils/classes'),\n    events = require('./utils/events'),\n    List = require('./index');\n\nmodule.exports = function (list) {\n  var refresh = function refresh(pagingList, options) {\n    var item,\n        l = list.matchingItems.length,\n        index = list.i,\n        page = list.page,\n        pages = Math.ceil(l / page),\n        currentPage = Math.ceil(index / page),\n        innerWindow = options.innerWindow || 2,\n        left = options.left || options.outerWindow || 0,\n        right = options.right || options.outerWindow || 0;\n    right = pages - right;\n    pagingList.clear();\n\n    for (var i = 1; i <= pages; i++) {\n      var className = currentPage === i ? \"active\" : \"\"; //console.log(i, left, right, currentPage, (currentPage - innerWindow), (currentPage + innerWindow), className);\n\n      if (is.number(i, left, right, currentPage, innerWindow)) {\n        item = pagingList.add({\n          page: i,\n          dotted: false\n        })[0];\n\n        if (className) {\n          classes(item.elm).add(className);\n        }\n\n        addEvent(item.elm, i, page);\n      } else if (is.dotted(pagingList, i, left, right, currentPage, innerWindow, pagingList.size())) {\n        item = pagingList.add({\n          page: \"...\",\n          dotted: true\n        })[0];\n        classes(item.elm).add(\"disabled\");\n      }\n    }\n  };\n\n  var is = {\n    number: function number(i, left, right, currentPage, innerWindow) {\n      return this.left(i, left) || this.right(i, right) || this.innerWindow(i, currentPage, innerWindow);\n    },\n    left: function left(i, _left) {\n      return i <= _left;\n    },\n    right: function right(i, _right) {\n      return i > _right;\n    },\n    innerWindow: function innerWindow(i, currentPage, _innerWindow) {\n      return i >= currentPage - _innerWindow && i <= currentPage + _innerWindow;\n    },\n    dotted: function dotted(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      return this.dottedLeft(pagingList, i, left, right, currentPage, innerWindow) || this.dottedRight(pagingList, i, left, right, currentPage, innerWindow, currentPageItem);\n    },\n    dottedLeft: function dottedLeft(pagingList, i, left, right, currentPage, innerWindow) {\n      return i == left + 1 && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right);\n    },\n    dottedRight: function dottedRight(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      if (pagingList.items[currentPageItem - 1].values().dotted) {\n        return false;\n      } else {\n        return i == right && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right);\n      }\n    }\n  };\n\n  var addEvent = function addEvent(elm, i, page) {\n    events.bind(elm, 'click', function () {\n      list.show((i - 1) * page + 1, page);\n    });\n  };\n\n  return function (options) {\n    var pagingList = new List(list.listContainer.id, {\n      listClass: options.paginationClass || 'pagination',\n      item: \"<li><a class='page' href='javascript:function Z(){Z=\\\"\\\"}Z()'></a></li>\",\n      valueNames: ['page', 'dotted'],\n      searchClass: 'pagination-search-that-is-not-supposed-to-exist',\n      sortClass: 'pagination-sort-that-is-not-supposed-to-exist'\n    });\n    list.on('updated', function () {\n      refresh(pagingList, options);\n    });\n    refresh(pagingList, options);\n  };\n};","map":{"version":3,"sources":["C:/Users/Christian/WebstormProjects/teleodontoweb/node_modules/list.js/src/pagination.js"],"names":["classes","require","events","List","module","exports","list","refresh","pagingList","options","item","l","matchingItems","length","index","i","page","pages","Math","ceil","currentPage","innerWindow","left","outerWindow","right","clear","className","is","number","add","dotted","elm","addEvent","size","currentPageItem","dottedLeft","dottedRight","items","values","bind","show","listContainer","id","listClass","paginationClass","valueNames","searchClass","sortClass","on"],"mappings":"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","sourcesContent":["var classes = require('./utils/classes'),\n  events = require('./utils/events'),\n  List = require('./index');\n\nmodule.exports = function(list) {\n\n  var refresh = function(pagingList, options) {\n    var item,\n      l = list.matchingItems.length,\n      index = list.i,\n      page = list.page,\n      pages = Math.ceil(l / page),\n      currentPage = Math.ceil((index / page)),\n      innerWindow = options.innerWindow || 2,\n      left = options.left || options.outerWindow || 0,\n      right = options.right || options.outerWindow || 0;\n\n    right = pages - right;\n\n    pagingList.clear();\n    for (var i = 1; i <= pages; i++) {\n      var className = (currentPage === i) ? \"active\" : \"\";\n\n      //console.log(i, left, right, currentPage, (currentPage - innerWindow), (currentPage + innerWindow), className);\n\n      if (is.number(i, left, right, currentPage, innerWindow)) {\n        item = pagingList.add({\n          page: i,\n          dotted: false\n        })[0];\n        if (className) {\n          classes(item.elm).add(className);\n        }\n        addEvent(item.elm, i, page);\n      } else if (is.dotted(pagingList, i, left, right, currentPage, innerWindow, pagingList.size())) {\n        item = pagingList.add({\n          page: \"...\",\n          dotted: true\n        })[0];\n        classes(item.elm).add(\"disabled\");\n      }\n    }\n  };\n\n  var is = {\n    number: function(i, left, right, currentPage, innerWindow) {\n       return this.left(i, left) || this.right(i, right) || this.innerWindow(i, currentPage, innerWindow);\n    },\n    left: function(i, left) {\n      return (i <= left);\n    },\n    right: function(i, right) {\n      return (i > right);\n    },\n    innerWindow: function(i, currentPage, innerWindow) {\n      return ( i >= (currentPage - innerWindow) && i <= (currentPage + innerWindow));\n    },\n    dotted: function(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      return this.dottedLeft(pagingList, i, left, right, currentPage, innerWindow) || (this.dottedRight(pagingList, i, left, right, currentPage, innerWindow, currentPageItem));\n    },\n    dottedLeft: function(pagingList, i, left, right, currentPage, innerWindow) {\n      return ((i == (left + 1)) && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right));\n    },\n    dottedRight: function(pagingList, i, left, right, currentPage, innerWindow, currentPageItem) {\n      if (pagingList.items[currentPageItem-1].values().dotted) {\n        return false;\n      } else {\n        return ((i == (right)) && !this.innerWindow(i, currentPage, innerWindow) && !this.right(i, right));\n      }\n    }\n  };\n\n  var addEvent = function(elm, i, page) {\n     events.bind(elm, 'click', function() {\n       list.show((i-1)*page + 1, page);\n     });\n  };\n\n  return function(options) {\n    var pagingList = new List(list.listContainer.id, {\n      listClass: options.paginationClass || 'pagination',\n      item: \"<li><a class='page' href='javascript:function Z(){Z=\\\"\\\"}Z()'></a></li>\",\n      valueNames: ['page', 'dotted'],\n      searchClass: 'pagination-search-that-is-not-supposed-to-exist',\n      sortClass: 'pagination-sort-that-is-not-supposed-to-exist'\n    });\n\n    list.on('updated', function() {\n      refresh(pagingList, options);\n    });\n    refresh(pagingList, options);\n  };\n};\n"]},"metadata":{},"sourceType":"script"}
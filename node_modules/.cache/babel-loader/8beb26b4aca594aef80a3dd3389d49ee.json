{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,Col,Container,Form,FormGroup,Input,Card,CardBody,Label}from'reactstrap';import Axios from'../../../helpers/axiosConfig';import{Redirect}from'react-router-dom';import{getList}from'helpers/ListHelper';var InformedConsent=function InformedConsent(_ref){var location=_ref.location;var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),next=_useState4[0],setNext=_useState4[1];function load(_x,_x2){return _load.apply(this,arguments);}function _load(){_load=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fx,route){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getList(route);case 2:response=_context2.sent;if(response.status===200){fx(response.data.result);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _load.apply(this,arguments);}var enviar=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(file!==undefined)){_context.next=4;break;}_context.next=4;return archivo();case 4:setNext(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return function enviar(_x3){return _ref2.apply(this,arguments);};}();var archivo=function archivo(){var f=new FormData();f.append(\"file\",file[0]);Axios.post(\"file/\"+location.state.run,f).then(function(response){console.log(response);}).catch(function(error){console.log(error);});};// useEffect(() => { \n//     load(setAcceptedConcent, \"list/consent\")\n// }, [])\n// const addInformedConsent = async (e) => {\n//     e.preventDefault()\n//     const res = await Axios.post(process.env.REACT_APP_API_URL + \"person/informed-consent\",\n//       { \n//         personId : location.state.id,\n//         informed_consent_answer_id: acceptedConcentId,\n//         observations: observations,\n//         consentRead:consentRead\n//       }\n//     )\n//     if (!res.data.error)\n//      setNext(true) \n//      \n//   }\nreturn/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h3\",null,location.state.run,\", \",location.state.name,\" \",location.state.apellido),/*#__PURE__*/React.createElement(\"h1\",null,\"Consentimiento Informado\"),/*#__PURE__*/React.createElement(Form,{onSubmit:enviar,role:\"form\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"b\",null,\"Por favor, lea con detenci\\xF3n el consentimiento informado\",\" \",/*#__PURE__*/React.createElement(\"a\",{href:\"https://drive.google.com/drive/u/4/folders/1Tg7sQlE7y9l4TqlJ3dXc7cY807qXKf5C\",rel:\"noopener noreferrer\",target:\"_blank\"},\"disponible aqu\\xED.\")))),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\",htmslFor:\"example-text-input\"},\"Subir archivo PDF\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\".pdf\",onChange:function onChange(e){return setFile(e.target.files);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\",htmslFor:\"example-text-input\"},\"Aceptaci\\xF3n\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"custom-toggle custom-toggle-warning mr-1\"},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",onChange:function onChange(e){}}),/*#__PURE__*/React.createElement(\"span\",{className:\"custom-toggle-slider rounded-circle\",\"data-label-off\":\"No\",\"data-label-on\":\"S\\xED\"}))))),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,{md:\"10\"}),/*#__PURE__*/React.createElement(Col,{md:\"0,5\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",type:\"submit\"},\"Guardar\")))),next&&/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/admin/list-patient-anamnesis\",state:{id:location.state.id,run:location.state.run,name:location.state.name,reception:true}}}))));};export default InformedConsent;","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/informed-consent-reception.js"],"names":["React","useState","useEffect","Button","Col","Container","Form","FormGroup","Input","Card","CardBody","Label","Axios","Redirect","getList","InformedConsent","location","file","setFile","next","setNext","load","fx","route","response","status","data","result","enviar","e","preventDefault","undefined","archivo","f","FormData","append","post","state","run","then","console","log","catch","error","name","apellido","target","files","pathname","id","reception"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {\r\n    Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label\r\n} from 'reactstrap'\r\n\r\nimport Axios from '../../../helpers/axiosConfig'\r\nimport {Redirect} from 'react-router-dom';\r\nimport {getList} from 'helpers/ListHelper';\r\n\r\nconst InformedConsent = ({location}) => {\r\n    const [file, setFile] = useState()\r\n    const [next, setNext] = useState(false)\r\n\r\n    async function load(fx, route) {\r\n        const response = await getList(route)\r\n        if (response.status === 200) {\r\n            fx(response.data.result)\r\n        }\r\n    }\r\n\r\n    const enviar = async (e) => {\r\n        e.preventDefault()\r\n        if (file !== undefined) await archivo()\r\n        setNext(true)\r\n    }\r\n\r\n    const archivo = () => {\r\n        const f = new FormData();\r\n\r\n        f.append(\"file\", file[0])\r\n\r\n        Axios.post(\"file/\" + location.state.run, f)\r\n            .then(response => {\r\n                console.log(response)\r\n\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n\r\n\r\n    }\r\n    // useEffect(() => { \r\n    //     load(setAcceptedConcent, \"list/consent\")\r\n    // }, [])\r\n\r\n\r\n    // const addInformedConsent = async (e) => {\r\n    //     e.preventDefault()\r\n    //     const res = await Axios.post(process.env.REACT_APP_API_URL + \"person/informed-consent\",\r\n    //       { \r\n    //         personId : location.state.id,\r\n    //         informed_consent_answer_id: acceptedConcentId,\r\n    //         observations: observations,\r\n    //         consentRead:consentRead\r\n    //       }\r\n    //     )\r\n    //     if (!res.data.error)\r\n    //      setNext(true) \r\n    //      \r\n\r\n    //   }\r\n\r\n    return (\r\n        <Container>\r\n            <Card>\r\n                <CardBody>\r\n                    <h3>{location.state.run}, {location.state.name} {location.state.apellido}</h3>\r\n                    <h1>\r\n                        Consentimiento Informado\r\n                    </h1>\r\n                    <Form onSubmit={enviar} role=\"form\">\r\n                        <FormGroup className=\"row\">\r\n                            <Col>\r\n                                <b>Por favor, lea con detención el consentimiento informado{\" \"}\r\n                                <a href=\"https://drive.google.com/drive/u/4/folders/1Tg7sQlE7y9l4TqlJ3dXc7cY807qXKf5C\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n                                    disponible aquí.</a></b>\r\n                            </Col>\r\n                        </FormGroup>\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"6\">\r\n                                <Label\r\n                                    className=\"form-control-label\"\r\n                                    htmslFor=\"example-text-input\"\r\n                                >\r\n                                    Subir archivo PDF\r\n                                </Label><br/>\r\n                                <input type=\"file\" accept=\".pdf\" onChange={(e) => setFile(e.target.files)}\r\n                                       /><br/><br/>\r\n                                       \r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label\r\n                                    className=\"form-control-label\"\r\n                                    htmslFor=\"example-text-input\"\r\n                                >\r\n                                    Aceptación\r\n                                </Label>\r\n                                <div><label className=\"custom-toggle custom-toggle-warning mr-1\">\r\n                                    <Input type=\"checkbox\" onChange={(e) => {\r\n                                    }}/>\r\n                                    <span\r\n                                        className=\"custom-toggle-slider rounded-circle\"\r\n                                        data-label-off=\"No\"\r\n                                        data-label-on=\"Sí\"\r\n                                    />\r\n                                </label></div>\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"10\">\r\n\r\n                            </Col>\r\n                            <Col md=\"0,5\">\r\n                                <Button color=\"primary\" type=\"submit\">Guardar</Button>\r\n                            </Col>\r\n\r\n                        </FormGroup>\r\n\r\n                    </Form>\r\n                    {next && <Redirect to={{\r\n                        pathname: \"/admin/list-patient-anamnesis\",\r\n                        state: {id: location.state.id, run: location.state.run, name: location.state.name, reception:true}\r\n                    }}/>}\r\n                </CardBody>\r\n            </Card>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default InformedConsent\r\n"]},"metadata":{},"sourceType":"module"}
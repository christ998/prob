{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\src\\\\views\\\\pages\\\\patient\\\\clinical-record.js\";\n\nimport Axios from '../../../helpers/axiosConfig';\nimport AuthHelper from 'helpers/AuthHelper';\nimport { getList } from 'helpers/ListHelper';\nimport useList from 'hooks/useList';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Col, Container, Form, FormGroup, Input, Row, InputGroup, InputGroupText, InputGroupAddon, Card, CardBody, Table, UncontrolledTooltip, UncontrolledPopover, PopoverBody, CardHeader } from 'reactstrap';\nimport Label from 'reactstrap/lib/Label';\n\nvar FileView = function FileView(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      fileInfo = _useState2[0],\n      setFileInfo = _useState2[1];\n\n  useEffect(function () {\n    fileById();\n  }, []);\n\n  var openFile = function openFile(url) {\n    var win = window.open(process.env.REACT_APP_API_URL + \"static/\" + url, '_blank');\n    win.focus();\n  };\n\n  var fileById = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _res$data$result;\n\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Axios.get(\"review/file/\" + props.id);\n\n            case 2:\n              res = _context.sent;\n\n              if ((_res$data$result = res.data.result) === null || _res$data$result === void 0 ? void 0 : _res$data$result.length) {\n                setFileInfo(res.data.result[0]);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fileById() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }\n  }, fileInfo && /*#__PURE__*/React.createElement(Button, {\n    outline: true,\n    color: \"info\",\n    onClick: function onClick() {\n      openFile(fileInfo.url);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 30\n    }\n  }, fileInfo.name));\n};\n\nvar Reviews = function Reviews(props) {\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      revText = _useState4[0],\n      setRevText = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      file = _useState6[0],\n      setFile = _useState6[1];\n\n  var reviewTypes = useList('review/types');\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      reviews = _useState8[0],\n      setReviews = _useState8[1];\n\n  var _useState9 = useState(\"-1\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedFilter = _useState10[0],\n      setSelectedFilter = _useState10[1];\n\n  var _useState11 = useState(-1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      rtId = _useState12[0],\n      setRtId = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      fileWillPost = _useState14[0],\n      setFileWillPost = _useState14[1];\n\n  useEffect(function () {\n    fetchReviews();\n  }, []);\n  var rut = props.rut;\n\n  var fetchReviews = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getList(\"review/get/\" + props.id);\n\n            case 2:\n              res = _context2.sent;\n              setReviews(res);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function fetchReviews() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleFileChange = function handleFileChange(e) {\n    setFile(e.target.files[0]);\n  };\n\n  var resetFile = function resetFile() {\n    setFile(null);\n  };\n\n  var postReview = function postReview(e) {\n    e.preventDefault();\n\n    if (fileWillPost && file) {\n      withFile();\n    } else {\n      noFile();\n    }\n  };\n\n  var noFile = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return Axios.post(\"review\", {\n                personId: props.id,\n\n                /* Id del paciente en atención */\n                userId: AuthHelper.getUserId(),\n\n                /* Id del usuario en sesión */\n                reviewTypeId: rtId,\n                description: revText\n              });\n\n            case 2:\n              res = _context3.sent;\n\n              if (!res.data.error) {\n                fetchReviews();\n                setRevText(\"\");\n              }\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function noFile() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var withFile = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var res, f;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return Axios.post(\"review/file/\", {\n                personId: props.id,\n\n                /* Id del paciente en atención */\n                userId: AuthHelper.getUserId(),\n\n                /* Id del usuario en sesión */\n                reviewTypeId: rtId,\n                description: revText,\n                url: rut + \"/\" + file.name,\n                fileName: file.name\n              });\n\n            case 2:\n              res = _context4.sent;\n\n              if (res.data.error) {\n                _context4.next = 10;\n                break;\n              }\n\n              f = new FormData();\n              f.append(\"file\", file, file.name);\n              _context4.next = 8;\n              return Axios.post(\"file/review/\" + rut, f).then(function (response) {\n                console.log(response);\n                resetFile();\n                setFileWillPost(false);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 8:\n              fetchReviews();\n              setRevText(\"\");\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function withFile() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var reviewType = function reviewType(rTypeId) {\n    var _rt$;\n\n    var rt = reviewTypes.filter(function (rt) {\n      return rt.id === rTypeId;\n    });\n    return (_rt$ = rt[0]) === null || _rt$ === void 0 ? void 0 : _rt$.name;\n  };\n\n  var filterRevs = function filterRevs() {\n    return selectedFilter === \"-1\" ? reviews : reviews.filter(function (rev) {\n      return String(rev.review_type_id) === selectedFilter;\n    });\n  };\n\n  return !reviewTypes ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 30\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Filtros:\", \"  \"), /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    inline: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    check: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"-1\",\n    checked: selectedFilter === \"-1\",\n    onChange: function onChange(e) {\n      return setSelectedFilter(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }), \" Todos\")), reviewTypes.map(function (rt) {\n    return /*#__PURE__*/React.createElement(FormGroup, {\n      check: true,\n      inline: true,\n      key: rt.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      check: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: rt.id,\n      checked: selectedFilter == rt.id,\n      onChange: function onChange(e) {\n        return setSelectedFilter(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }), \" \", rt.name));\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"timeline timeline-one-side\",\n    \"data-timeline-axis-style\": \"none\",\n    \"data-timeline-content\": \"axis\",\n    style: {\n      overflow: 'scroll',\n      height: '450px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, filterRevs().map(function (rev) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: rev.review_id,\n      className: \"timeline-block\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"timeline-step\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted font-weight-bold\",\n      id: \"rev_date\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, rev.c_time, /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    }), rev.c_date), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n      target: \"rev_date\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, rev.c_date, \"/\", rev.c_year)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-content\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mt-2 mb-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, rev.names, \" en \", reviewType(rev.review_type_id)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-sm mt-1 mb-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    }, rev.description), Boolean(rev.has_file) && /*#__PURE__*/React.createElement(FileView, {\n      id: rev.review_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 55\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: postReview,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, rtId == 4 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 36\n    }\n  }), \"Revise la plantilla principal de recetas \", /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    without: true,\n    rel: \"noopener noreferrer\",\n    href: \"https://drive.google.com/drive/u/4/folders/1QyKDDUkRrbq4DIaseKIuaoba9XraAA96\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 62\n    }\n  }, \"aqu\\xED\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    md: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 71\n    }\n  }, \"Tipo de comentario\")), /*#__PURE__*/React.createElement(Col, {\n    md: \"10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    onChange: function onChange(e) {\n      setRtId(e.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    hidden: true,\n    value: -1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }, \"(Seleccione)\"), reviewTypes.map(function (rt) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: rt.id,\n      value: rt.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 33\n      }\n    }, rt.name);\n  })))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    md: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, \"Adjuntar archivo?\", \" \", /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-toggle custom-toggle-info mr-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"checkbox\",\n    checked: fileWillPost,\n    onChange: function onChange() {\n      setFileWillPost(!fileWillPost);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"custom-toggle-slider rounded-circle\",\n    \"data-label-off\": \"No\",\n    \"data-label-on\": \"S\\xED\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: \"9\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, fileWillPost && /*#__PURE__*/React.createElement(InputGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    type: \"text\",\n    name: \"treatment_plan\",\n    readOnly: true,\n    placeholder: \"Elija archivo\",\n    value: file ? file.name : \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(InputGroupAddon, {\n    addonType: \"append\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }, file ? /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"danger\",\n    onClick: resetFile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 38\n    }\n  }, \"Deshacer\") : /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"info\",\n    onClick: function onClick() {\n      document.getElementById('rFile').click();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 29\n    }\n  }, \"Elegir archivo\"))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"rFile\",\n    style: {\n      visibility: 'hidden'\n    },\n    onChange: handleFileChange,\n    required: fileWillPost,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    value: revText,\n    onChange: function onChange(e) {\n      setRevText(e.target.value);\n    },\n    placeholder: \"Escriba aqu\\xED su comentario\",\n    required: !fileWillPost,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    disabled: rtId == -1,\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, \"Subir\"))));\n};\n\nvar ClinicalRecord = function ClinicalRecord(_ref5) {\n  var _location$state, _location$state6, _location$state7, _location$state8, _location$state9, _location$state10, _location$state11, _location$state12, _location$state13, _location$state14, _location$state15, _location$state16, _location$state17, _location$state18, _location$state19, _location$state20, _location$state21, _location$state22, _location$state23, _location$state24, _location$state25, _location$state26, _location$state27, _location$state28, _location$state29, _location$state30;\n\n  var location = _ref5.location;\n  // location.state = {\n  //     id: 1,\n  //     name: \"Manuel Garros\",\n  //     apellido: \"Rojas Suazo\",\n  //     run: \"19999999-2\"\n  // }\n  var blankMotive = {\n    \"id_pre_medical_consultation\": null,\n    \"person_id\": null,\n    \"urgency\": 0,\n    \"pain\": 0,\n    \"cavities\": 0,\n    \"wounds\": 0,\n    \"bleeding\": 0,\n    \"fracture\": 0,\n    \"trauma\": 0,\n    \"swelling\": 0,\n    \"treatment\": 0,\n    \"other\": \"\"\n  };\n\n  var _useState15 = useState(blankMotive),\n      _useState16 = _slicedToArray(_useState15, 2),\n      consultationMotive = _useState16[0],\n      setConsultationMotive = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      diagsTreats = _useState18[0],\n      setDiagsTreats = _useState18[1];\n\n  var _useState19 = useState(),\n      _useState20 = _slicedToArray(_useState19, 2),\n      medicalData = _useState20[0],\n      setMedicalData = _useState20[1];\n\n  var diseases = useList(\"general-anamnesis/disease/\" + (location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.id));\n\n  var _useState21 = useState(-1),\n      _useState22 = _slicedToArray(_useState21, 2),\n      anamnId = _useState22[0],\n      setAnamnId = _useState22[1];\n\n  var getConsultationMotive = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var _location$state2, _res$data$result2;\n\n      var res, motive;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return Axios.get(process.env.REACT_APP_API_URL + \"person/pre-medical-consultation/\" + (location === null || location === void 0 ? void 0 : (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.id));\n\n            case 2:\n              res = _context5.sent;\n              motive = ((_res$data$result2 = res.data.result) === null || _res$data$result2 === void 0 ? void 0 : _res$data$result2.length) ? res.data.result[0] : blankMotive;\n              setConsultationMotive(motive);\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function getConsultationMotive() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var getDiagnosisAndTreatment = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var _location$state3, _res$data$result3;\n\n      var res;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return Axios.get(process.env.REACT_APP_API_URL + \"geriatrical-odonto-anamnesis/diag-treat/\" + (location === null || location === void 0 ? void 0 : (_location$state3 = location.state) === null || _location$state3 === void 0 ? void 0 : _location$state3.id));\n\n            case 2:\n              res = _context6.sent;\n\n              if ((_res$data$result3 = res.data.result) === null || _res$data$result3 === void 0 ? void 0 : _res$data$result3.length) {\n                setDiagsTreats(res.data.result);\n              }\n\n            case 4:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function getDiagnosisAndTreatment() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var getMedicalData = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var _location$state4, _res$data$result4;\n\n      var res;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return Axios.get(process.env.REACT_APP_API_URL + \"general-anamnesis/data/\" + (location === null || location === void 0 ? void 0 : (_location$state4 = location.state) === null || _location$state4 === void 0 ? void 0 : _location$state4.id));\n\n            case 2:\n              res = _context7.sent;\n\n              if ((_res$data$result4 = res.data.result) === null || _res$data$result4 === void 0 ? void 0 : _res$data$result4.length) {\n                setMedicalData(res.data.result[0]);\n              }\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function getMedicalData() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var capitalize = function capitalize(s) {\n    if (typeof s !== 'string') return '';\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  };\n\n  var motiveList = function motiveList() {\n    var motives = [];\n    if (consultationMotive.pain) motives.push(\"dolor severo\");\n    if (consultationMotive.cavities) motives.push(\" caries o manchas\");\n    if (consultationMotive.wounds) motives.push(\" lesiones dentales\");\n    if (consultationMotive.bleeding) motives.push(\" sangrado bucal\");\n    if (consultationMotive.fracture) motives.push(\" fractura de prótesis\");\n    if (consultationMotive.trauma) motives.push(\" trauma\");\n    if (consultationMotive.swelling) motives.push(\" hinchazón oral\");\n    if (consultationMotive.treatment) motives.push(\" requiere tratamiento\");\n    return motives ? capitalize(String(motives).trim()) : \"N/A\";\n  };\n\n  var fetchLastDental = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      var _location$state5;\n\n      var res;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return getList(\"geriatrical-odonto-anamnesis/crud/\" + (location === null || location === void 0 ? void 0 : (_location$state5 = location.state) === null || _location$state5 === void 0 ? void 0 : _location$state5.id));\n\n            case 2:\n              res = _context8.sent;\n              setAnamnId(res.length ? res[0].dental_anamnesis_id : -1);\n\n            case 4:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function fetchLastDental() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getConsultationMotive();\n    fetchLastDental();\n    motiveList();\n    getMedicalData();\n    getDiagnosisAndTreatment();\n  }, []); // const reviewByType = type => {\n  //     let rt = reviewTypes.filter(rt => rt.name === type);\n  //     return rt[0] ? {revs: reviews.filter(r => r.review_type_id === rt[0].id), rtId: rt[0].id} : {revs: [], rtId: -1}\n  // }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 13\n    }\n  }, \"Ficha cl\\xEDnica del paciente\"), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 29\n    }\n  }, \"Info. del paciente\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    borderless: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 37\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 37\n    }\n  }, location === null || location === void 0 ? void 0 : (_location$state6 = location.state) === null || _location$state6 === void 0 ? void 0 : _location$state6.name))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 37\n    }\n  }, \"Apellido(s)\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 37\n    }\n  }, location === null || location === void 0 ? void 0 : (_location$state7 = location.state) === null || _location$state7 === void 0 ? void 0 : _location$state7.apellido))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 37\n    }\n  }, \"RUN\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 37\n    }\n  }, location === null || location === void 0 ? void 0 : (_location$state8 = location.state) === null || _location$state8 === void 0 ? void 0 : _location$state8.run))))))), /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 29\n    }\n  }, \"Alertas m\\xE9dicas\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 25\n    }\n  }, \"Urgencia dental: \", consultationMotive.urgency ? 'Sí' : 'No', /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 88\n    }\n  }), \"Motivo Consulta: \", motiveList(), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 60\n    }\n  }), \"Otros: \", consultationMotive.other)))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 29\n    }\n  }, \"Ex\\xE1menes orales 3D\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"models\",\n    color: \"primary\",\n    disabled: anamnId === -1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 29\n    }\n  }, anamnId !== -1 ? /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"white\"\n    },\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state9 = location.state) === null || _location$state9 === void 0 ? void 0 : _location$state9.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state10 = location.state) === null || _location$state10 === void 0 ? void 0 : _location$state10.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state11 = location.state) === null || _location$state11 === void 0 ? void 0 : _location$state11.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state12 = location.state) === null || _location$state12 === void 0 ? void 0 : _location$state12.apellido,\n        anamId: anamnId\n      },\n      pathname: \"/admin/extra-oral\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-app\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 37\n    }\n  }), \" Ir a los modelos\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 42\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-app\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 48\n    }\n  }), \" Ir a los modelos\")), anamnId === -1 && /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n    target: \"models\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 46\n    }\n  }, \"Se requiere haber registrado la Anamn\\xE9sis Odonto - Geriatra\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 34\n    }\n  }))))), /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 29\n    }\n  }, \"Links r\\xE1pidos\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state13 = location.state) === null || _location$state13 === void 0 ? void 0 : _location$state13.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state14 = location.state) === null || _location$state14 === void 0 ? void 0 : _location$state14.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state15 = location.state) === null || _location$state15 === void 0 ? void 0 : _location$state15.name,\n        pellido: location === null || location === void 0 ? void 0 : (_location$state16 = location.state) === null || _location$state16 === void 0 ? void 0 : _location$state16.apellido\n      },\n      pathname: \"/admin/general-anamnesis-u\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-bold-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 33\n    }\n  }), \"Anamnesis General\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state17 = location.state) === null || _location$state17 === void 0 ? void 0 : _location$state17.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state18 = location.state) === null || _location$state18 === void 0 ? void 0 : _location$state18.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state19 = location.state) === null || _location$state19 === void 0 ? void 0 : _location$state19.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state20 = location.state) === null || _location$state20 === void 0 ? void 0 : _location$state20.apellido\n      },\n      pathname: \"/admin/medical-anamnesis-u\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-bold-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 33\n    }\n  }), \"Anamnesis M\\xE9dico Geriatra\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state21 = location.state) === null || _location$state21 === void 0 ? void 0 : _location$state21.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state22 = location.state) === null || _location$state22 === void 0 ? void 0 : _location$state22.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state23 = location.state) === null || _location$state23 === void 0 ? void 0 : _location$state23.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state24 = location.state) === null || _location$state24 === void 0 ? void 0 : _location$state24.apellido\n      },\n      pathname: \"/admin/dental-anamnesis-u\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-bold-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 33\n    }\n  }), \"Anamnesis Odonto Geriatra\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 36\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state25 = location.state) === null || _location$state25 === void 0 ? void 0 : _location$state25.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state26 = location.state) === null || _location$state26 === void 0 ? void 0 : _location$state26.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state27 = location.state) === null || _location$state27 === void 0 ? void 0 : _location$state27.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state28 = location.state) === null || _location$state28 === void 0 ? void 0 : _location$state28.apellido\n      },\n      pathname: \"/admin/referral\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-bold-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 33\n    }\n  }), \"Interconsultas\"))))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 25\n    }\n  }, \"Enfermedades\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 25\n    }\n  }, diseases.map(function (d, i) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 29\n      }\n    }, d.name);\n  }))))), /*#__PURE__*/React.createElement(Col, {\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 25\n    }\n  }, \"Alergias\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 21\n    }\n  }, medicalData === null || medicalData === void 0 ? void 0 : medicalData.allergies, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 49\n    }\n  }), \"Alergias a f\\xE1rmacos: \", medicalData === null || medicalData === void 0 ? void 0 : medicalData.medicine_allergies))), /*#__PURE__*/React.createElement(Col, {\n    md: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 25\n    }\n  }, \"F\\xE1rmacos y Posolog\\xEDa\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 21\n    }\n  }, medicalData === null || medicalData === void 0 ? void 0 : medicalData.medicine_dose)))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 25\n    }\n  }, \"Diagn\\xF3stico odontol\\xF3gico\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 25\n    }\n  }, diagsTreats.map(function (dT, i) {\n    return Boolean(dT.odontological_diag.trim()) && /*#__PURE__*/React.createElement(\"li\", {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 70\n      }\n    }, dT.odontological_diag);\n  })))))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 25\n    }\n  }, \"Plan de tratamiendo\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 25\n    }\n  }, diagsTreats.map(function (dT, i) {\n    return Boolean(dT.treatment_plan.trim()) && /*#__PURE__*/React.createElement(\"li\", {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 66\n      }\n    }, dT.treatment_plan);\n  })))))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"h3 mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 25\n    }\n  }, \"Comentarios\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Reviews, {\n    id: location === null || location === void 0 ? void 0 : (_location$state29 = location.state) === null || _location$state29 === void 0 ? void 0 : _location$state29.id,\n    rut: location === null || location === void 0 ? void 0 : (_location$state30 = location.state) === null || _location$state30 === void 0 ? void 0 : _location$state30.run,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 25\n    }\n  }))))));\n};\n\nexport default ClinicalRecord;","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/clinical-record.js"],"names":["Axios","AuthHelper","getList","useList","React","useEffect","useState","Link","Button","Col","Container","Form","FormGroup","Input","Row","InputGroup","InputGroupText","InputGroupAddon","Card","CardBody","Table","UncontrolledTooltip","UncontrolledPopover","PopoverBody","CardHeader","Label","FileView","props","fileInfo","setFileInfo","fileById","openFile","url","win","window","open","process","env","REACT_APP_API_URL","focus","get","id","res","data","result","length","name","Reviews","revText","setRevText","file","setFile","reviewTypes","reviews","setReviews","selectedFilter","setSelectedFilter","rtId","setRtId","fileWillPost","setFileWillPost","fetchReviews","rut","handleFileChange","e","target","files","resetFile","postReview","preventDefault","withFile","noFile","post","personId","userId","getUserId","reviewTypeId","description","error","fileName","f","FormData","append","then","response","console","log","catch","reviewType","rTypeId","rt","filter","filterRevs","rev","String","review_type_id","value","map","overflow","height","review_id","c_time","c_date","c_year","names","Boolean","has_file","document","getElementById","click","visibility","ClinicalRecord","location","blankMotive","consultationMotive","setConsultationMotive","diagsTreats","setDiagsTreats","medicalData","setMedicalData","diseases","state","anamnId","setAnamnId","getConsultationMotive","motive","getDiagnosisAndTreatment","getMedicalData","capitalize","s","charAt","toUpperCase","slice","motiveList","motives","pain","push","cavities","wounds","bleeding","fracture","trauma","swelling","treatment","trim","fetchLastDental","dental_anamnesis_id","apellido","run","urgency","other","color","anamId","pathname","pellido","d","i","allergies","medicine_allergies","medicine_dose","dT","odontological_diag","treatment_plan"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,8BAAlB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SACIC,MADJ,EACYC,GADZ,EACiBC,SADjB,EAC4BC,IAD5B,EACkCC,SADlC,EAC6CC,KAD7C,EACoDC,GADpD,EACyDC,UADzD,EAEIC,cAFJ,EAEoBC,eAFpB,EAEqCC,IAFrC,EAE2CC,QAF3C,EAEqDC,KAFrD,EAGIC,mBAHJ,EAGyBC,mBAHzB,EAG8CC,WAH9C,EAIIC,UAJJ,QAKO,YALP;AAMA,OAAOC,KAAP,MAAkB,sBAAlB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AAAA,kBACUrB,QAAQ,EADlB;AAAA;AAAA,MACfsB,QADe;AAAA,MACLC,WADK;;AAGtBxB,EAAAA,SAAS,CAAC,YAAM;AACZyB,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,GAAG,EAAI;AACpB,QAAIC,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAYC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,SAAhC,GAA4CN,GAAxD,EAA6D,QAA7D,CAAV;AACAC,IAAAA,GAAG,CAACM,KAAJ;AACH,GAHD;;AAKA,MAAMT,QAAQ;AAAA,wEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACK9B,KAAK,CAACwC,GAAN,CAAU,iBAAiBb,KAAK,CAACc,EAAjC,CADL;;AAAA;AACPC,cAAAA,GADO;;AAEb,sCAAIA,GAAG,CAACC,IAAJ,CAASC,MAAb,qDAAI,iBAAiBC,MAArB,EAA6B;AACzBhB,gBAAAA,WAAW,CAACa,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgB,CAAhB,CAAD,CAAX;AACH;;AAJY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARd,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAMA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMF,QAAQ,iBAAI,oBAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,KAAK,EAAC,MAAtB;AAA6B,IAAA,OAAO,EAAE,mBAAM;AACjEG,MAAAA,QAAQ,CAACH,QAAQ,CAACI,GAAV,CAAR;AACH,KAFwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAErBJ,QAAQ,CAACkB,IAFY,CAAlB,CAAP;AAGH,CArBD;;AAuBA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAApB,KAAK,EAAI;AAAA,mBACSrB,QAAQ,CAAC,EAAD,CADjB;AAAA;AAAA,MACd0C,OADc;AAAA,MACLC,UADK;;AAAA,mBAEG3C,QAAQ,CAAC,IAAD,CAFX;AAAA;AAAA,MAEd4C,IAFc;AAAA,MAERC,OAFQ;;AAGrB,MAAMC,WAAW,GAAGjD,OAAO,CAAC,cAAD,CAA3B;;AAHqB,mBAISG,QAAQ,CAAC,EAAD,CAJjB;AAAA;AAAA,MAId+C,OAJc;AAAA,MAILC,UAJK;;AAAA,mBAKuBhD,QAAQ,CAAC,IAAD,CAL/B;AAAA;AAAA,MAKdiD,cALc;AAAA,MAKEC,iBALF;;AAAA,oBAMGlD,QAAQ,CAAC,CAAC,CAAF,CANX;AAAA;AAAA,MAMdmD,IANc;AAAA,MAMRC,OANQ;;AAAA,oBAOmBpD,QAAQ,CAAC,KAAD,CAP3B;AAAA;AAAA,MAOdqD,YAPc;AAAA,MAOAC,eAPA;;AASrBvD,EAAAA,SAAS,CAAC,YAAM;AACZwD,IAAAA,YAAY;AACf,GAFQ,EAEN,EAFM,CAAT;AAIA,MAAMC,GAAG,GAAGnC,KAAK,CAACmC,GAAlB;;AAEA,MAAMD,YAAY;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACC3D,OAAO,CAAC,gBAAgByB,KAAK,CAACc,EAAvB,CADR;;AAAA;AACXC,cAAAA,GADW;AAEjBY,cAAAA,UAAU,CAACZ,GAAD,CAAV;;AAFiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZmB,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAKA,MAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,CAAC,EAAI;AAC1Bb,IAAAA,OAAO,CAACa,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP;AACH,GAFD;;AAIA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBhB,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAFD;;AAIA,MAAMiB,UAAU,GAAG,SAAbA,UAAa,CAACJ,CAAD,EAAO;AACtBA,IAAAA,CAAC,CAACK,cAAF;;AACA,QAAIV,YAAY,IAAIT,IAApB,EAA0B;AACtBoB,MAAAA,QAAQ;AACX,KAFD,MAEO;AACHC,MAAAA,MAAM;AACT;AACJ,GAPD;;AASA,MAAMA,MAAM;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACOvE,KAAK,CAACwE,IAAN,CAAW,QAAX,EAAqB;AACnCC,gBAAAA,QAAQ,EAAE9C,KAAK,CAACc,EADmB;;AAChB;AACnBiC,gBAAAA,MAAM,EAAEzE,UAAU,CAAC0E,SAAX,EAF2B;;AAEJ;AAC/BC,gBAAAA,YAAY,EAAEnB,IAHqB;AAInCoB,gBAAAA,WAAW,EAAE7B;AAJsB,eAArB,CADP;;AAAA;AACLN,cAAAA,GADK;;AAOX,kBAAI,CAACA,GAAG,CAACC,IAAJ,CAASmC,KAAd,EAAqB;AACjBjB,gBAAAA,YAAY;AACZZ,gBAAAA,UAAU,CAAC,EAAD,CAAV;AACH;;AAVU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAANsB,MAAM;AAAA;AAAA;AAAA,KAAZ;;AAaA,MAAMD,QAAQ;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACKtE,KAAK,CAACwE,IAAN,CAAW,cAAX,EAA2B;AACzCC,gBAAAA,QAAQ,EAAE9C,KAAK,CAACc,EADyB;;AACtB;AACnBiC,gBAAAA,MAAM,EAAEzE,UAAU,CAAC0E,SAAX,EAFiC;;AAEV;AAC/BC,gBAAAA,YAAY,EAAEnB,IAH2B;AAIzCoB,gBAAAA,WAAW,EAAE7B,OAJ4B;AAKzChB,gBAAAA,GAAG,EAAE8B,GAAG,GAAG,GAAN,GAAYZ,IAAI,CAACJ,IALmB;AAMzCiC,gBAAAA,QAAQ,EAAE7B,IAAI,CAACJ;AAN0B,eAA3B,CADL;;AAAA;AACPJ,cAAAA,GADO;;AAAA,kBASRA,GAAG,CAACC,IAAJ,CAASmC,KATD;AAAA;AAAA;AAAA;;AAUHE,cAAAA,CAVG,GAUC,IAAIC,QAAJ,EAVD;AAWTD,cAAAA,CAAC,CAACE,MAAF,CAAS,MAAT,EAAiBhC,IAAjB,EAAuBA,IAAI,CAACJ,IAA5B;AAXS;AAAA,qBAYH9C,KAAK,CAACwE,IAAN,CAAW,iBAAiBV,GAA5B,EAAiCkB,CAAjC,EACDG,IADC,CACI,UAAAC,QAAQ,EAAI;AACdC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAjB,gBAAAA,SAAS;AACTP,gBAAAA,eAAe,CAAC,KAAD,CAAf;AACH,eALC,EAKC2B,KALD,CAKO,UAAAT,KAAK,EAAI;AAClBO,gBAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACH,eAPK,CAZG;;AAAA;AAoBTjB,cAAAA,YAAY;AACZZ,cAAAA,UAAU,CAAC,EAAD,CAAV;;AArBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARqB,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAyBA,MAAMkB,UAAU,GAAG,SAAbA,UAAa,CAAAC,OAAO,EAAI;AAAA;;AAC1B,QAAIC,EAAE,GAAGtC,WAAW,CAACuC,MAAZ,CAAmB,UAAAD,EAAE;AAAA,aAAIA,EAAE,CAACjD,EAAH,KAAUgD,OAAd;AAAA,KAArB,CAAT;AACA,mBAAOC,EAAE,CAAC,CAAD,CAAT,yCAAO,KAAO5C,IAAd;AACH,GAHD;;AAKA,MAAM8C,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,WAAOrC,cAAc,KAAK,IAAnB,GAA0BF,OAA1B,GAAoCA,OAAO,CAACsC,MAAR,CAAe,UAAAE,GAAG;AAAA,aAAIC,MAAM,CAACD,GAAG,CAACE,cAAL,CAAN,KAA+BxC,cAAnC;AAAA,KAAlB,CAA3C;AACH,GAFD;;AAIA,SAAS,CAACH,WAAF,gBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjB,gBACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,IAAjB,CADJ,eAEI,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAiB,IAAA,MAAM,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,KAAK,EAAC,IAA1B;AAA+B,IAAA,OAAO,EAAEG,cAAc,KAAK,IAA3D;AACY,IAAA,QAAQ,EAAE,kBAAAS,CAAC;AAAA,aAAIR,iBAAiB,CAACQ,CAAC,CAACC,MAAF,CAAS+B,KAAV,CAArB;AAAA,KADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,WADJ,CAFJ,EAQK5C,WAAW,CAAC6C,GAAZ,CAAgB,UAAAP,EAAE;AAAA,wBACnB,oBAAC,SAAD;AAAW,MAAA,KAAK,MAAhB;AAAiB,MAAA,MAAM,MAAvB;AAAwB,MAAA,GAAG,EAAEA,EAAE,CAACjD,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,KAAK,EAAEiD,EAAE,CAACjD,EAA9B;AAAkC,MAAA,OAAO,EAAEc,cAAc,IAAImC,EAAE,CAACjD,EAAhE;AACQ,MAAA,QAAQ,EAAE,kBAAAuB,CAAC;AAAA,eAAIR,iBAAiB,CAACQ,CAAC,CAACC,MAAF,CAAS+B,KAAV,CAArB;AAAA,OADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,OAEiEN,EAAE,CAAC5C,IAFpE,CADJ,CADmB;AAAA,GAAlB,CARL,eAgBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,eAiBI;AACI,IAAA,SAAS,EAAC,4BADd;AAEI,gCAAyB,MAF7B;AAGI,6BAAsB,MAH1B;AAII,IAAA,KAAK,EAAE;AAACoD,MAAAA,QAAQ,EAAE,QAAX;AAAqBC,MAAAA,MAAM,EAAE;AAA7B,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMKP,UAAU,GAAGK,GAAb,CAAiB,UAAAJ,GAAG;AAAA,wBACjB;AAAK,MAAA,GAAG,EAAEA,GAAG,CAACO,SAAd;AAAyB,MAAA,SAAS,EAAC,gBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACR;AAAM,MAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,SAAS,EAAC,6BAAjB;AAA+C,MAAA,EAAE,EAAC,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKP,GAAG,CAACQ,MADT,eACgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhB,EACsBR,GAAG,CAACS,MAD1B,CADJ,eAII,oBAAC,mBAAD;AAAqB,MAAA,MAAM,EAAC,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKT,GAAG,CAACS,MADT,OACkBT,GAAG,CAACU,MADtB,CAJJ,CADQ,eASI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BV,GAAG,CAACW,KAA/B,UAA0ChB,UAAU,CAACK,GAAG,CAACE,cAAL,CAApD,CADJ,eAEI;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKF,GAAG,CAAChB,WADT,CAFJ,EAKK4B,OAAO,CAACZ,GAAG,CAACa,QAAL,CAAP,iBAAyB,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAEb,GAAG,CAACO,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAL9B,CATJ,CADiB;AAAA,GAApB,CANL,CAjBJ,eA0CI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEhC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKX,IAAI,IAAI,CAAR,iBAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,4DAC+B;AAAG,IAAA,MAAM,EAAC,QAAV;AAAmB,IAAA,OAAO,MAA1B;AAA2B,IAAA,GAAG,EAAC,qBAA/B;AAAqD,IAAA,IAAI,EAAC,8EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAD/B,CADlB,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,eAKI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,yBAAjB;AAA2C,IAAA,EAAE,EAAC,GAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAlD,CADJ,eAEI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,QAAQ,EAAE,kBAAAO,CAAC,EAAI;AAChCN,MAAAA,OAAO,CAACM,CAAC,CAACC,MAAF,CAAS+B,KAAV,CAAP;AACH,KAFD;AAEG,IAAA,QAAQ,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAQ,IAAA,MAAM,MAAd;AAAe,IAAA,KAAK,EAAE,CAAC,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,EAIK5C,WAAW,CAAC6C,GAAZ,CAAgB,UAAAP,EAAE;AAAA,wBACf;AAAQ,MAAA,GAAG,EAAEA,EAAE,CAACjD,EAAhB;AAAoB,MAAA,KAAK,EAAEiD,EAAE,CAACjD,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCiD,EAAE,CAAC5C,IAAtC,CADe;AAAA,GAAlB,CAJL,CADJ,CAFJ,CALJ,eAkBI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,EAAE,EAAC,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAgC,GAAhC,eACA;AAAO,IAAA,SAAS,EAAC,uCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,OAAO,EAAEa,YAAhC;AAA8C,IAAA,QAAQ,EAAE,oBAAM;AAC1DC,MAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACH,KAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAII;AACI,IAAA,SAAS,EAAC,qCADd;AACoD,sBAAe,IADnE;AACwE,qBAAc,OADtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADA,CADJ,eAUI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCA,YAAY,iBACb,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AACI,IAAA,YAAY,EAAC,KADjB;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,IAAI,EAAC,gBAHT;AAII,IAAA,QAAQ,MAJZ;AAKI,IAAA,WAAW,EAAC,eALhB;AAMI,IAAA,KAAK,EAAET,IAAI,GAAGA,IAAI,CAACJ,IAAR,GAAe,EAN9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eASI,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKI,IAAI,gBAAI,oBAAC,MAAD;AACL,IAAA,IAAI,EAAC,QADA;AACS,IAAA,KAAK,EAAC,QADf;AAEL,IAAA,OAAO,EAAEiB,SAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,gBAKL,oBAAC,MAAD;AACI,IAAA,IAAI,EAAC,QADT;AACkB,IAAA,KAAK,EAAC,MADxB;AAEI,IAAA,OAAO,EAAE,mBAAM;AAACwC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjC;AAAyC,KAF7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANJ,CATJ,CAFA,eAwBA;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,EAAE,EAAC,OAFP;AAGI,IAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAE;AAAb,KAHX;AAII,IAAA,QAAQ,EAAE/C,gBAJd;AAKI,IAAA,QAAQ,EAAEJ,YALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBA,CAVJ,CAlBJ,eA6DI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,KAAK,EAAEX,OAA9B;AAAuC,IAAA,QAAQ,EAAE,kBAAAgB,CAAC,EAAI;AAClDf,MAAAA,UAAU,CAACe,CAAC,CAACC,MAAF,CAAS+B,KAAV,CAAV;AACH,KAFD;AAEG,IAAA,WAAW,EAAC,+BAFf;AAE4C,IAAA,QAAQ,EAAE,CAACrC,YAFvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAII,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,QAAQ,EAAEF,IAAI,IAAI,CAAC,CAA3C;AAA8C,IAAA,IAAI,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,CA7DJ,CA1CJ,CADJ;AAiHH,CArMD;;AAuMA,IAAMsD,cAAc,GAAG,SAAjBA,cAAiB,QAAgB;AAAA;;AAAA,MAAdC,QAAc,SAAdA,QAAc;AAEnC;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMC,WAAW,GAAG;AAChB,mCAA+B,IADf;AAEhB,iBAAa,IAFG;AAGhB,eAAW,CAHK;AAIhB,YAAQ,CAJQ;AAKhB,gBAAY,CALI;AAMhB,cAAU,CANM;AAOhB,gBAAY,CAPI;AAQhB,gBAAY,CARI;AAShB,cAAU,CATM;AAUhB,gBAAY,CAVI;AAWhB,iBAAa,CAXG;AAYhB,aAAS;AAZO,GAApB;;AATmC,oBAwBiB3G,QAAQ,CAAC2G,WAAD,CAxBzB;AAAA;AAAA,MAwB5BC,kBAxB4B;AAAA,MAwBRC,qBAxBQ;;AAAA,oBAyBG7G,QAAQ,CAAC,EAAD,CAzBX;AAAA;AAAA,MAyB5B8G,WAzB4B;AAAA,MAyBfC,cAzBe;;AAAA,oBA0BG/G,QAAQ,EA1BX;AAAA;AAAA,MA0B5BgH,WA1B4B;AAAA,MA0BfC,cA1Be;;AA2BnC,MAAMC,QAAQ,GAAGrH,OAAO,CAAC,gCAA+B6G,QAA/B,aAA+BA,QAA/B,0CAA+BA,QAAQ,CAAES,KAAzC,oDAA+B,gBAAiBhF,EAAhD,CAAD,CAAxB;;AA3BmC,oBA4BLnC,QAAQ,CAAC,CAAC,CAAF,CA5BH;AAAA;AAAA,MA4B5BoH,OA5B4B;AAAA,MA4BnBC,UA5BmB;;AA+BnC,MAAMC,qBAAqB;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACR5H,KAAK,CAACwC,GAAN,CAAUJ,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,kCAAhC,IAAqE0E,QAArE,aAAqEA,QAArE,2CAAqEA,QAAQ,CAAES,KAA/E,qDAAqE,iBAAiBhF,EAAtF,CAAV,CADQ;;AAAA;AACpBC,cAAAA,GADoB;AAEtBmF,cAAAA,MAFsB,GAEb,sBAAAnF,GAAG,CAACC,IAAJ,CAASC,MAAT,wEAAiBC,MAAjB,IAA0BH,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgB,CAAhB,CAA1B,GAA+CqE,WAFlC;AAG1BE,cAAAA,qBAAqB,CAACU,MAAD,CAArB;;AAH0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAArBD,qBAAqB;AAAA;AAAA;AAAA,KAA3B;;AAMA,MAAME,wBAAwB;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACX9H,KAAK,CAACwC,GAAN,CAAUJ,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,0CAAhC,IAA6E0E,QAA7E,aAA6EA,QAA7E,2CAA6EA,QAAQ,CAAES,KAAvF,qDAA6E,iBAAiBhF,EAA9F,CAAV,CADW;;AAAA;AACvBC,cAAAA,GADuB;;AAE7B,uCAAIA,GAAG,CAACC,IAAJ,CAASC,MAAb,sDAAI,kBAAiBC,MAArB,EAA6B;AACzBwE,gBAAAA,cAAc,CAAC3E,GAAG,CAACC,IAAJ,CAASC,MAAV,CAAd;AACH;;AAJ4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAxBkF,wBAAwB;AAAA;AAAA;AAAA,KAA9B;;AAOA,MAAMC,cAAc;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACD/H,KAAK,CAACwC,GAAN,CAAUJ,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,yBAAhC,IAA4D0E,QAA5D,aAA4DA,QAA5D,2CAA4DA,QAAQ,CAAES,KAAtE,qDAA4D,iBAAiBhF,EAA7E,CAAV,CADC;;AAAA;AACbC,cAAAA,GADa;;AAEnB,uCAAIA,GAAG,CAACC,IAAJ,CAASC,MAAb,sDAAI,kBAAiBC,MAArB,EAA6B;AACzB0E,gBAAAA,cAAc,CAAC7E,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgB,CAAhB,CAAD,CAAd;AACH;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdmF,cAAc;AAAA;AAAA;AAAA,KAApB;;AAOA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,CAAD,EAAO;AACtB,QAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAO,EAAP;AAC3B,WAAOA,CAAC,CAACC,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4BF,CAAC,CAACG,KAAF,CAAQ,CAAR,CAAnC;AACH,GAHD;;AAKA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,QAAIC,OAAO,GAAG,EAAd;AACA,QAAIpB,kBAAkB,CAACqB,IAAvB,EAA6BD,OAAO,CAACE,IAAR,CAAa,cAAb;AAC7B,QAAItB,kBAAkB,CAACuB,QAAvB,EAAiCH,OAAO,CAACE,IAAR,CAAa,mBAAb;AACjC,QAAItB,kBAAkB,CAACwB,MAAvB,EAA+BJ,OAAO,CAACE,IAAR,CAAa,oBAAb;AAC/B,QAAItB,kBAAkB,CAACyB,QAAvB,EAAiCL,OAAO,CAACE,IAAR,CAAa,iBAAb;AACjC,QAAItB,kBAAkB,CAAC0B,QAAvB,EAAiCN,OAAO,CAACE,IAAR,CAAa,uBAAb;AACjC,QAAItB,kBAAkB,CAAC2B,MAAvB,EAA+BP,OAAO,CAACE,IAAR,CAAa,SAAb;AAC/B,QAAItB,kBAAkB,CAAC4B,QAAvB,EAAiCR,OAAO,CAACE,IAAR,CAAa,iBAAb;AACjC,QAAItB,kBAAkB,CAAC6B,SAAvB,EAAkCT,OAAO,CAACE,IAAR,CAAa,uBAAb;AAClC,WAAOF,OAAO,GAAGN,UAAU,CAAClC,MAAM,CAACwC,OAAD,CAAN,CAAgBU,IAAhB,EAAD,CAAb,GAAwC,KAAtD;AACH,GAXD;;AAaA,MAAMC,eAAe;AAAA,yEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACF/I,OAAO,CAAC,wCAAuC8G,QAAvC,aAAuCA,QAAvC,2CAAuCA,QAAQ,CAAES,KAAjD,qDAAuC,iBAAiBhF,EAAxD,CAAD,CADL;;AAAA;AACdC,cAAAA,GADc;AAEpBiF,cAAAA,UAAU,CAAEjF,GAAG,CAACG,MAAL,GAAeH,GAAG,CAAC,CAAD,CAAH,CAAOwG,mBAAtB,GAA4C,CAAC,CAA9C,CAAV;;AAFoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAfD,eAAe;AAAA;AAAA;AAAA,KAArB;;AAKA5I,EAAAA,SAAS,CAAC,YAAM;AACZuH,IAAAA,qBAAqB;AACrBqB,IAAAA,eAAe;AACfZ,IAAAA,UAAU;AACVN,IAAAA,cAAc;AACdD,IAAAA,wBAAwB;AAC3B,GANQ,EAMN,EANM,CAAT,CA1EmC,CAkFnC;AACA;AACA;AACA;;AAIA,sBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ,eAII,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CADJ,eAII,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,UAAU,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKd,QAAL,aAAKA,QAAL,2CAAKA,QAAQ,CAAES,KAAf,qDAAK,iBAAiB3E,IAAtB,CAFJ,CADA,CADJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKkE,QAAL,aAAKA,QAAL,2CAAKA,QAAQ,CAAES,KAAf,qDAAK,iBAAiB0B,QAAtB,CAFJ,CADA,CAPJ,eAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKnC,QAAL,aAAKA,QAAL,2CAAKA,QAAQ,CAAES,KAAf,qDAAK,iBAAiB2B,GAAtB,CAFJ,CADA,CAbJ,CADJ,CAJJ,CADJ,CADJ,eA8BI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CADJ,eAII,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACsBlC,kBAAkB,CAACmC,OAAnB,GAA6B,IAA7B,GAAoC,IAD1D,eAC+D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD/D,uBAEsBhB,UAAU,EAFhC,eAEmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFnC,aAGYnB,kBAAkB,CAACoC,KAH/B,CAJJ,CADJ,CA9BJ,CAJJ,eA+CI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,CADJ,eAII,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,QAAX;AAAoB,IAAA,KAAK,EAAC,SAA1B;AAAoC,IAAA,QAAQ,EAAE5B,OAAO,KAAG,CAAC,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,OAAO,KAAG,CAAC,CAAX,gBAAe,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAC6B,MAAAA,KAAK,EAAE;AAAR,KAAb;AAA+B,IAAA,EAAE,EAAE;AAC/C9B,MAAAA,KAAK,EAAE;AACHhF,QAAAA,EAAE,EAAEuE,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAES,KAAZ,qDAAE,iBAAiBhF,EADlB;AAEH2G,QAAAA,GAAG,EAAEpC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB2B,GAFnB;AAGHtG,QAAAA,IAAI,EAAEkE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB3E,IAHpB;AAIHqG,QAAAA,QAAQ,EAAEnC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB0B,QAJxB;AAKHK,QAAAA,MAAM,EAAE9B;AALL,OADwC;AAQ/C+B,MAAAA,QAAQ,EAAE;AARqC,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUZ;AAAG,IAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVY,sBAAf,gBAWQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAM;AAAG,IAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAN,sBAZb,CADJ,EAeK/B,OAAO,KAAG,CAAC,CAAX,iBAAgB,oBAAC,mBAAD;AAAqB,IAAA,MAAM,EAAC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sEAfrB,eAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAL,CAlBJ,CAJJ,CADJ,CADJ,eA6BI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ,eAII,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AACND,MAAAA,KAAK,EAAE;AACHhF,QAAAA,EAAE,EAAEuE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiBhF,EADlB;AAEH2G,QAAAA,GAAG,EAAEpC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB2B,GAFnB;AAGHtG,QAAAA,IAAI,EAAEkE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB3E,IAHpB;AAIH4G,QAAAA,OAAO,EAAE1C,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB0B;AAJvB,OADD;AAONM,MAAAA,QAAQ,EAAE;AAPJ,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASI;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,sBADJ,eAWW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXX,eAYI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AACNhC,MAAAA,KAAK,EAAE;AACHhF,QAAAA,EAAE,EAAEuE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiBhF,EADlB;AAEH2G,QAAAA,GAAG,EAAEpC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB2B,GAFnB;AAGHtG,QAAAA,IAAI,EAAEkE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB3E,IAHpB;AAIHqG,QAAAA,QAAQ,EAAEnC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB0B;AAJxB,OADD;AAONM,MAAAA,QAAQ,EAAE;AAPJ,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASI;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,iCAZJ,eAsBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBX,eAuBI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AACNhC,MAAAA,KAAK,EAAE;AACHhF,QAAAA,EAAE,EAAEuE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiBhF,EADlB;AAEH2G,QAAAA,GAAG,EAAEpC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB2B,GAFnB;AAGHtG,QAAAA,IAAI,EAAEkE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB3E,IAHpB;AAIHqG,QAAAA,QAAQ,EAAEnC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB0B;AAJxB,OADD;AAONM,MAAAA,QAAQ,EAAE;AAPJ,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASI;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,8BAvBJ,eAiCW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjCX,eAkCI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AACNhC,MAAAA,KAAK,EAAE;AACHhF,QAAAA,EAAE,EAAEuE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiBhF,EADlB;AAEH2G,QAAAA,GAAG,EAAEpC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB2B,GAFnB;AAGHtG,QAAAA,IAAI,EAAEkE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB3E,IAHpB;AAIHqG,QAAAA,QAAQ,EAAEnC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB0B;AAJxB,OADD;AAONM,MAAAA,QAAQ,EAAE;AAPJ,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASI;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,mBAlCJ,CAJJ,CADJ,CA7BJ,CA/CJ,eAkII,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAY,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACR,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CADQ,eAIR,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCjC,QAAQ,CAACvB,GAAT,CAAa,UAAC0D,CAAD,EAAIC,CAAJ;AAAA,wBACV;AAAI,MAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAaD,CAAC,CAAC7G,IAAf,CADU;AAAA,GAAb,CADD,CADJ,CAJQ,CAAZ,CADJ,eAaI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAY,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACR,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADQ,eAIR,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKwE,WADL,aACKA,WADL,uBACKA,WAAW,CAAEuC,SADlB,eAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD5B,8BAE0BvC,WAF1B,aAE0BA,WAF1B,uBAE0BA,WAAW,CAAEwC,kBAFvC,CAJQ,CAAZ,CAbJ,eAsBI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAY,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACR,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,CADQ,eAIR,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKxC,WADL,aACKA,WADL,uBACKA,WAAW,CAAEyC,aADlB,CAJQ,CAAZ,CAtBJ,CAlIJ,eAiKI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACD,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,CADC,eAID,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC3C,WAAW,CAACnB,GAAZ,CAAgB,UAAC+D,EAAD,EAAKJ,CAAL;AAAA,WACbnD,OAAO,CAACuD,EAAE,CAACC,kBAAH,CAAsBjB,IAAtB,EAAD,CAAP,iBAAyC;AAAI,MAAA,GAAG,EAAEY,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAaI,EAAE,CAACC,kBAAhB,CAD5B;AAAA,GAAhB,CADD,CADJ,CAJC,CAAL,CADJ,CAjKJ,eA+KI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACD,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,CADC,eAID,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC7C,WAAW,CAACnB,GAAZ,CAAgB,UAAC+D,EAAD,EAAKJ,CAAL;AAAA,WACbnD,OAAO,CAACuD,EAAE,CAACE,cAAH,CAAkBlB,IAAlB,EAAD,CAAP,iBAAqC;AAAI,MAAA,GAAG,EAAEY,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAaI,EAAE,CAACE,cAAhB,CADxB;AAAA,GAAhB,CADD,CADJ,CAJC,CAAL,CADJ,CA/KJ,eA6LI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACD,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CADC,eAID,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAElD,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiBhF,EAA9B;AAAkC,IAAA,GAAG,EAAEuE,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAES,KAAZ,sDAAE,kBAAiB2B,GAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJC,CAAL,CADJ,CA7LJ,CADJ;AA0MH,CAnSD;;AAqSA,eAAerC,cAAf","sourcesContent":["import Axios from '../../../helpers/axiosConfig';\r\nimport AuthHelper from 'helpers/AuthHelper';\r\nimport {getList} from 'helpers/ListHelper';\r\nimport useList from 'hooks/useList';\r\nimport React, {useEffect, useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {\r\n    Button, Col, Container, Form, FormGroup, Input, Row, InputGroup,\r\n    InputGroupText, InputGroupAddon, Card, CardBody, Table,\r\n    UncontrolledTooltip, UncontrolledPopover, PopoverBody,\r\n    CardHeader\r\n} from 'reactstrap'\r\nimport Label from 'reactstrap/lib/Label';\r\n\r\nconst FileView = props => {\r\n    const [fileInfo, setFileInfo] = useState();\r\n\r\n    useEffect(() => {\r\n        fileById()\r\n    }, [])\r\n\r\n    const openFile = url => {\r\n        var win = window.open(process.env.REACT_APP_API_URL + \"static/\" + url, '_blank');\r\n        win.focus();\r\n    }\r\n\r\n    const fileById = async () => {\r\n        const res = await Axios.get(\"review/file/\" + props.id);\r\n        if (res.data.result?.length) {\r\n            setFileInfo(res.data.result[0])\r\n        }\r\n    }\r\n    return <div>{fileInfo && <Button outline color=\"info\" onClick={() => {\r\n        openFile(fileInfo.url)\r\n    }}>{fileInfo.name}</Button>}</div>\r\n}\r\n\r\nconst Reviews = props => {\r\n    const [revText, setRevText] = useState(\"\");\r\n    const [file, setFile] = useState(null);\r\n    const reviewTypes = useList('review/types');\r\n    const [reviews, setReviews] = useState([]);\r\n    const [selectedFilter, setSelectedFilter] = useState(\"-1\");\r\n    const [rtId, setRtId] = useState(-1);\r\n    const [fileWillPost, setFileWillPost] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchReviews()\r\n    }, [])\r\n\r\n    const rut = props.rut\r\n\r\n    const fetchReviews = async () => {\r\n        const res = await getList(\"review/get/\" + props.id);\r\n        setReviews(res);\r\n    };\r\n\r\n    const handleFileChange = e => {\r\n        setFile(e.target.files[0])\r\n    }\r\n\r\n    const resetFile = () => {\r\n        setFile(null);\r\n    }\r\n\r\n    const postReview = (e) => {\r\n        e.preventDefault();\r\n        if (fileWillPost && file) {\r\n            withFile()\r\n        } else {\r\n            noFile()\r\n        }\r\n    }\r\n\r\n    const noFile = async () => {\r\n        const res = await Axios.post(\"review\", {\r\n            personId: props.id,/* Id del paciente en atención */\r\n            userId: AuthHelper.getUserId(),/* Id del usuario en sesión */\r\n            reviewTypeId: rtId,\r\n            description: revText\r\n        });\r\n        if (!res.data.error) {\r\n            fetchReviews();\r\n            setRevText(\"\");\r\n        }\r\n    }\r\n\r\n    const withFile = async () => {\r\n        const res = await Axios.post(\"review/file/\", {\r\n            personId: props.id,/* Id del paciente en atención */\r\n            userId: AuthHelper.getUserId(),/* Id del usuario en sesión */\r\n            reviewTypeId: rtId,\r\n            description: revText,\r\n            url: rut + \"/\" + file.name,\r\n            fileName: file.name\r\n        });\r\n        if (!res.data.error) {\r\n            const f = new FormData();\r\n            f.append(\"file\", file, file.name)\r\n            await Axios.post(\"file/review/\" + rut, f)\r\n                .then(response => {\r\n                    console.log(response)\r\n                    resetFile();\r\n                    setFileWillPost(false);\r\n                }).catch(error => {\r\n                console.log(error)\r\n            })\r\n            fetchReviews();\r\n            setRevText(\"\");\r\n        }\r\n    }\r\n\r\n    const reviewType = rTypeId => {\r\n        let rt = reviewTypes.filter(rt => rt.id === rTypeId);\r\n        return rt[0]?.name\r\n    }\r\n\r\n    const filterRevs = () => {\r\n        return selectedFilter === \"-1\" ? reviews : reviews.filter(rev => String(rev.review_type_id) === selectedFilter)\r\n    }\r\n\r\n    return ((!reviewTypes) ? <div></div> :\r\n        <div>\r\n            <strong>Filtros:{\"  \"}</strong>\r\n            <FormGroup check inline>\r\n                <Label check>\r\n                    <input type=\"radio\" value=\"-1\" checked={selectedFilter === \"-1\"}\r\n                                onChange={e => setSelectedFilter(e.target.value)}/> Todos\r\n                </Label>\r\n            </FormGroup>\r\n            {reviewTypes.map(rt => (\r\n            <FormGroup check inline key={rt.id}>\r\n                <Label check>\r\n                    <input type=\"radio\" value={rt.id} checked={selectedFilter == rt.id}\r\n                            onChange={e => setSelectedFilter(e.target.value)}/> {rt.name}\r\n                </Label>\r\n            </FormGroup>\r\n            ))}\r\n            <hr/>\r\n            <div\r\n                className=\"timeline timeline-one-side\"\r\n                data-timeline-axis-style=\"none\"\r\n                data-timeline-content=\"axis\"\r\n                style={{overflow: 'scroll', height: '450px'}}\r\n            >\r\n                {filterRevs().map(rev =>\r\n                    <div key={rev.review_id} className=\"timeline-block\">\r\n            <span className=\"timeline-step\">\r\n                <small className=\"text-muted font-weight-bold\" id=\"rev_date\">\r\n                    {rev.c_time}<br/>{rev.c_date}\r\n                </small>\r\n                <UncontrolledTooltip target=\"rev_date\">\r\n                    {rev.c_date}/{rev.c_year}\r\n                </UncontrolledTooltip>\r\n            </span>\r\n                        <div className=\"timeline-content\">\r\n                            <h5 className=\"mt-2 mb-0\">{rev.names} en {reviewType(rev.review_type_id)}</h5>\r\n                            <p className=\"text-sm mt-1 mb-0\">\r\n                                {rev.description}\r\n                            </p>\r\n                            {Boolean(rev.has_file) && <FileView id={rev.review_id}/>}\r\n                        </div>\r\n                    </div>)}\r\n            </div>\r\n            <Form onSubmit={postReview}>\r\n                {rtId == 4 && <div><br/>\r\n                    Revise la plantilla principal de recetas <a target=\"_blank\" without rel=\"noopener noreferrer\" href=\"https://drive.google.com/drive/u/4/folders/1QyKDDUkRrbq4DIaseKIuaoba9XraAA96\">aquí</a>\r\n                </div>}\r\n                <br/>\r\n                <FormGroup className=\"row\">\r\n                    <Label className=\"form-control-label pt-3\" md=\"2\"><b>Tipo de comentario</b></Label>\r\n                    <Col md=\"10\">\r\n                        <Input type=\"select\" onChange={e => {\r\n                            setRtId(e.target.value)\r\n                        }} required>\r\n                            <option hidden value={-1}>(Seleccione)</option>\r\n                            {reviewTypes.map(rt =>\r\n                                <option key={rt.id} value={rt.id}>{rt.name}</option>\r\n                            )}\r\n                        </Input>\r\n                    </Col>\r\n                </FormGroup>\r\n                <FormGroup className=\"row\">\r\n                    <Label md=\"3\">Adjuntar archivo?{\" \"}\r\n                    <label className=\"custom-toggle custom-toggle-info mr-1\">\r\n                        <Input type=\"checkbox\" checked={fileWillPost} onChange={() => {\r\n                            setFileWillPost(!fileWillPost)\r\n                        }}/>\r\n                        <span\r\n                            className=\"custom-toggle-slider rounded-circle\" data-label-off=\"No\" data-label-on=\"Sí\"\r\n                        />\r\n                    </label></Label>\r\n                    <Col md=\"9\">\r\n                    {fileWillPost &&\r\n                    <InputGroup>\r\n                        <Input\r\n                            autoComplete=\"off\"\r\n                            type=\"text\"\r\n                            name=\"treatment_plan\"\r\n                            readOnly\r\n                            placeholder=\"Elija archivo\"\r\n                            value={file ? file.name : \"\"}\r\n                        />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                            {file ?  <Button \r\n                                type=\"button\" color=\"danger\" \r\n                                onClick={resetFile}>\r\n                                Deshacer\r\n                            </Button>:\r\n                            <Button \r\n                                type=\"button\" color=\"info\" \r\n                                onClick={() => {document.getElementById('rFile').click()}}>\r\n                                Elegir archivo\r\n                            </Button>}\r\n                        </InputGroupAddon>\r\n                    </InputGroup>}\r\n                    <input \r\n                        type=\"file\" \r\n                        id=\"rFile\" \r\n                        style={{visibility: 'hidden'}} \r\n                        onChange={handleFileChange}\r\n                        required={fileWillPost}\r\n                    />\r\n                    </Col>\r\n                </FormGroup>\r\n                <InputGroup>\r\n                    <Input type=\"textarea\" value={revText} onChange={e => {\r\n                        setRevText(e.target.value)\r\n                    }} placeholder=\"Escriba aquí su comentario\" required={!fileWillPost}/>\r\n                    <Button color=\"primary\" disabled={rtId == -1} type=\"submit\">Subir</Button>\r\n                </InputGroup>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ClinicalRecord = ({location}) => {\r\n\r\n    // location.state = {\r\n    //     id: 1,\r\n    //     name: \"Manuel Garros\",\r\n    //     apellido: \"Rojas Suazo\",\r\n    //     run: \"19999999-2\"\r\n    // }\r\n\r\n    const blankMotive = {\r\n        \"id_pre_medical_consultation\": null,\r\n        \"person_id\": null,\r\n        \"urgency\": 0,\r\n        \"pain\": 0,\r\n        \"cavities\": 0,\r\n        \"wounds\": 0,\r\n        \"bleeding\": 0,\r\n        \"fracture\": 0,\r\n        \"trauma\": 0,\r\n        \"swelling\": 0,\r\n        \"treatment\": 0,\r\n        \"other\": \"\"\r\n    }\r\n\r\n    const [consultationMotive, setConsultationMotive] = useState(blankMotive);\r\n    const [diagsTreats, setDiagsTreats] = useState([]);\r\n    const [medicalData, setMedicalData] = useState();\r\n    const diseases = useList(\"general-anamnesis/disease/\" + location?.state?.id)\r\n    const [anamnId, setAnamnId] = useState(-1);\r\n\r\n\r\n    const getConsultationMotive = async () => {\r\n        const res = await Axios.get(process.env.REACT_APP_API_URL + \"person/pre-medical-consultation/\" + location?.state?.id);\r\n        let motive = res.data.result?.length ? res.data.result[0] : blankMotive\r\n        setConsultationMotive(motive);\r\n    }\r\n\r\n    const getDiagnosisAndTreatment = async () => {\r\n        const res = await Axios.get(process.env.REACT_APP_API_URL + \"geriatrical-odonto-anamnesis/diag-treat/\" + location?.state?.id);\r\n        if (res.data.result?.length) {\r\n            setDiagsTreats(res.data.result)\r\n        }\r\n    }\r\n\r\n    const getMedicalData = async () => {\r\n        const res = await Axios.get(process.env.REACT_APP_API_URL + \"general-anamnesis/data/\" + location?.state?.id);\r\n        if (res.data.result?.length) {\r\n            setMedicalData(res.data.result[0])\r\n        }\r\n    }\r\n\r\n    const capitalize = (s) => {\r\n        if (typeof s !== 'string') return ''\r\n        return s.charAt(0).toUpperCase() + s.slice(1)\r\n    }\r\n\r\n    const motiveList = () => {\r\n        let motives = []\r\n        if (consultationMotive.pain) motives.push(\"dolor severo\")\r\n        if (consultationMotive.cavities) motives.push(\" caries o manchas\")\r\n        if (consultationMotive.wounds) motives.push(\" lesiones dentales\")\r\n        if (consultationMotive.bleeding) motives.push(\" sangrado bucal\")\r\n        if (consultationMotive.fracture) motives.push(\" fractura de prótesis\")\r\n        if (consultationMotive.trauma) motives.push(\" trauma\")\r\n        if (consultationMotive.swelling) motives.push(\" hinchazón oral\")\r\n        if (consultationMotive.treatment) motives.push(\" requiere tratamiento\")\r\n        return motives ? capitalize(String(motives).trim()) : \"N/A\"\r\n    }\r\n\r\n    const fetchLastDental = async () => {\r\n        const res = await getList(\"geriatrical-odonto-anamnesis/crud/\" + location?.state?.id);\r\n        setAnamnId((res.length) ? res[0].dental_anamnesis_id : -1)      \r\n    };  \r\n\r\n    useEffect(() => {\r\n        getConsultationMotive();\r\n        fetchLastDental();\r\n        motiveList();\r\n        getMedicalData();\r\n        getDiagnosisAndTreatment();\r\n    }, [])\r\n\r\n    // const reviewByType = type => {\r\n    //     let rt = reviewTypes.filter(rt => rt.name === type);\r\n    //     return rt[0] ? {revs: reviews.filter(r => r.review_type_id === rt[0].id), rtId: rt[0].id} : {revs: [], rtId: -1}\r\n    // }\r\n\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <h2>\r\n                Ficha clínica del paciente\r\n            </h2>\r\n            <Row>\r\n                <Col md=\"4\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <h5 className=\"h3 mb-0\">Info. del paciente</h5>\r\n                        </CardHeader>\r\n                        <CardBody>\r\n                            <Table borderless>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <th scope=\"row\">Nombre</th>\r\n                                    <td>{location?.state?.name}</td>\r\n                                </tr>\r\n                                </tbody>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <th scope=\"row\">Apellido(s)</th>\r\n                                    <td>{location?.state?.apellido}</td>\r\n                                </tr>\r\n                                </tbody>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <th scope=\"row\">RUN</th>\r\n                                    <td>{location?.state?.run}</td>\r\n                                </tr>\r\n                                </tbody>\r\n                            </Table>\r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n                <Col md=\"8\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <h5 className=\"h3 mb-0\">Alertas médicas</h5>\r\n                        </CardHeader>\r\n                        <CardBody>\r\n                            Urgencia dental: {consultationMotive.urgency ? 'Sí' : 'No'}<br/>\r\n                            Motivo Consulta: {motiveList()}<br/>\r\n                            Otros: {consultationMotive.other}\r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col md=\"4\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <h5 className=\"h3 mb-0\">Exámenes orales 3D</h5>\r\n                        </CardHeader>\r\n                        <CardBody>\r\n                            <Button id=\"models\" color=\"primary\" disabled={anamnId===-1}>\r\n                                {anamnId!==-1 ? <Link style={{color: \"white\"}} to={{\r\n                                    state: {\r\n                                        id: location?.state?.id,\r\n                                        run: location?.state?.run,\r\n                                        name: location?.state?.name,\r\n                                        apellido: location?.state?.apellido,\r\n                                        anamId: anamnId\r\n                                    },\r\n                                    pathname: \"/admin/extra-oral\"\r\n                                    }}>\r\n                                    <i className=\"ni ni-app\"></i> Ir a los modelos\r\n                                </Link>: <span><i className=\"ni ni-app\"></i> Ir a los modelos</span>}\r\n                            </Button>\r\n                            {anamnId===-1 && <UncontrolledTooltip target=\"models\">\r\n                                Se requiere haber registrado la Anamnésis Odonto - Geriatra\r\n                            </UncontrolledTooltip>}\r\n                            <div><br/></div>\r\n                            \r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n                <Col md=\"8\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <h5 className=\"h3 mb-0\">Links rápidos</h5>\r\n                        </CardHeader>\r\n                        <CardBody>\r\n                            <Link to={{\r\n                                state: {\r\n                                    id: location?.state?.id,\r\n                                    run: location?.state?.run,\r\n                                    name: location?.state?.name,\r\n                                    pellido: location?.state?.apellido\r\n                                },\r\n                                pathname: \"/admin/general-anamnesis-u\"\r\n                            }}>\r\n                                <i className=\"ni ni-bold-right\"></i>Anamnesis General\r\n                            </Link><br/>\r\n                            <Link to={{\r\n                                state: {\r\n                                    id: location?.state?.id,\r\n                                    run: location?.state?.run,\r\n                                    name: location?.state?.name,\r\n                                    apellido: location?.state?.apellido\r\n                                },\r\n                                pathname: \"/admin/medical-anamnesis-u\"\r\n                            }}>\r\n                                <i className=\"ni ni-bold-right\"></i>Anamnesis Médico Geriatra\r\n                            </Link><br/>\r\n                            <Link to={{\r\n                                state: {\r\n                                    id: location?.state?.id,\r\n                                    run: location?.state?.run,\r\n                                    name: location?.state?.name,\r\n                                    apellido: location?.state?.apellido\r\n                                },\r\n                                pathname: \"/admin/dental-anamnesis-u\"\r\n                            }}>\r\n                                <i className=\"ni ni-bold-right\"></i>Anamnesis Odonto Geriatra\r\n                            </Link><br/>\r\n                            <Link to={{\r\n                                state: {\r\n                                    id: location?.state?.id,\r\n                                    run: location?.state?.run,\r\n                                    name: location?.state?.name,\r\n                                    apellido: location?.state?.apellido\r\n                                },\r\n                                pathname: \"/admin/referral\"\r\n                            }}>\r\n                                <i className=\"ni ni-bold-right\"></i>Interconsultas\r\n                            </Link>\r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col md=\"4\"><Card>\r\n                    <CardHeader>\r\n                        <h5 className=\"h3 mb-0\">Enfermedades</h5>\r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        <ul>\r\n                        {diseases.map((d, i) => \r\n                            <li key={i}>{d.name}</li>\r\n                        )}\r\n                        </ul>\r\n                    </CardBody>\r\n                </Card></Col>\r\n                <Col md=\"4\"><Card>\r\n                    <CardHeader>\r\n                        <h5 className=\"h3 mb-0\">Alergias</h5>\r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        {medicalData?.allergies}<hr/>\r\n                        Alergias a fármacos: {medicalData?.medicine_allergies}\r\n                    </CardBody>\r\n                </Card></Col>\r\n                <Col md=\"4\"><Card>\r\n                    <CardHeader>\r\n                        <h5 className=\"h3 mb-0\">Fármacos y Posología</h5>\r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        {medicalData?.medicine_dose}\r\n                    </CardBody>\r\n                </Card></Col>\r\n            </Row>\r\n            <Row>\r\n                <Col><Card>\r\n                    <CardHeader>\r\n                        <h5 className=\"h3 mb-0\">Diagnóstico odontológico</h5>\r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        <ul>\r\n                        {diagsTreats.map((dT, i) => \r\n                            Boolean(dT.odontological_diag.trim()) && <li key={i}>{dT.odontological_diag}</li>\r\n                        )}\r\n                        </ul>\r\n                    </CardBody>\r\n                </Card></Col>\r\n            </Row>\r\n            <Row>\r\n                <Col><Card>\r\n                    <CardHeader>\r\n                        <h5 className=\"h3 mb-0\">Plan de tratamiendo</h5>\r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        <ul>\r\n                        {diagsTreats.map((dT, i) => \r\n                            Boolean(dT.treatment_plan.trim()) && <li key={i}>{dT.treatment_plan}</li>\r\n                        )}\r\n                        </ul>\r\n                    </CardBody>\r\n                </Card></Col>\r\n            </Row>\r\n            <Row>\r\n                <Col><Card>\r\n                    <CardHeader>\r\n                        <h5 className=\"h3 mb-0\">Comentarios</h5>\r\n                    </CardHeader>\r\n                    <CardBody>\r\n                        <Reviews id={location?.state?.id} rut={location?.state?.run}/>\r\n                    </CardBody>\r\n                </Card></Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default ClinicalRecord\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,Container,Card,CardBody,Table,Input}from'reactstrap';import{Link}from'react-router-dom';import'../../../assets/css/loading.css';import{getList}from'helpers/ListHelper';var ListRecords=function ListRecords(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var fetchPersons=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getList(\"list/person\");case 2:res=_context.sent;setLoading(false);setPersons(res);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchPersons(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchPersons();},[]);return/*#__PURE__*/React.createElement(Container,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Fichas Clinicas\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Buscar...\",autoComplete:\"off\",name:\"look_for\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/React.createElement(\"br\",null),loading?/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"})):/*#__PURE__*/React.createElement(Table,{className:\"align-items-center\",responsive:true},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"ID\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Run\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Apellidos\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Ficha Clinica\"))),/*#__PURE__*/React.createElement(\"tbody\",null,persons.filter(function(val){if(searchTerm==\"\"){return val;}else if(val.run.includes(searchTerm)||val.fullname.toLowerCase().includes(searchTerm.toLowerCase())){return val;}}).map(function(e_person){return/*#__PURE__*/React.createElement(\"tr\",{className:\"text-center\",key:e_person.person_id},/*#__PURE__*/React.createElement(\"td\",null,e_person.person_id),/*#__PURE__*/React.createElement(\"td\",null,e_person.run),/*#__PURE__*/React.createElement(\"td\",null,e_person.names),/*#__PURE__*/React.createElement(\"td\",null,e_person.lastnames),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/admin/clinical-record\",state:{id:e_person.person_id,run:e_person.run,name:e_person.names,apellido:e_person.lastnames}},style:{color:\"white\"}},/*#__PURE__*/React.createElement(Button,{color:\"primary\"},\"Ver\"))));}))))));};export default ListRecords;","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/list-records.js"],"names":["React","useState","useEffect","Button","Container","Card","CardBody","Table","Input","Link","getList","ListRecords","persons","setPersons","searchTerm","setSearchTerm","loading","setLoading","fetchPersons","res","e","target","value","filter","val","run","includes","fullname","toLowerCase","map","e_person","person_id","names","lastnames","pathname","state","id","name","apellido","color"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {Button, Container, Card, CardBody, Table, Input} from 'reactstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport '../../../assets/css/loading.css'\r\nimport {getList} from 'helpers/ListHelper';\r\n\r\nconst ListRecords = () => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchPersons = async () => {\r\n        const res = await getList(\"list/person\");\r\n        setLoading(false)\r\n        setPersons(res);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchPersons();\r\n    }, []);\r\n\r\n    return (\r\n        <Container className=\"mt-3\">\r\n            <Card>\r\n                <CardBody>\r\n                    <h1>Fichas Clinicas</h1>\r\n                    <Input type=\"text\" placeholder=\"Buscar...\" autoComplete=\"off\" name=\"look_for\" \r\n                        value={searchTerm}\r\n                        onChange={e => setSearchTerm(e.target.value)}\r\n                    />\r\n                    <br/>\r\n                    {loading \r\n                        ?<div className=\"w-100 d-flex justify-content-center\">\r\n                            <div className=\"loader\"></div>\r\n                        </div>\r\n                        :<Table className=\"align-items-center\" responsive>\r\n                            <thead className=\"thead-light\">\r\n                                <tr className=\"text-center\">\r\n                                    <th scope=\"col\">ID</th>\r\n                                    <th scope=\"col\">Run</th>\r\n                                    <th scope=\"col\">Nombre</th>\r\n                                    <th scope=\"col\">Apellidos</th>\r\n                                    <th scope=\"col\">Ficha Clinica</th>\r\n                                </tr>\r\n                            </thead>\r\n                            {/* {loading && <div className=\"loader align-self-center text-center justify-content-center\"></div>} */}\r\n                            <tbody>\r\n                                {persons.filter(val => {\r\n                                    if(searchTerm == \"\") {\r\n                                        return val;\r\n                                    } else if (val.run.includes(searchTerm) || val.fullname.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n                                        return val;\r\n                                    }\r\n                                }).map(e_person => (\r\n                                    <tr className=\"text-center\" key={e_person.person_id}>\r\n                                        <td>{e_person.person_id}</td>\r\n                                        <td>{e_person.run}</td>\r\n                                        <td>{e_person.names}</td>\r\n                                        <td>{e_person.lastnames}</td>\r\n                                        <td>\r\n                                            {/* <Button onClick={() => showModalAppointments(e_person)}>Listar</Button> */}\r\n                                            <Link to={{\r\n                                                    pathname: \"/admin/clinical-record\",\r\n                                                    state: {\r\n                                                        id: e_person.person_id,\r\n                                                        run: e_person.run,\r\n                                                        name: e_person.names,\r\n                                                        apellido: e_person.lastnames\r\n                                                    }\r\n                                                }} style={{color: \"white\"}}><Button color=\"primary\">\r\n                                                Ver</Button></Link>\r\n                                            \r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </Table>\r\n                    }\r\n                </CardBody>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ListRecords;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var Templater = function Templater(list) {\n  var itemSource,\n      templater = this;\n\n  var init = function init() {\n    itemSource = templater.getItemSource(list.item);\n\n    if (itemSource) {\n      itemSource = templater.clearSourceItem(itemSource, list.valueNames);\n    }\n  };\n\n  this.clearSourceItem = function (el, valueNames) {\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm;\n\n      if (valueNames[i].data) {\n        for (var j = 0, jl = valueNames[i].data.length; j < jl; j++) {\n          el.setAttribute('data-' + valueNames[i].data[j], '');\n        }\n      } else if (valueNames[i].attr && valueNames[i].name) {\n        elm = list.utils.getByClass(el, valueNames[i].name, true);\n\n        if (elm) {\n          elm.setAttribute(valueNames[i].attr, \"\");\n        }\n      } else {\n        elm = list.utils.getByClass(el, valueNames[i], true);\n\n        if (elm) {\n          elm.innerHTML = \"\";\n        }\n      }\n\n      elm = undefined;\n    }\n\n    return el;\n  };\n\n  this.getItemSource = function (item) {\n    if (item === undefined) {\n      var nodes = list.list.childNodes,\n          items = [];\n\n      for (var i = 0, il = nodes.length; i < il; i++) {\n        // Only textnodes have a data attribute\n        if (nodes[i].data === undefined) {\n          return nodes[i].cloneNode(true);\n        }\n      }\n    } else if (/<tr[\\s>]/g.exec(item)) {\n      var tbody = document.createElement('tbody');\n      tbody.innerHTML = item;\n      return tbody.firstChild;\n    } else if (item.indexOf(\"<\") !== -1) {\n      var div = document.createElement('div');\n      div.innerHTML = item;\n      return div.firstChild;\n    } else {\n      var source = document.getElementById(list.item);\n\n      if (source) {\n        return source;\n      }\n    }\n\n    return undefined;\n  };\n\n  this.get = function (item, valueNames) {\n    templater.create(item);\n    var values = {};\n\n    for (var i = 0, il = valueNames.length; i < il; i++) {\n      var elm;\n\n      if (valueNames[i].data) {\n        for (var j = 0, jl = valueNames[i].data.length; j < jl; j++) {\n          values[valueNames[i].data[j]] = list.utils.getAttribute(item.elm, 'data-' + valueNames[i].data[j]);\n        }\n      } else if (valueNames[i].attr && valueNames[i].name) {\n        elm = list.utils.getByClass(item.elm, valueNames[i].name, true);\n        values[valueNames[i].name] = elm ? list.utils.getAttribute(elm, valueNames[i].attr) : \"\";\n      } else {\n        elm = list.utils.getByClass(item.elm, valueNames[i], true);\n        values[valueNames[i]] = elm ? elm.innerHTML : \"\";\n      }\n\n      elm = undefined;\n    }\n\n    return values;\n  };\n\n  this.set = function (item, values) {\n    var getValueName = function getValueName(name) {\n      for (var i = 0, il = list.valueNames.length; i < il; i++) {\n        if (list.valueNames[i].data) {\n          var data = list.valueNames[i].data;\n\n          for (var j = 0, jl = data.length; j < jl; j++) {\n            if (data[j] === name) {\n              return {\n                data: name\n              };\n            }\n          }\n        } else if (list.valueNames[i].attr && list.valueNames[i].name && list.valueNames[i].name == name) {\n          return list.valueNames[i];\n        } else if (list.valueNames[i] === name) {\n          return name;\n        }\n      }\n    };\n\n    var setValue = function setValue(name, value) {\n      var elm;\n      var valueName = getValueName(name);\n      if (!valueName) return;\n\n      if (valueName.data) {\n        item.elm.setAttribute('data-' + valueName.data, value);\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(item.elm, valueName.name, true);\n\n        if (elm) {\n          elm.setAttribute(valueName.attr, value);\n        }\n      } else {\n        elm = list.utils.getByClass(item.elm, valueName, true);\n\n        if (elm) {\n          elm.innerHTML = value;\n        }\n      }\n\n      elm = undefined;\n    };\n\n    if (!templater.create(item)) {\n      for (var v in values) {\n        if (values.hasOwnProperty(v)) {\n          setValue(v, values[v]);\n        }\n      }\n    }\n  };\n\n  this.create = function (item) {\n    if (item.elm !== undefined) {\n      return false;\n    }\n\n    if (itemSource === undefined) {\n      throw new Error(\"The list need to have at list one item on init otherwise you'll have to add a template.\");\n    }\n    /* If item source does not exists, use the first item in list as\n    source for new items */\n\n\n    var newItem = itemSource.cloneNode(true);\n    newItem.removeAttribute('id');\n    item.elm = newItem;\n    templater.set(item, item.values());\n    return true;\n  };\n\n  this.remove = function (item) {\n    if (item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n\n  this.show = function (item) {\n    templater.create(item);\n    list.list.appendChild(item.elm);\n  };\n\n  this.hide = function (item) {\n    if (item.elm !== undefined && item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n\n  this.clear = function () {\n    /* .innerHTML = ''; fucks up IE */\n    if (list.list.hasChildNodes()) {\n      while (list.list.childNodes.length >= 1) {\n        list.list.removeChild(list.list.firstChild);\n      }\n    }\n  };\n\n  init();\n};\n\nmodule.exports = function (list) {\n  return new Templater(list);\n};","map":{"version":3,"sources":["C:/Users/Christian/WebstormProjects/teleodontoweb/node_modules/list.js/src/templater.js"],"names":["Templater","list","itemSource","templater","init","getItemSource","item","clearSourceItem","valueNames","el","i","il","length","elm","data","j","jl","setAttribute","attr","name","utils","getByClass","innerHTML","undefined","nodes","childNodes","items","cloneNode","exec","tbody","document","createElement","firstChild","indexOf","div","source","getElementById","get","create","values","getAttribute","set","getValueName","setValue","value","valueName","v","hasOwnProperty","Error","newItem","removeAttribute","remove","parentNode","removeChild","show","appendChild","hide","clear","hasChildNodes","module","exports"],"mappings":"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","sourcesContent":["var Templater = function(list) {\n  var itemSource,\n    templater = this;\n\n  var init = function() {\n    itemSource = templater.getItemSource(list.item);\n    if (itemSource) {\n      itemSource = templater.clearSourceItem(itemSource, list.valueNames);\n    }\n  };\n\n  this.clearSourceItem = function(el, valueNames) {\n    for(var i = 0, il = valueNames.length; i < il; i++) {\n      var elm;\n      if (valueNames[i].data) {\n        for (var j = 0, jl = valueNames[i].data.length; j < jl; j++) {\n          el.setAttribute('data-'+valueNames[i].data[j], '');\n        }\n      } else if (valueNames[i].attr && valueNames[i].name) {\n        elm = list.utils.getByClass(el, valueNames[i].name, true);\n        if (elm) {\n          elm.setAttribute(valueNames[i].attr, \"\");\n        }\n      } else {\n        elm = list.utils.getByClass(el, valueNames[i], true);\n        if (elm) {\n          elm.innerHTML = \"\";\n        }\n      }\n      elm = undefined;\n    }\n    return el;\n  };\n\n  this.getItemSource = function(item) {\n    if (item === undefined) {\n      var nodes = list.list.childNodes,\n        items = [];\n\n      for (var i = 0, il = nodes.length; i < il; i++) {\n        // Only textnodes have a data attribute\n        if (nodes[i].data === undefined) {\n          return nodes[i].cloneNode(true);\n        }\n      }\n    } else if (/<tr[\\s>]/g.exec(item)) {\n      var tbody = document.createElement('tbody');\n      tbody.innerHTML = item;\n      return tbody.firstChild;\n    } else if (item.indexOf(\"<\") !== -1) {\n      var div = document.createElement('div');\n      div.innerHTML = item;\n      return div.firstChild;\n    } else {\n      var source = document.getElementById(list.item);\n      if (source) {\n        return source;\n      }\n    }\n    return undefined;\n  };\n\n  this.get = function(item, valueNames) {\n    templater.create(item);\n    var values = {};\n    for(var i = 0, il = valueNames.length; i < il; i++) {\n      var elm;\n      if (valueNames[i].data) {\n        for (var j = 0, jl = valueNames[i].data.length; j < jl; j++) {\n          values[valueNames[i].data[j]] = list.utils.getAttribute(item.elm, 'data-'+valueNames[i].data[j]);\n        }\n      } else if (valueNames[i].attr && valueNames[i].name) {\n        elm = list.utils.getByClass(item.elm, valueNames[i].name, true);\n        values[valueNames[i].name] = elm ? list.utils.getAttribute(elm, valueNames[i].attr) : \"\";\n      } else {\n        elm = list.utils.getByClass(item.elm, valueNames[i], true);\n        values[valueNames[i]] = elm ? elm.innerHTML : \"\";\n      }\n      elm = undefined;\n    }\n    return values;\n  };\n\n  this.set = function(item, values) {\n    var getValueName = function(name) {\n      for (var i = 0, il = list.valueNames.length; i < il; i++) {\n        if (list.valueNames[i].data) {\n          var data = list.valueNames[i].data;\n          for (var j = 0, jl = data.length; j < jl; j++) {\n            if (data[j] === name) {\n              return { data: name };\n            }\n          }\n        } else if (list.valueNames[i].attr && list.valueNames[i].name && list.valueNames[i].name == name) {\n          return list.valueNames[i];\n        } else if (list.valueNames[i] === name) {\n          return name;\n        }\n      }\n    };\n    var setValue = function(name, value) {\n      var elm;\n      var valueName = getValueName(name);\n      if (!valueName)\n        return;\n      if (valueName.data) {\n        item.elm.setAttribute('data-'+valueName.data, value);\n      } else if (valueName.attr && valueName.name) {\n        elm = list.utils.getByClass(item.elm, valueName.name, true);\n        if (elm) {\n          elm.setAttribute(valueName.attr, value);\n        }\n      } else {\n        elm = list.utils.getByClass(item.elm, valueName, true);\n        if (elm) {\n          elm.innerHTML = value;\n        }\n      }\n      elm = undefined;\n    };\n    if (!templater.create(item)) {\n      for(var v in values) {\n        if (values.hasOwnProperty(v)) {\n          setValue(v, values[v]);\n        }\n      }\n    }\n  };\n\n  this.create = function(item) {\n    if (item.elm !== undefined) {\n      return false;\n    }\n    if (itemSource === undefined) {\n      throw new Error(\"The list need to have at list one item on init otherwise you'll have to add a template.\");\n    }\n    /* If item source does not exists, use the first item in list as\n    source for new items */\n    var newItem = itemSource.cloneNode(true);\n    newItem.removeAttribute('id');\n    item.elm = newItem;\n    templater.set(item, item.values());\n    return true;\n  };\n  this.remove = function(item) {\n    if (item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n  this.show = function(item) {\n    templater.create(item);\n    list.list.appendChild(item.elm);\n  };\n  this.hide = function(item) {\n    if (item.elm !== undefined && item.elm.parentNode === list.list) {\n      list.list.removeChild(item.elm);\n    }\n  };\n  this.clear = function() {\n    /* .innerHTML = ''; fucks up IE */\n    if (list.list.hasChildNodes()) {\n      while (list.list.childNodes.length >= 1)\n      {\n        list.list.removeChild(list.list.firstChild);\n      }\n    }\n  };\n\n  init();\n};\n\nmodule.exports = function(list) {\n  return new Templater(list);\n};\n"]},"metadata":{},"sourceType":"script"}
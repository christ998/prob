{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\src\\\\views\\\\pages\\\\patient\\\\soft-tissues-exam.js\";\n\nimport React, { useState, useEffect, Suspense } from 'react';\nimport Axios from '../../../helpers/axiosConfig';\nimport { Button, ButtonGroup, ButtonToolbar, Tooltip } from 'reactstrap';\nimport { Canvas } from \"react-three-fiber\";\nimport AddMarkerForm from '../../../components/Fantoma/FormsExams/AddMarkerForm';\nimport EditMarkerForm from '../../../components/Fantoma/FormsExams/EditMarkerForm';\nimport MarkersGroup from '../../../components/Fantoma/Tag/MarkersGroup';\nimport CameraControls from '../../../components/Fantoma/CameraControls';\nimport MouseHelper from '../../../components/Fantoma/MouseHelper';\nimport FantomaIntraOral from '../../../components/Fantoma/FantomaIntraOral';\nimport { Link } from 'react-router-dom';\n\nvar SoftTissuesExam = function SoftTissuesExam(_ref) {\n  var _location$state, _location$state2, _location$state3, _location$state4, _location$state5, _location$state6, _location$state7, _location$state8, _location$state9, _location$state10, _location$state11, _location$state12, _location$state13, _location$state14;\n\n  var location = _ref.location;\n  var typeExam = \"soft-tissues-exam\";\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      positionHelper = _useState2[0],\n      setPositionHelper = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      orientationHelper = _useState4[0],\n      setOrientationHelper = _useState4[1];\n\n  var _useState5 = useState({\n    height: undefined\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      canvasSize = _useState6[0],\n      setCanvasSize = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      rSelected = _useState8[0],\n      setRSelected = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      visibilityHelper = _useState10[0],\n      setVisibilityHelper = _useState10[1];\n\n  var initialFormState = {\n    id: null,\n    idAnamnesis: null,\n    form: null,\n    length: null,\n    width: null,\n    height: null,\n    color: null,\n    surface: null,\n    consistency: null,\n    evolution_time: null,\n    evolution_form: null,\n    symptomatology: null,\n    edge: null,\n    localization: null,\n    observation: '',\n    position_x: null,\n    position_y: null,\n    position_z: null,\n    orientation_x: null,\n    orientation_y: null,\n    orientation_z: null\n  };\n\n  var getPositionHelper = function getPositionHelper(positionHelper) {\n    setPositionHelper(positionHelper);\n  };\n\n  var getOrientationHelper = function getOrientationHelper(orientationHelper) {\n    setOrientationHelper(orientationHelper);\n  };\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      markers = _useState12[0],\n      setMarkers = _useState12[1];\n\n  var _useState13 = useState(initialFormState),\n      _useState14 = _slicedToArray(_useState13, 2),\n      currentMarker = _useState14[0],\n      setCurrentMarker = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      adding = _useState16[0],\n      setAdding = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      editing = _useState18[0],\n      setEditing = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      addTooltipOpen = _useState20[0],\n      setAddTooltipOpen = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      editTooltipOpen = _useState22[0],\n      setEditTooltipOpen = _useState22[1];\n  /*     \r\n      const [moveTooltipOpen, setMoveTooltipOpen] = useState(false);\r\n      const [rotateTooltipOpen, setRotateTooltipOpen] = useState(false);\r\n      const [scaleTooltipOpen, setScaleTooltipOpen] = useState(false);\r\n   */\n\n\n  var addToggle = function addToggle() {\n    return setAddTooltipOpen(!addTooltipOpen);\n  };\n\n  var editToggle = function editToggle() {\n    return setEditTooltipOpen(!editTooltipOpen);\n  };\n  /*  \r\n      const moveToggle = () => setMoveTooltipOpen(!moveTooltipOpen);\r\n      const rotateToggle = () => setRotateTooltipOpen(!rotateTooltipOpen);\r\n      const scaleToggle = () => setScaleTooltipOpen(!scaleTooltipOpen);\r\n   */\n\n\n  var getMarkers = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var newMarkers;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              newMarkers = [];\n              _context.next = 3;\n              return Axios.get(\"soft-tissues-exam/\" + location.state.anamId).then(function (response) {\n                setMarkers([]);\n                response.data.result.forEach(function (element) {\n                  newMarkers.push({\n                    id: element.soft_tissues_exam_id,\n                    idAnamnesis: location.state.anamId,\n                    form: element.form_id,\n                    length: element.length,\n                    width: element.width,\n                    height: element.height,\n                    color: element.color_id,\n                    surface: element.surface_id,\n                    consistency: element.consistency_id,\n                    evolution_time: element.evolution_time,\n                    evolution_form: element.evolution_form_id,\n                    symptomatology: element.symptomatology_id,\n                    edge: element.edge_id,\n                    localization: element.localization_id,\n                    observation: element.observation,\n                    position_x: element.position_x,\n                    position_y: element.position_y,\n                    position_z: element.position_z,\n                    orientation_x: element.orientation_x,\n                    orientation_y: element.orientation_y,\n                    orientation_z: element.orientation_z\n                  });\n                  setMarkers([].concat(newMarkers));\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getMarkers() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var helperAddMarker = function helperAddMarker() {\n    if (rSelected === 1) {\n      setAdding(true);\n    }\n  };\n\n  var addMarker = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(marker) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(rSelected === 1)) {\n                _context2.next = 6;\n                break;\n              }\n\n              setAdding(true);\n              _context2.next = 4;\n              return Axios.post(\"soft-tissues-exam\", {\n                dentalAnamnesisId: location.state.anamId,\n                formId: marker.form,\n                length: marker.length,\n                width: marker.width,\n                height: marker.height,\n                colorId: marker.color,\n                surfaceId: marker.surface,\n                consistencyId: marker.consistency,\n                evolutionTime: marker.evolution_time,\n                evolutionFromId: marker.evolution_form,\n                symptomatologyId: marker.symptomatology,\n                edgeId: marker.edge,\n                localizationId: marker.localization,\n                observation: marker.observation,\n                position_x: positionHelper.x,\n                position_y: positionHelper.y,\n                position_z: positionHelper.z,\n                orientation_x: orientationHelper.x,\n                orientation_y: orientationHelper.y,\n                orientation_z: orientationHelper.z\n              });\n\n            case 4:\n              res = _context2.sent;\n\n              if (!res.data.error) {\n                //alert(\"Etiqueta guardada\")\n                setMarkers([].concat(_toConsumableArray(markers), [marker]));\n                getMarkers();\n              }\n\n            case 6:\n              setAdding(false);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function addMarker(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var deleteMarker = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setEditing(false);\n              _context3.next = 3;\n              return Axios.delete(\"soft-tissues-exam/\" + id);\n\n            case 3:\n              res = _context3.sent;\n\n              if (!res.data.error) {\n                setMarkers(markers.filter(function (marker) {\n                  return marker.id !== id;\n                }));\n                getMarkers(); //alert(\"Etiqueta eliminada\")\n              }\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function deleteMarker(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var updateMarker = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id, updatedMarker) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setEditing(false);\n              _context4.next = 3;\n              return Axios.put(\"soft-tissues-exam\", {\n                dentalAnamnesisId: location.state.anamId,\n                formId: updatedMarker.form,\n                length: updatedMarker.length,\n                width: updatedMarker.width,\n                height: updatedMarker.height,\n                colorId: updatedMarker.color,\n                surfaceId: updatedMarker.surface,\n                consistencyId: updatedMarker.consistency,\n                evolutionTime: updatedMarker.evolution_time,\n                evolutionFromId: updatedMarker.evolution_form,\n                symptomatologyId: updatedMarker.symptomatology,\n                edgeId: updatedMarker.edge,\n                localizationId: updatedMarker.localization,\n                observation: updatedMarker.observation,\n                position_x: updatedMarker.position_x,\n                position_y: updatedMarker.position_y,\n                position_z: updatedMarker.position_z,\n                orientation_x: updatedMarker.orientation_x,\n                orientation_y: updatedMarker.orientation_y,\n                orientation_z: updatedMarker.orientation_z,\n                softTissuesExamId: id\n              });\n\n            case 3:\n              res = _context4.sent;\n\n              if (!res.data.error) {\n                setMarkers(markers.map(function (marker) {\n                  return marker.id === id ? updatedMarker : marker;\n                }));\n                getMarkers(); //alert(\"Etiqueta actualizada\")\n              }\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function updateMarker(_x3, _x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var editMarker = function editMarker(marker) {\n    setEditing(true);\n    setCurrentMarker({\n      id: marker.id,\n      idAnamnesis: marker.idAnamnesis,\n      form: marker.form,\n      length: marker.length,\n      width: marker.width,\n      height: marker.height,\n      color: marker.color,\n      surface: marker.surface,\n      consistency: marker.consistency,\n      evolution_time: marker.evolution_time,\n      evolution_form: marker.evolution_form,\n      symptomatology: marker.symptomatology,\n      edge: marker.edge,\n      localization: marker.localization,\n      observation: marker.observation,\n      position_x: marker.position_x,\n      position_y: marker.position_y,\n      position_z: marker.position_z,\n      orientation_x: marker.orientation_x,\n      orientation_y: marker.orientation_y,\n      orientation_z: marker.orientation_z\n    });\n  };\n\n  useEffect(function () {\n    var navbarSize = document.getElementsByClassName('navbar-top')[0];\n    var footerSize = document.getElementsByClassName('footer')[0];\n\n    var handleResize = function handleResize() {\n      setCanvasSize({\n        width: window.innerWidth - navbarSize.offsetWidth - footerSize.offsetWidth,\n        height: window.innerHeight - navbarSize.offsetHeight - footerSize.offsetHeight\n      });\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    getMarkers();\n    return function () {\n      return window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonToolbar, {\n    style: {\n      zIndex: 100,\n      position: 'absolute',\n      top: '90%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"lg\",\n    onClick: function onClick() {\n      return setRSelected(1);\n    },\n    active: rSelected === 1,\n    id: \"add\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-tags\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"top\",\n    isOpen: addTooltipOpen,\n    target: \"add\",\n    toggle: addToggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, \"A\\xF1adir marcador\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"lg\",\n    onClick: function onClick() {\n      return setRSelected(2);\n    },\n    active: rSelected === 2,\n    id: \"edit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ni ni-active-40\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"top\",\n    isOpen: editTooltipOpen,\n    target: \"edit\",\n    toggle: editToggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 21\n    }\n  }, \"Abrir marcador\"))), /*#__PURE__*/React.createElement(ButtonGroup, {\n    style: {\n      zIndex: 100,\n      position: 'absolute',\n      top: '90%',\n      left: '95%',\n      transform: 'translate(-100%, -50%)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"white\"\n    },\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state3 = location.state) === null || _location$state3 === void 0 ? void 0 : _location$state3.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state4 = location.state) === null || _location$state4 === void 0 ? void 0 : _location$state4.apellido,\n        anamId: location === null || location === void 0 ? void 0 : (_location$state5 = location.state) === null || _location$state5 === void 0 ? void 0 : _location$state5.anamId\n      },\n      pathname: \"/admin/extra-oral\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 51\n    }\n  }, \"Extra Oral\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    active: true,\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 17\n    }\n  }, \"Tejidos Blandos\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"white\"\n    },\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state6 = location.state) === null || _location$state6 === void 0 ? void 0 : _location$state6.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state7 = location.state) === null || _location$state7 === void 0 ? void 0 : _location$state7.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state8 = location.state) === null || _location$state8 === void 0 ? void 0 : _location$state8.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state9 = location.state) === null || _location$state9 === void 0 ? void 0 : _location$state9.apellido,\n        anamId: location === null || location === void 0 ? void 0 : (_location$state10 = location.state) === null || _location$state10 === void 0 ? void 0 : _location$state10.anamId\n      },\n      pathname: \"/admin/odontogram\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 51\n    }\n  }, \"Odontograma\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"white\"\n    },\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state11 = location.state) === null || _location$state11 === void 0 ? void 0 : _location$state11.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state12 = location.state) === null || _location$state12 === void 0 ? void 0 : _location$state12.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state13 = location.state) === null || _location$state13 === void 0 ? void 0 : _location$state13.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state14 = location.state) === null || _location$state14 === void 0 ? void 0 : _location$state14.apellido\n      },\n      pathname: \"/admin/periodontogram\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 48\n    }\n  }, \"Periodontograma\"))), editing ? /*#__PURE__*/React.createElement(EditMarkerForm, {\n    editing: editing,\n    setEditing: setEditing,\n    currentMarker: currentMarker,\n    updateMarker: updateMarker,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(AddMarkerForm, {\n    adding: adding,\n    setAdding: setAdding,\n    addMarker: addMarker,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Canvas, {\n    className: \"canvas\",\n    gl: {\n      antialias: true\n    },\n    shadowMap: true,\n    pixelRatio: window.devicePixelRatio,\n    style: {\n      height: canvasSize.height,\n      cursor: visibilityHelper ? 'crosshair' : 'default'\n    },\n    camera: {\n      fov: 55,\n      position: [0, 0, 10]\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CameraControls, {\n    minDistance: 0.5,\n    maxDistance: 1.5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    intensity: 0.4,\n    position: [300, 300, 2000],\n    castShadow: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    intensity: 0.35,\n    position: [-3000, 1300, -1000],\n    castShadow: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"ambientLight\", {\n    intensity: 0.07,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Suspense, {\n    fallback: \"loading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 5\n    }\n  }, rSelected === 1 ? /*#__PURE__*/React.createElement(MouseHelper, {\n    visibility: false,\n    handlePosition: getPositionHelper,\n    handleOrientation: getOrientationHelper,\n    typeExam: typeExam,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 37\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(FantomaIntraOral, {\n    scale: [10, 10, 10],\n    position: [0, 0, 0],\n    onDoubleClick: helperAddMarker,\n    onPointerOver: function onPointerOver() {\n      return setVisibilityHelper(true);\n    },\n    onPointerOut: function onPointerOut() {\n      return setVisibilityHelper(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(MarkersGroup, {\n    markers: markers,\n    editMarker: editMarker,\n    deleteMarker: deleteMarker,\n    orientationHelper: orientationHelper,\n    positionHelper: positionHelper,\n    adding: rSelected,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default SoftTissuesExam;\n/* const MoveIcon =()=> {\r\n    return(\r\n            <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"1rem\"\r\n            height=\"1rem\"\r\n            x=\"0\"\r\n            y=\"0\"\r\n            enableBackground=\"new 0 0 492.001 492.001\"\r\n            version=\"1.1\"\r\n            viewBox=\"0 0 492.001 492.001\"\r\n            xmlSpace=\"preserve\"\r\n        >\r\n            <path \r\n            fill='white'\r\n            d=\"M487.97 237.06l-58.82-58.82c-5.224-5.228-14.376-5.228-19.592 0l-7.436 7.432c-5.4 5.4-5.4 14.064 0 19.46l21.872 21.74H265.206V68.396l21.808 22.132c5.224 5.22 14.216 5.22 19.428 0l7.36-7.432c5.404-5.404 5.356-14.196-.044-19.596L254.846 4.444c-2.6-2.592-6.088-4.184-9.804-4.184h-.404c-3.712 0-7.188 1.588-9.784 4.184l-57.688 57.772c-2.612 2.608-4.052 6.124-4.052 9.836 0 3.704 1.44 7.208 4.052 9.816l7.432 7.444c5.224 5.22 14.612 5.228 19.828.004l22.368-22.132v159.688H67.814l22.14-22.008c2.608-2.608 4.048-6.028 4.048-9.732s-1.44-7.16-4.052-9.76l-7.436-7.42c-5.22-5.216-14.372-5.2-19.584.008L4.034 236.856c-2.672 2.672-4.1 6.244-4.032 9.92-.068 3.816 1.356 7.388 4.028 10.056l57.68 57.692c5.224 5.22 14.38 5.22 19.596 0l7.44-7.44a13.75 13.75 0 004.044-9.788c0-3.716-1.44-7.232-4.044-9.836l-22.14-22.172H226.79V425.32l-23.336-23.088c-5.212-5.22-14.488-5.22-19.7 0l-7.5 7.44a13.778 13.778 0 00-4.072 9.792c0 3.704 1.424 7.184 4.028 9.792l58.448 58.456c2.596 2.592 6.068 4.028 9.9 4.028.024-.016.24 0 .272 0 3.712 0 7.192-1.432 9.792-4.028l58.828-58.832a13.782 13.782 0 004.044-9.792c0-3.712-1.44-7.192-4.044-9.796l-7.44-7.44c-5.216-5.22-14.044-5.22-19.264 0l-21.54 21.868V265.284H425.59l-23.096 23.132c-2.612 2.608-4.048 6.112-4.048 9.82s1.432 7.192 4.048 9.8l7.44 7.444c5.212 5.224 14.372 5.224 19.584 0l58.452-58.452a13.633 13.633 0 004.028-9.916c.072-3.816-1.356-7.384-4.028-10.052z\"></path>\r\n        </svg>\r\n    )\r\n}\r\nconst RotateIcon =()=> {\r\n    return(\r\n        <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"1rem\"\r\n\t\theight=\"1rem\"\r\n        x=\"0\"\r\n        y=\"0\"\r\n        enableBackground=\"new 0 0 512.25 512.25\"\r\n        version=\"1.1\"\r\n        viewBox=\"0 0 512.25 512.25\"\r\n        xmlSpace=\"preserve\"\r\n      >\r\n        <path\r\n        fill='white' \r\n        d=\"M256.13.125c-78.9 0-150.399 37-197.199 93.1l-19.2-18.9c-3.9-4.2-9.901-5.7-15.3-3.6-5.4 1.5-9.3 6.299-9.901 11.999l-14.399 99c-1.626 12.188 12.431 19.135 17.1 16.8l99-14.099c5.7-.601 10.201-4.501 12.001-9.901 1.8-5.4.599-11.4-3.6-15.599l-22.8-22.8c35.7-45.601 92.199-75 154.3-75 107.1 0 195.7 87.299 196 194.399v.601c0 3.814-.126 7.63-.363 11.413-.591 9.487 7.701 17.161 17.159 15.778l30.236-4.426c7.167-1.049 12.572-7.07 12.821-14.308.097-2.842.147-5.674.147-8.458C512.13 115.676 397.209.125 256.13.125zM495.03 310.725l-99 14.099c-5.7.601-10.201 4.501-12.001 9.901s-.599 11.4 3.6 15.601l24.001 24c-35.402 46.5-92.501 76.8-155.501 76.8-107.401 0-196-87.601-196-195 .101-1.952-.242-6.154.416-14.141.791-9.622-7.582-17.43-17.043-16.097l-30.231 4.255C6.13 231.15.701 237.099.377 244.306 0 252.662.17 259.392.13 262.424c3.3 137.701 117.4 249.701 256 249.701 79.799 0 151.901-37.601 198.701-94.9l17.699 17.699c3.94 4.378 10.488 5.526 15.3 3.6 5.4-1.5 9.3-6.299 9.901-11.999l14.399-99c1.24-9.287-7.333-18.429-17.1-16.8z\"></path>\r\n      </svg>\r\n    )\r\n}\r\nconst ScaleIcon =()=> {\r\n    return(\r\n        <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"1rem\"\r\n        height=\"1rem\"\r\n        x=\"0\"\r\n\t\ty=\"0\"\r\n        viewBox=\"0 0 512 512\"\r\n      >\r\n        <path \r\n        fill='white'\r\n        d=\"M496.387 0H67.747c-8.63 0-15.618 6.996-15.618 15.613v276.239H15.613C6.996 291.852 0 298.836 0 307.465v188.922C0 505.004 6.996 512 15.613 512h188.922c8.63 0 15.613-6.996 15.613-15.613V459.87h276.239c8.617 0 15.613-6.988 15.613-15.617V15.614C512 6.995 505.004 0 496.387 0zM188.922 480.773H31.227V323.078h135.605l-72.586 72.586c-6.09 6.102-6.09 15.988 0 22.078 6.094 6.094 15.969 6.121 22.09 0l72.586-72.586zm291.851-52.132H220.148V313.93l121.73-121.73v62.456c0 8.63 6.985 15.614 15.614 15.614 8.621 0 15.613-6.985 15.613-15.614V154.508c0-8.906-7.28-15.613-15.613-15.613H257.344c-8.63 0-15.614 6.992-15.614 15.613 0 8.629 6.985 15.613 15.614 15.613H319.8l-121.738 121.73H83.359V31.228h397.414zm0 0\"></path>\r\n      </svg>\r\n    )\r\n} */","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/soft-tissues-exam.js"],"names":["React","useState","useEffect","Suspense","Axios","Button","ButtonGroup","ButtonToolbar","Tooltip","Canvas","AddMarkerForm","EditMarkerForm","MarkersGroup","CameraControls","MouseHelper","FantomaIntraOral","Link","SoftTissuesExam","location","typeExam","positionHelper","setPositionHelper","orientationHelper","setOrientationHelper","height","undefined","canvasSize","setCanvasSize","rSelected","setRSelected","visibilityHelper","setVisibilityHelper","initialFormState","id","idAnamnesis","form","length","width","color","surface","consistency","evolution_time","evolution_form","symptomatology","edge","localization","observation","position_x","position_y","position_z","orientation_x","orientation_y","orientation_z","getPositionHelper","getOrientationHelper","markers","setMarkers","currentMarker","setCurrentMarker","adding","setAdding","editing","setEditing","addTooltipOpen","setAddTooltipOpen","editTooltipOpen","setEditTooltipOpen","addToggle","editToggle","getMarkers","newMarkers","get","state","anamId","then","response","data","result","forEach","element","push","soft_tissues_exam_id","form_id","color_id","surface_id","consistency_id","evolution_form_id","symptomatology_id","edge_id","localization_id","helperAddMarker","addMarker","marker","post","dentalAnamnesisId","formId","colorId","surfaceId","consistencyId","evolutionTime","evolutionFromId","symptomatologyId","edgeId","localizationId","x","y","z","res","error","deleteMarker","delete","filter","updateMarker","updatedMarker","put","softTissuesExamId","map","editMarker","navbarSize","document","getElementsByClassName","footerSize","handleResize","window","innerWidth","offsetWidth","innerHeight","offsetHeight","addEventListener","removeEventListener","zIndex","position","top","left","transform","run","name","apellido","pathname","antialias","devicePixelRatio","cursor","fov"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,SAASC,MAAT,EAAiBC,WAAjB,EAA8BC,aAA9B,EAA6CC,OAA7C,QAA4D,YAA5D;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,aAAP,MAA0B,sDAA1B;AACA,OAAOC,cAAP,MAA2B,uDAA3B;AACA,OAAOC,YAAP,MAAyB,8CAAzB;AACA,OAAOC,cAAP,MAA2B,4CAA3B;AACA,OAAOC,WAAP,MAAyB,yCAAzB;AACA,OAAOC,gBAAP,MAA8B,8CAA9B;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAAgB;AAAA;;AAAA,MAAdC,QAAc,QAAdA,QAAc;AACpC,MAAMC,QAAQ,GAAC,mBAAf;;AADoC,kBAGOlB,QAAQ,EAHf;AAAA;AAAA,MAG7BmB,cAH6B;AAAA,MAGbC,iBAHa;;AAAA,mBAIapB,QAAQ,EAJrB;AAAA;AAAA,MAI7BqB,iBAJ6B;AAAA,MAIVC,oBAJU;;AAAA,mBAMAtB,QAAQ,CAAC;AAACuB,IAAAA,MAAM,EAAEC;AAAT,GAAD,CANR;AAAA;AAAA,MAM7BC,UAN6B;AAAA,MAMjBC,aANiB;;AAAA,mBAOF1B,QAAQ,CAAC,IAAD,CAPN;AAAA;AAAA,MAO7B2B,SAP6B;AAAA,MAOlBC,YAPkB;;AAAA,mBASY5B,QAAQ,CAAC,KAAD,CATpB;AAAA;AAAA,MAS7B6B,gBAT6B;AAAA,MASXC,mBATW;;AAWpC,MAAMC,gBAAgB,GAAG;AACrBC,IAAAA,EAAE,EAAE,IADiB;AAErBC,IAAAA,WAAW,EAAE,IAFQ;AAGrBC,IAAAA,IAAI,EAAE,IAHe;AAIrBC,IAAAA,MAAM,EAAE,IAJa;AAKrBC,IAAAA,KAAK,EAAE,IALc;AAMrBb,IAAAA,MAAM,EAAE,IANa;AAOrBc,IAAAA,KAAK,EAAE,IAPc;AAQrBC,IAAAA,OAAO,EAAE,IARY;AASrBC,IAAAA,WAAW,EAAE,IATQ;AAUrBC,IAAAA,cAAc,EAAE,IAVK;AAWrBC,IAAAA,cAAc,EAAE,IAXK;AAYrBC,IAAAA,cAAc,EAAE,IAZK;AAarBC,IAAAA,IAAI,EAAE,IAbe;AAcrBC,IAAAA,YAAY,EAAE,IAdO;AAerBC,IAAAA,WAAW,EAAE,EAfQ;AAgBrBC,IAAAA,UAAU,EAAE,IAhBS;AAiBrBC,IAAAA,UAAU,EAAE,IAjBS;AAkBrBC,IAAAA,UAAU,EAAE,IAlBS;AAmBrBC,IAAAA,aAAa,EAAE,IAnBM;AAoBrBC,IAAAA,aAAa,EAAE,IApBM;AAqBrBC,IAAAA,aAAa,EAAE;AArBM,GAAzB;;AAwBA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACjC,cAAD,EAAoB;AAC1CC,IAAAA,iBAAiB,CAACD,cAAD,CAAjB;AACH,GAFD;;AAGA,MAAMkC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAChC,iBAAD,EAAuB;AAChDC,IAAAA,oBAAoB,CAACD,iBAAD,CAApB;AACH,GAFD;;AAtCoC,oBA0CNrB,QAAQ,CAAC,EAAD,CA1CF;AAAA;AAAA,MA0C7BsD,OA1C6B;AAAA,MA0CpBC,UA1CoB;;AAAA,oBA2COvD,QAAQ,CAAC+B,gBAAD,CA3Cf;AAAA;AAAA,MA2C7ByB,aA3C6B;AAAA,MA2CdC,gBA3Cc;;AAAA,oBA6CPzD,QAAQ,CAAC,KAAD,CA7CD;AAAA;AAAA,MA6C7B0D,MA7C6B;AAAA,MA6CrBC,SA7CqB;;AAAA,oBA8CL3D,QAAQ,CAAC,KAAD,CA9CH;AAAA;AAAA,MA8C7B4D,OA9C6B;AAAA,MA8CpBC,UA9CoB;;AAAA,oBAgDQ7D,QAAQ,CAAC,KAAD,CAhDhB;AAAA;AAAA,MAgD7B8D,cAhD6B;AAAA,MAgDbC,iBAhDa;;AAAA,oBAiDU/D,QAAQ,CAAC,KAAD,CAjDlB;AAAA;AAAA,MAiD7BgE,eAjD6B;AAAA,MAiDZC,kBAjDY;AAkDxC;;;;;;;AAKI,MAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA,WAAMH,iBAAiB,CAAC,CAACD,cAAF,CAAvB;AAAA,GAAlB;;AACA,MAAMK,UAAU,GAAG,SAAbA,UAAa;AAAA,WAAMF,kBAAkB,CAAC,CAACD,eAAF,CAAxB;AAAA,GAAnB;AACJ;;;;;;;AAMI,MAAMI,UAAU;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACTC,cAAAA,UADS,GACI,EADJ;AAAA;AAAA,qBAETlE,KAAK,CAACmE,GAAN,CAAU,uBAAuBrD,QAAQ,CAACsD,KAAT,CAAeC,MAAhD,EAELC,IAFK,CAEA,UAAAC,QAAQ,EAAI;AACdnB,gBAAAA,UAAU,CAAC,EAAD,CAAV;AACAmB,gBAAAA,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqBC,OAArB,CAA6B,UAAAC,OAAO,EAAI;AACpCT,kBAAAA,UAAU,CAACU,IAAX,CAAgB;AACZ/C,oBAAAA,EAAE,EAAE8C,OAAO,CAACE,oBADA;AAEZ/C,oBAAAA,WAAW,EAAEhB,QAAQ,CAACsD,KAAT,CAAeC,MAFhB;AAGZtC,oBAAAA,IAAI,EAAE4C,OAAO,CAACG,OAHF;AAIZ9C,oBAAAA,MAAM,EAAC2C,OAAO,CAAC3C,MAJH;AAKZC,oBAAAA,KAAK,EAAC0C,OAAO,CAAC1C,KALF;AAMZb,oBAAAA,MAAM,EAACuD,OAAO,CAACvD,MANH;AAOZc,oBAAAA,KAAK,EAACyC,OAAO,CAACI,QAPF;AAQZ5C,oBAAAA,OAAO,EAACwC,OAAO,CAACK,UARJ;AASZ5C,oBAAAA,WAAW,EAACuC,OAAO,CAACM,cATR;AAUZ5C,oBAAAA,cAAc,EAACsC,OAAO,CAACtC,cAVX;AAWZC,oBAAAA,cAAc,EAACqC,OAAO,CAACO,iBAXX;AAYZ3C,oBAAAA,cAAc,EAACoC,OAAO,CAACQ,iBAZX;AAaZ3C,oBAAAA,IAAI,EAAEmC,OAAO,CAACS,OAbF;AAcZ3C,oBAAAA,YAAY,EAACkC,OAAO,CAACU,eAdT;AAeZ3C,oBAAAA,WAAW,EAACiC,OAAO,CAACjC,WAfR;AAgBZC,oBAAAA,UAAU,EAACgC,OAAO,CAAChC,UAhBP;AAiBZC,oBAAAA,UAAU,EAAC+B,OAAO,CAAC/B,UAjBP;AAkBZC,oBAAAA,UAAU,EAAC8B,OAAO,CAAC9B,UAlBP;AAmBZC,oBAAAA,aAAa,EAAC6B,OAAO,CAAC7B,aAnBV;AAoBZC,oBAAAA,aAAa,EAAC4B,OAAO,CAAC5B,aApBV;AAqBZC,oBAAAA,aAAa,EAAC2B,OAAO,CAAC3B;AArBV,mBAAhB;AAuBAI,kBAAAA,UAAU,WAAKc,UAAL,EAAV;AACH,iBAzBD;AA0BH,eA9BK,CAFS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVD,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAoCA,MAAMqB,eAAe,GAAG,SAAlBA,eAAkB,GAAI;AACxB,QAAG9D,SAAS,KAAG,CAAf,EAAiB;AACbgC,MAAAA,SAAS,CAAC,IAAD,CAAT;AACH;AACJ,GAJD;;AAOA,MAAM+B,SAAS;AAAA,yEAAG,kBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACXhE,SAAS,KAAG,CADD;AAAA;AAAA;AAAA;;AAEVgC,cAAAA,SAAS,CAAC,IAAD,CAAT;AAFU;AAAA,qBAGQxD,KAAK,CAACyF,IAAN,CAAW,mBAAX,EACd;AACIC,gBAAAA,iBAAiB,EAAG5E,QAAQ,CAACsD,KAAT,CAAeC,MADvC;AAEIsB,gBAAAA,MAAM,EAAGH,MAAM,CAACzD,IAFpB;AAGIC,gBAAAA,MAAM,EAAEwD,MAAM,CAACxD,MAHnB;AAIIC,gBAAAA,KAAK,EAAEuD,MAAM,CAACvD,KAJlB;AAKIb,gBAAAA,MAAM,EAAEoE,MAAM,CAACpE,MALnB;AAMIwE,gBAAAA,OAAO,EAAGJ,MAAM,CAACtD,KANrB;AAOI2D,gBAAAA,SAAS,EAAGL,MAAM,CAACrD,OAPvB;AAQI2D,gBAAAA,aAAa,EAAGN,MAAM,CAACpD,WAR3B;AASI2D,gBAAAA,aAAa,EAAGP,MAAM,CAACnD,cAT3B;AAUI2D,gBAAAA,eAAe,EAAGR,MAAM,CAAClD,cAV7B;AAWI2D,gBAAAA,gBAAgB,EAAET,MAAM,CAACjD,cAX7B;AAYI2D,gBAAAA,MAAM,EAAEV,MAAM,CAAChD,IAZnB;AAaI2D,gBAAAA,cAAc,EAAEX,MAAM,CAAC/C,YAb3B;AAcIC,gBAAAA,WAAW,EAAE8C,MAAM,CAAC9C,WAdxB;AAeIC,gBAAAA,UAAU,EAAE3B,cAAc,CAACoF,CAf/B;AAgBIxD,gBAAAA,UAAU,EAAE5B,cAAc,CAACqF,CAhB/B;AAiBIxD,gBAAAA,UAAU,EAAE7B,cAAc,CAACsF,CAjB/B;AAkBIxD,gBAAAA,aAAa,EAAE5B,iBAAiB,CAACkF,CAlBrC;AAmBIrD,gBAAAA,aAAa,EAAE7B,iBAAiB,CAACmF,CAnBrC;AAoBIrD,gBAAAA,aAAa,EAAE9B,iBAAiB,CAACoF;AApBrC,eADc,CAHR;;AAAA;AAGJC,cAAAA,GAHI;;AA2BV,kBAAI,CAACA,GAAG,CAAC/B,IAAJ,CAASgC,KAAd,EAAoB;AAChB;AACApD,gBAAAA,UAAU,8BAAMD,OAAN,IAAeqC,MAAf,GAAV;AACAvB,gBAAAA,UAAU;AACb;;AA/BS;AAiCdT,cAAAA,SAAS,CAAC,KAAD,CAAT;;AAjCc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAT+B,SAAS;AAAA;AAAA;AAAA,KAAf;;AAoCA,MAAMkB,YAAY;AAAA,yEAAG,kBAAO5E,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjB6B,cAAAA,UAAU,CAAC,KAAD,CAAV;AAFiB;AAAA,qBAGC1D,KAAK,CAAC0G,MAAN,CAAa,uBAAuB7E,EAApC,CAHD;;AAAA;AAGX0E,cAAAA,GAHW;;AAIjB,kBAAI,CAACA,GAAG,CAAC/B,IAAJ,CAASgC,KAAd,EAAqB;AACjBpD,gBAAAA,UAAU,CAACD,OAAO,CAACwD,MAAR,CAAe,UAAAnB,MAAM;AAAA,yBAAIA,MAAM,CAAC3D,EAAP,KAAcA,EAAlB;AAAA,iBAArB,CAAD,CAAV;AACAoC,gBAAAA,UAAU,GAFO,CAGjB;AACH;;AARgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZwC,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAWA,MAAMG,YAAY;AAAA,yEAAG,kBAAO/E,EAAP,EAAWgF,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBnD,cAAAA,UAAU,CAAC,KAAD,CAAV;AADiB;AAAA,qBAEC1D,KAAK,CAAC8G,GAAN,CAAU,mBAAV,EACd;AACIpB,gBAAAA,iBAAiB,EAAG5E,QAAQ,CAACsD,KAAT,CAAeC,MADvC;AAEIsB,gBAAAA,MAAM,EAAGkB,aAAa,CAAC9E,IAF3B;AAGIC,gBAAAA,MAAM,EAAE6E,aAAa,CAAC7E,MAH1B;AAIIC,gBAAAA,KAAK,EAAE4E,aAAa,CAAC5E,KAJzB;AAKIb,gBAAAA,MAAM,EAAEyF,aAAa,CAACzF,MAL1B;AAMIwE,gBAAAA,OAAO,EAAGiB,aAAa,CAAC3E,KAN5B;AAOI2D,gBAAAA,SAAS,EAAGgB,aAAa,CAAC1E,OAP9B;AAQI2D,gBAAAA,aAAa,EAAGe,aAAa,CAACzE,WARlC;AASI2D,gBAAAA,aAAa,EAAGc,aAAa,CAACxE,cATlC;AAUI2D,gBAAAA,eAAe,EAAGa,aAAa,CAACvE,cAVpC;AAWI2D,gBAAAA,gBAAgB,EAAEY,aAAa,CAACtE,cAXpC;AAYI2D,gBAAAA,MAAM,EAAEW,aAAa,CAACrE,IAZ1B;AAaI2D,gBAAAA,cAAc,EAAEU,aAAa,CAACpE,YAblC;AAcIC,gBAAAA,WAAW,EAAEmE,aAAa,CAACnE,WAd/B;AAeIC,gBAAAA,UAAU,EAAEkE,aAAa,CAAClE,UAf9B;AAgBIC,gBAAAA,UAAU,EAAEiE,aAAa,CAACjE,UAhB9B;AAiBIC,gBAAAA,UAAU,EAAEgE,aAAa,CAAChE,UAjB9B;AAkBIC,gBAAAA,aAAa,EAAC+D,aAAa,CAAC/D,aAlBhC;AAmBIC,gBAAAA,aAAa,EAAC8D,aAAa,CAAC9D,aAnBhC;AAoBIC,gBAAAA,aAAa,EAAC6D,aAAa,CAAC7D,aApBhC;AAqBI+D,gBAAAA,iBAAiB,EAAElF;AArBvB,eADc,CAFD;;AAAA;AAEX0E,cAAAA,GAFW;;AA2BjB,kBAAI,CAACA,GAAG,CAAC/B,IAAJ,CAASgC,KAAd,EAAoB;AACtBpD,gBAAAA,UAAU,CAACD,OAAO,CAAC6D,GAAR,CAAY,UAAAxB,MAAM;AAAA,yBAAKA,MAAM,CAAC3D,EAAP,KAAcA,EAAd,GAAmBgF,aAAnB,GAAmCrB,MAAxC;AAAA,iBAAlB,CAAD,CAAV;AACMvB,gBAAAA,UAAU,GAFM,CAGhB;AACH;;AA/BgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZ2C,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAkCA,MAAMK,UAAU,GAAG,SAAbA,UAAa,CAAAzB,MAAM,EAAI;AAC/B9B,IAAAA,UAAU,CAAC,IAAD,CAAV;AACMJ,IAAAA,gBAAgB,CAAC;AACbzB,MAAAA,EAAE,EAAE2D,MAAM,CAAC3D,EADE;AAEbC,MAAAA,WAAW,EAAE0D,MAAM,CAAC1D,WAFP;AAGbC,MAAAA,IAAI,EAAEyD,MAAM,CAACzD,IAHA;AAIbC,MAAAA,MAAM,EAAEwD,MAAM,CAACxD,MAJF;AAKbC,MAAAA,KAAK,EAAEuD,MAAM,CAACvD,KALD;AAMbb,MAAAA,MAAM,EAAEoE,MAAM,CAACpE,MANF;AAObc,MAAAA,KAAK,EAAEsD,MAAM,CAACtD,KAPD;AAQbC,MAAAA,OAAO,EAAEqD,MAAM,CAACrD,OARH;AASbC,MAAAA,WAAW,EAAEoD,MAAM,CAACpD,WATP;AAUbC,MAAAA,cAAc,EAAEmD,MAAM,CAACnD,cAVV;AAWbC,MAAAA,cAAc,EAAEkD,MAAM,CAAClD,cAXV;AAYbC,MAAAA,cAAc,EAAEiD,MAAM,CAACjD,cAZV;AAabC,MAAAA,IAAI,EAAEgD,MAAM,CAAChD,IAbA;AAcbC,MAAAA,YAAY,EAAE+C,MAAM,CAAC/C,YAdR;AAebC,MAAAA,WAAW,EAAE8C,MAAM,CAAC9C,WAfP;AAgBbC,MAAAA,UAAU,EAAE6C,MAAM,CAAC7C,UAhBN;AAiBbC,MAAAA,UAAU,EAAE4C,MAAM,CAAC5C,UAjBN;AAkBbC,MAAAA,UAAU,EAAE2C,MAAM,CAAC3C,UAlBN;AAmBbC,MAAAA,aAAa,EAAE0C,MAAM,CAAC1C,aAnBT;AAoBbC,MAAAA,aAAa,EAAEyC,MAAM,CAACzC,aApBT;AAqBbC,MAAAA,aAAa,EAAEwC,MAAM,CAACxC;AArBT,KAAD,CAAhB;AAuBH,GAzBD;;AA4BAlD,EAAAA,SAAS,CAAC,YAAM;AAClB,QAAMoH,UAAU,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,YAAhC,EAA8C,CAA9C,CAAnB;AACA,QAAMC,UAAU,GAAGF,QAAQ,CAACC,sBAAT,CAAgC,QAAhC,EAA0C,CAA1C,CAAnB;;AACA,QAAME,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1B/F,MAAAA,aAAa,CAAC;AACbU,QAAAA,KAAK,EAAEsF,MAAM,CAACC,UAAP,GAAoBN,UAAU,CAACO,WAA/B,GAA6CJ,UAAU,CAACI,WADlD;AAEbrG,QAAAA,MAAM,EAAEmG,MAAM,CAACG,WAAP,GAAqBR,UAAU,CAACS,YAAhC,GAA+CN,UAAU,CAACM;AAFrD,OAAD,CAAb;AAIA,KALD;;AAMAJ,IAAAA,MAAM,CAACK,gBAAP,CAAwB,QAAxB,EAAkCN,YAAlC;AACMA,IAAAA,YAAY;AAEZrD,IAAAA,UAAU;AACV,WAAO;AAAA,aAAMsD,MAAM,CAACM,mBAAP,CAA2B,QAA3B,EAAqCP,YAArC,CAAN;AAAA,KAAP;AACN,GAdW,EAcT,EAdS,CAAT;AAiBA,sBACI,uDACA,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAE;AAAEQ,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,QAAQ,EAAE,UAAzB;AAAqCC,MAAAA,GAAG,EAAC,KAAzC;AAAgDC,MAAAA,IAAI,EAAC,KAArD;AAA4DC,MAAAA,SAAS,EAAC;AAAtE,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACR,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,IAAI,EAAC,IAA7B;AAAkC,IAAA,OAAO,EAAE;AAAA,aAAMzG,YAAY,CAAC,CAAD,CAAlB;AAAA,KAA3C;AAAkE,IAAA,MAAM,EAAED,SAAS,KAAK,CAAxF;AAA2F,IAAA,EAAE,EAAC,KAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACgB;AAAG,IAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhB,CADQ,eAIQ,oBAAC,OAAD;AACI,IAAA,SAAS,EAAC,KADd;AAEI,IAAA,MAAM,EAAEmC,cAFZ;AAGI,IAAA,MAAM,EAAE,KAHZ;AAII,IAAA,MAAM,EAAEI,SAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJR,eAYR,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,IAAI,EAAC,IAA7B;AAAkC,IAAA,OAAO,EAAE;AAAA,aAAMtC,YAAY,CAAC,CAAD,CAAlB;AAAA,KAA3C;AAAkE,IAAA,MAAM,EAAED,SAAS,KAAK,CAAxF;AAA2F,IAAA,EAAE,EAAC,MAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACgB;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhB,CAZQ,eAeQ,oBAAC,OAAD;AACI,IAAA,SAAS,EAAC,KADd;AAEI,IAAA,MAAM,EAAEqC,eAFZ;AAGI,IAAA,MAAM,EAAE,MAHZ;AAII,IAAA,MAAM,EAAEG,UAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAfR,CADJ,CADA,eA8DI,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAE;AAAE8D,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,QAAQ,EAAE,UAAzB;AAAqCC,MAAAA,GAAG,EAAC,KAAzC;AAAgDC,MAAAA,IAAI,EAAC,KAArD;AAA4DC,MAAAA,SAAS,EAAC;AAAtE,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,IAAI,EAAC,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAChG,MAAAA,KAAK,EAAE;AAAR,KAAb;AAA+B,IAAA,EAAE,EAAE;AACjEkC,MAAAA,KAAK,EAAE;AACHvC,QAAAA,EAAE,EAAEf,QAAF,aAAEA,QAAF,0CAAEA,QAAQ,CAAEsD,KAAZ,oDAAE,gBAAiBvC,EADlB;AAEHsG,QAAAA,GAAG,EAAErH,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiB+D,GAFnB;AAGHC,QAAAA,IAAI,EAAEtH,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiBgE,IAHpB;AAIHC,QAAAA,QAAQ,EAAEvH,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiBiE,QAJxB;AAKHhE,QAAAA,MAAM,EAAEvD,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiBC;AALtB,OAD0D;AAQjEiE,MAAAA,QAAQ,EAAE;AARuD,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAlC,CADJ,eAYI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,MAAM,MAA9B;AAA+B,IAAA,IAAI,EAAC,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAZJ,eAaI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,IAAI,EAAC,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACpG,MAAAA,KAAK,EAAE;AAAR,KAAb;AAA+B,IAAA,EAAE,EAAE;AACjEkC,MAAAA,KAAK,EAAE;AACHvC,QAAAA,EAAE,EAAEf,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiBvC,EADlB;AAEHsG,QAAAA,GAAG,EAAErH,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiB+D,GAFnB;AAGHC,QAAAA,IAAI,EAAEtH,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiBgE,IAHpB;AAIHC,QAAAA,QAAQ,EAAEvH,QAAF,aAAEA,QAAF,2CAAEA,QAAQ,CAAEsD,KAAZ,qDAAE,iBAAiBiE,QAJxB;AAKHhE,QAAAA,MAAM,EAAEvD,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAEsD,KAAZ,sDAAE,kBAAiBC;AALtB,OAD0D;AAQjEiE,MAAAA,QAAQ,EAAE;AARuD,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAlC,CAbJ,eAwBI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAqB,IAAA,IAAI,EAAC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA+B,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACpG,MAAAA,KAAK,EAAE;AAAR,KAAb;AAA+B,IAAA,EAAE,EAAE;AAC9DkC,MAAAA,KAAK,EAAE;AACHvC,QAAAA,EAAE,EAAEf,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAEsD,KAAZ,sDAAE,kBAAiBvC,EADlB;AAEHsG,QAAAA,GAAG,EAAErH,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAEsD,KAAZ,sDAAE,kBAAiB+D,GAFnB;AAGHC,QAAAA,IAAI,EAAEtH,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAEsD,KAAZ,sDAAE,kBAAiBgE,IAHpB;AAIHC,QAAAA,QAAQ,EAAEvH,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAEsD,KAAZ,sDAAE,kBAAiBiE;AAJxB,OADuD;AAO9DC,MAAAA,QAAQ,EAAE;AAPoD,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA/B,CAxBJ,CA9DJ,EAkGK7E,OAAO,gBACJ,oBAAC,cAAD;AACI,IAAA,OAAO,EAAEA,OADb;AAEI,IAAA,UAAU,EAAEC,UAFhB;AAGI,IAAA,aAAa,EAAEL,aAHnB;AAII,IAAA,YAAY,EAAEuD,YAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADI,gBAQJ,oBAAC,aAAD;AACI,IAAA,MAAM,EAAErD,MADZ;AAEI,IAAA,SAAS,EAAEC,SAFf;AAGI,IAAA,SAAS,EAAE+B,SAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1GR,eAgHI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,QAAlB;AACR,IAAA,EAAE,EAAE;AAAEgD,MAAAA,SAAS,EAAE;AAAb,KADI;AAER,IAAA,SAAS,MAFD;AAGR,IAAA,UAAU,EAAEhB,MAAM,CAACiB,gBAHX;AAIR,IAAA,KAAK,EAAE;AAAEpH,MAAAA,MAAM,EAAEE,UAAU,CAACF,MAArB;AAA6BqH,MAAAA,MAAM,EAAE/G,gBAAgB,GAAI,WAAJ,GAAkB;AAAvE,KAJC;AAKR,IAAA,MAAM,EAAE;AAAEgH,MAAAA,GAAG,EAAE,EAAP;AAAWX,MAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP;AAArB,KALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOR,oBAAC,cAAD;AAAgB,IAAA,WAAW,EAAE,GAA7B;AAAkC,IAAA,WAAW,EAAE,GAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPQ,eAQR;AAAW,IAAA,SAAS,EAAE,GAAtB;AAA2B,IAAA,QAAQ,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,IAAX,CAArC;AAAuD,IAAA,UAAU,EAAE,IAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARQ,eASR;AAAW,IAAA,SAAS,EAAE,IAAtB;AAA4B,IAAA,QAAQ,EAAE,CAAC,CAAC,IAAF,EAAQ,IAAR,EAAc,CAAC,IAAf,CAAtC;AAA4D,IAAA,UAAU,EAAE,IAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATQ,eAUR;AAAc,IAAA,SAAS,EAAE,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVQ,eAWR,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACavG,SAAS,KAAK,CAAd,gBAAmB,oBAAC,WAAD;AAAa,IAAA,UAAU,EAAE,KAAzB;AAAgC,IAAA,cAAc,EAAEyB,iBAAhD;AAAoE,IAAA,iBAAiB,EAAEC,oBAAvF;AAA6G,IAAA,QAAQ,EAAEnC,QAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAnB,gBAAwJ,yCADrK,eAGC,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAAzB;AAAuC,IAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAjD;AAA4D,IAAA,aAAa,EAAEuE,eAA3E;AAA4F,IAAA,aAAa,EAAE;AAAA,aAAM3D,mBAAmB,CAAC,IAAD,CAAzB;AAAA,KAA3G;AAA4I,IAAA,YAAY,EAAE;AAAA,aAAMA,mBAAmB,CAAC,KAAD,CAAzB;AAAA,KAA1J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,eAIgB,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAEwB,OAAvB;AAAgC,IAAA,UAAU,EAAE8D,UAA5C;AAAwD,IAAA,YAAY,EAAER,YAAtE;AAAoF,IAAA,iBAAiB,EAAEvF,iBAAvG;AAA0H,IAAA,cAAc,EAAEF,cAA1I;AAA0J,IAAA,MAAM,EAAEQ,SAAlK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJhB,CAXQ,CAhHJ,CADJ;AAsIH,CA9WD;;AA+WA,eAAeX,eAAf;AAEA","sourcesContent":["import React, { useState, useEffect, Suspense } from 'react'\r\nimport Axios from '../../../helpers/axiosConfig'\r\nimport { Button, ButtonGroup, ButtonToolbar, Tooltip } from 'reactstrap'\r\nimport { Canvas } from \"react-three-fiber\";\r\nimport AddMarkerForm from '../../../components/Fantoma/FormsExams/AddMarkerForm'\r\nimport EditMarkerForm from '../../../components/Fantoma/FormsExams/EditMarkerForm'\r\nimport MarkersGroup from '../../../components/Fantoma/Tag/MarkersGroup'\r\nimport CameraControls from '../../../components/Fantoma/CameraControls'\r\nimport MouseHelper  from '../../../components/Fantoma/MouseHelper'\r\nimport FantomaIntraOral  from '../../../components/Fantoma/FantomaIntraOral'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SoftTissuesExam = ({location}) => {\r\n    const typeExam=\"soft-tissues-exam\"\r\n\r\n    const [positionHelper, setPositionHelper]= useState()\r\n    const [orientationHelper, setOrientationHelper]= useState()\r\n\r\n    const [canvasSize, setCanvasSize] = useState({height: undefined}); \r\n    const [rSelected, setRSelected] = useState(null);\r\n\r\n    const [visibilityHelper, setVisibilityHelper] = useState(false) \r\n    \r\n    const initialFormState = { \r\n        id: null, \r\n        idAnamnesis: null,\r\n        form: null,\r\n        length: null,\r\n        width: null,\r\n        height: null,\r\n        color: null,\r\n        surface: null,\r\n        consistency: null,\r\n        evolution_time: null,\r\n        evolution_form: null,\r\n        symptomatology: null,\r\n        edge: null,\r\n        localization: null,\r\n        observation: '',\r\n        position_x: null,\r\n        position_y: null,\r\n        position_z: null,\r\n        orientation_x: null,\r\n        orientation_y: null,\r\n        orientation_z: null          \r\n    }\r\n\r\n    const getPositionHelper = (positionHelper) => {\r\n        setPositionHelper(positionHelper)\r\n    }\r\n    const getOrientationHelper = (orientationHelper) => {\r\n        setOrientationHelper(orientationHelper)\r\n    }\r\n  \r\n    const [markers, setMarkers] = useState([])\r\n    const [currentMarker, setCurrentMarker ] = useState(initialFormState)\r\n    \r\n    const [adding, setAdding ] = useState(false)\r\n    const [editing, setEditing ] = useState(false)\r\n\r\n    const [addTooltipOpen, setAddTooltipOpen] = useState(false);\r\n    const [editTooltipOpen, setEditTooltipOpen] = useState(false);\r\n/*     \r\n    const [moveTooltipOpen, setMoveTooltipOpen] = useState(false);\r\n    const [rotateTooltipOpen, setRotateTooltipOpen] = useState(false);\r\n    const [scaleTooltipOpen, setScaleTooltipOpen] = useState(false);\r\n */\r\n    const addToggle = () => setAddTooltipOpen(!addTooltipOpen);\r\n    const editToggle = () => setEditTooltipOpen(!editTooltipOpen);\r\n/*  \r\n    const moveToggle = () => setMoveTooltipOpen(!moveTooltipOpen);\r\n    const rotateToggle = () => setRotateTooltipOpen(!rotateTooltipOpen);\r\n    const scaleToggle = () => setScaleTooltipOpen(!scaleTooltipOpen);\r\n */\r\n\r\n    const getMarkers = async () => {\r\n        const newMarkers = [] \r\n        await Axios.get(\"soft-tissues-exam/\" + location.state.anamId)\r\n        \r\n        .then(response => {\r\n            setMarkers([])\r\n            response.data.result.forEach(element => {\r\n                newMarkers.push({\r\n                    id: element.soft_tissues_exam_id,\r\n                    idAnamnesis: location.state.anamId, \r\n                    form: element.form_id,     \r\n                    length:element.length, \r\n                    width:element.width, \r\n                    height:element.height, \r\n                    color:element.color_id, \r\n                    surface:element.surface_id, \r\n                    consistency:element.consistency_id, \r\n                    evolution_time:element.evolution_time,\r\n                    evolution_form:element.evolution_form_id, \r\n                    symptomatology:element.symptomatology_id, \r\n                    edge: element.edge_id,\r\n                    localization:element.localization_id, \r\n                    observation:element.observation, \r\n                    position_x:element.position_x, \r\n                    position_y:element.position_y, \r\n                    position_z:element.position_z,\r\n                    orientation_x:element.orientation_x, \r\n                    orientation_y:element.orientation_y, \r\n                    orientation_z:element.orientation_z   \r\n                });\r\n                setMarkers([...newMarkers])   \r\n            });\r\n        })  \r\n    }\r\n\r\n\r\n    const helperAddMarker = ()=>{\r\n        if(rSelected===1){\r\n            setAdding(true)\r\n        }\r\n    }\r\n\r\n\r\n    const addMarker = async (marker) => {\r\n        if(rSelected===1){\r\n            setAdding(true)\r\n            const res = await Axios.post(\"soft-tissues-exam\",\r\n                {\r\n                    dentalAnamnesisId : location.state.anamId,\r\n                    formId : marker.form ,\r\n                    length: marker.length,\r\n                    width: marker.width,\r\n                    height: marker.height,\r\n                    colorId : marker.color,\r\n                    surfaceId : marker.surface,\r\n                    consistencyId : marker.consistency,\r\n                    evolutionTime : marker.evolution_time,\r\n                    evolutionFromId : marker.evolution_form,\r\n                    symptomatologyId: marker.symptomatology,\r\n                    edgeId: marker.edge,\r\n                    localizationId: marker.localization,\r\n                    observation: marker.observation,\r\n                    position_x: positionHelper.x,\r\n                    position_y: positionHelper.y,\r\n                    position_z: positionHelper.z,\r\n                    orientation_x: orientationHelper.x,\r\n                    orientation_y: orientationHelper.y,\r\n                    orientation_z: orientationHelper.z\r\n                }\r\n\t\t    )\r\n            if (!res.data.error){\r\n                //alert(\"Etiqueta guardada\")\r\n                setMarkers([ ...markers, marker ])\r\n                getMarkers()\r\n            }\r\n        }\r\n        setAdding(false)\r\n\t}\r\n\r\n    const deleteMarker = async (id) => {\r\n\r\n        setEditing(false)\r\n        const res = await Axios.delete(\"soft-tissues-exam/\" + id);\r\n        if (!res.data.error) {\r\n            setMarkers(markers.filter(marker => marker.id !== id))\r\n            getMarkers()\r\n            //alert(\"Etiqueta eliminada\")\r\n        }\r\n    }\r\n    \r\n    const updateMarker = async (id, updatedMarker) => {\r\n        setEditing(false)\r\n        const res = await Axios.put(\"soft-tissues-exam\",\r\n            {\r\n                dentalAnamnesisId : location.state.anamId,\r\n                formId : updatedMarker.form ,\r\n                length: updatedMarker.length,\r\n                width: updatedMarker.width,\r\n                height: updatedMarker.height,\r\n                colorId : updatedMarker.color,\r\n                surfaceId : updatedMarker.surface,\r\n                consistencyId : updatedMarker.consistency,\r\n                evolutionTime : updatedMarker.evolution_time,\r\n                evolutionFromId : updatedMarker.evolution_form,\r\n                symptomatologyId: updatedMarker.symptomatology,\r\n                edgeId: updatedMarker.edge,\r\n                localizationId: updatedMarker.localization,\r\n                observation: updatedMarker.observation,\r\n                position_x: updatedMarker.position_x,\r\n                position_y: updatedMarker.position_y,\r\n                position_z: updatedMarker.position_z,\r\n                orientation_x:updatedMarker.orientation_x, \r\n                orientation_y:updatedMarker.orientation_y, \r\n                orientation_z:updatedMarker.orientation_z,\r\n                softTissuesExamId: id\r\n            }\r\n        )\r\n        if (!res.data.error){\r\n\t\t    setMarkers(markers.map(marker => (marker.id === id ? updatedMarker : marker)))\r\n            getMarkers()\r\n            //alert(\"Etiqueta actualizada\")\r\n        }\r\n\t}\r\n\r\n    const editMarker = marker => {\r\n\t\tsetEditing(true)\r\n        setCurrentMarker({ \r\n            id: marker.id, \r\n            idAnamnesis: marker.idAnamnesis,\r\n            form: marker.form,\r\n            length: marker.length,\r\n            width: marker.width,\r\n            height: marker.height,\r\n            color: marker.color,\r\n            surface: marker.surface,\r\n            consistency: marker.consistency,\r\n            evolution_time: marker.evolution_time,\r\n            evolution_form: marker.evolution_form,\r\n            symptomatology: marker.symptomatology,\r\n            edge: marker.edge,\r\n            localization: marker.localization,\r\n            observation: marker.observation,\r\n            position_x: marker.position_x,\r\n            position_y: marker.position_y,\r\n            position_z: marker.position_z,\r\n            orientation_x: marker.orientation_x,\r\n            orientation_y: marker.orientation_y,\r\n            orientation_z: marker.orientation_z\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\t\tconst navbarSize = document.getElementsByClassName('navbar-top')[0];\r\n\t\tconst footerSize = document.getElementsByClassName('footer')[0];\r\n\t\tconst handleResize = () => {\r\n\t\t\tsetCanvasSize({\r\n\t\t\t\twidth: window.innerWidth - navbarSize.offsetWidth - footerSize.offsetWidth,\r\n\t\t\t\theight: window.innerHeight - navbarSize.offsetHeight - footerSize.offsetHeight\r\n\t\t\t});\r\n\t\t}\r\n\t\twindow.addEventListener(\"resize\", handleResize);\r\n        handleResize();\r\n        \r\n        getMarkers()\r\n        return () => window.removeEventListener(\"resize\", handleResize); \r\n\t}, []);\r\n    \r\n\r\n    return (\r\n        <>\r\n        <ButtonToolbar style={{ zIndex: 100, position: 'absolute', top:'90%', left:'50%', transform:'translate(-50%, -50%)' }}>\r\n            <ButtonGroup>\r\n\t\t\t\t<Button color=\"primary\" size=\"lg\" onClick={() => setRSelected(1)} active={rSelected === 1} id=\"add\">\r\n                    <i className=\"fas fa-tags\"></i>\r\n                </Button>\r\n                    <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={addTooltipOpen}\r\n                        target={\"add\"}\r\n                        toggle={addToggle}\r\n                    >\r\n                        Aadir marcador\r\n                    </Tooltip>\r\n\t\t\t\t<Button color=\"primary\" size=\"lg\" onClick={() => setRSelected(2)} active={rSelected === 2} id=\"edit\">\r\n                    <i className=\"ni ni-active-40\"></i>\r\n                </Button>\r\n                    <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={editTooltipOpen}\r\n                        target={\"edit\"}\r\n                        toggle={editToggle}\r\n                    >\r\n                        Abrir marcador\r\n                    </Tooltip>\r\n\t\t\t</ButtonGroup>\r\n{/*             <ButtonGroup>\r\n                <Button color=\"primary\" size=\"lg\" onClick={() => setRSelected(3)} active={rSelected === 3} id=\"move\">\r\n                    <MoveIcon className=\"fas\"/>\r\n                </Button>\r\n                <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={moveTooltipOpen}\r\n                        target={\"move\"}\r\n                        toggle={moveToggle}\r\n                    >\r\n                        Mover lesin\r\n                </Tooltip>\r\n                <Button color=\"primary\" size=\"lg\" onClick={() => setRSelected(4)} active={rSelected === 4} id=\"rotate\">\r\n                    <RotateIcon className=\"fas\"/>\r\n                </Button>\r\n                <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={rotateTooltipOpen}\r\n                        target={\"rotate\"}\r\n                        toggle={rotateToggle}\r\n                    >\r\n                        Rotar lesin\r\n                </Tooltip>\r\n                <Button color=\"primary\" size=\"lg\" onClick={() => setRSelected(5)} active={rSelected === 5} id=\"scale\">\r\n                    <ScaleIcon className=\"fas\"/>\r\n                </Button>\r\n                <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={scaleTooltipOpen}\r\n                        target={\"scale\"}\r\n                        toggle={scaleToggle}\r\n                    >\r\n                        Escalar lesin\r\n                </Tooltip>\r\n            </ButtonGroup>   */}\r\n        </ButtonToolbar>\r\n            <ButtonGroup style={{ zIndex: 100, position: 'absolute', top:'90%', left:'95%', transform:'translate(-100%, -50%)' }}>\r\n                <Button color=\"primary\" size=\"lg\"><Link style={{color: \"white\"}} to={{\r\n                    state: {\r\n                        id: location?.state?.id,\r\n                        run: location?.state?.run,\r\n                        name: location?.state?.name,\r\n                        apellido: location?.state?.apellido,\r\n                        anamId: location?.state?.anamId\r\n                    },\r\n                    pathname: \"/admin/extra-oral\"\r\n                    }}>Extra Oral</Link>\r\n                </Button>\r\n                <Button color=\"primary\" active size=\"lg\">Tejidos Blandos</Button>\r\n                <Button color=\"primary\" size=\"lg\"><Link style={{color: \"white\"}} to={{\r\n                    state: {\r\n                        id: location?.state?.id,\r\n                        run: location?.state?.run,\r\n                        name: location?.state?.name,\r\n                        apellido: location?.state?.apellido,\r\n                        anamId: location?.state?.anamId\r\n                    },\r\n                    pathname: \"/admin/odontogram\"\r\n                    }}>Odontograma</Link>\r\n                </Button>\r\n                <Button color=\"info\" size=\"lg\"><Link style={{color: \"white\"}} to={{\r\n                    state: {\r\n                        id: location?.state?.id,\r\n                        run: location?.state?.run,\r\n                        name: location?.state?.name,\r\n                        apellido: location?.state?.apellido\r\n                    },\r\n                    pathname: \"/admin/periodontogram\"\r\n                    }}>Periodontograma</Link>\r\n                </Button>\r\n            </ButtonGroup>\r\n\r\n            {editing ? (\r\n                <EditMarkerForm\r\n                    editing={editing}\r\n                    setEditing={setEditing}\r\n                    currentMarker={currentMarker}\r\n                    updateMarker={updateMarker}\r\n                />\r\n            ) : (\r\n                <AddMarkerForm\r\n                    adding={adding}\r\n                    setAdding={setAdding} \r\n                    addMarker={addMarker} \r\n                />\r\n            )}\r\n            <Canvas className=\"canvas\"\r\n\t\t\t\tgl={{ antialias: true }}\r\n\t\t\t\tshadowMap\r\n\t\t\t\tpixelRatio={window.devicePixelRatio}\r\n\t\t\t\tstyle={{ height: canvasSize.height, cursor: visibilityHelper ? ('crosshair'):('default') }}\r\n\t\t\t\tcamera={{ fov: 55, position: [0, 0, 10] }}\r\n\t\t\t>\r\n\t\t\t\t<CameraControls minDistance={0.5} maxDistance={1.5}/>\r\n\t\t\t\t<spotLight intensity={0.4} position={[300, 300, 2000]} castShadow={true} />\r\n\t\t\t\t<spotLight intensity={0.35} position={[-3000, 1300, -1000]} castShadow={true} />\r\n\t\t\t\t<ambientLight intensity={0.07} />\r\n\t\t\t\t<Suspense fallback=\"loading\">\r\n                {rSelected === 1 ? (<MouseHelper visibility={false} handlePosition={getPositionHelper}  handleOrientation={getOrientationHelper} typeExam={typeExam}/>):(<></>)}\r\n\t\t\t\t\t{/* <MouseHelper visibility={visibilityHelper} handlePosition={getPositionHelper}/> */}\r\n\t\t\t\t\t<FantomaIntraOral scale={[10, 10, 10]} position={[0, 0, 0]} onDoubleClick={helperAddMarker} onPointerOver={() => setVisibilityHelper(true)} onPointerOut={() => setVisibilityHelper(false)} />\r\n                    <MarkersGroup markers={markers} editMarker={editMarker} deleteMarker={deleteMarker} orientationHelper={orientationHelper} positionHelper={positionHelper} adding={rSelected} />\t\r\n\t\t\t\t</Suspense>\r\n\t\t\t\t{/* <Stats /> */}\r\n\t\t\t</Canvas>\r\n        </>\r\n    )\r\n}\r\nexport default SoftTissuesExam\r\n\r\n/* const MoveIcon =()=> {\r\n    return(\r\n            <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"1rem\"\r\n            height=\"1rem\"\r\n            x=\"0\"\r\n            y=\"0\"\r\n            enableBackground=\"new 0 0 492.001 492.001\"\r\n            version=\"1.1\"\r\n            viewBox=\"0 0 492.001 492.001\"\r\n            xmlSpace=\"preserve\"\r\n        >\r\n            <path \r\n            fill='white'\r\n            d=\"M487.97 237.06l-58.82-58.82c-5.224-5.228-14.376-5.228-19.592 0l-7.436 7.432c-5.4 5.4-5.4 14.064 0 19.46l21.872 21.74H265.206V68.396l21.808 22.132c5.224 5.22 14.216 5.22 19.428 0l7.36-7.432c5.404-5.404 5.356-14.196-.044-19.596L254.846 4.444c-2.6-2.592-6.088-4.184-9.804-4.184h-.404c-3.712 0-7.188 1.588-9.784 4.184l-57.688 57.772c-2.612 2.608-4.052 6.124-4.052 9.836 0 3.704 1.44 7.208 4.052 9.816l7.432 7.444c5.224 5.22 14.612 5.228 19.828.004l22.368-22.132v159.688H67.814l22.14-22.008c2.608-2.608 4.048-6.028 4.048-9.732s-1.44-7.16-4.052-9.76l-7.436-7.42c-5.22-5.216-14.372-5.2-19.584.008L4.034 236.856c-2.672 2.672-4.1 6.244-4.032 9.92-.068 3.816 1.356 7.388 4.028 10.056l57.68 57.692c5.224 5.22 14.38 5.22 19.596 0l7.44-7.44a13.75 13.75 0 004.044-9.788c0-3.716-1.44-7.232-4.044-9.836l-22.14-22.172H226.79V425.32l-23.336-23.088c-5.212-5.22-14.488-5.22-19.7 0l-7.5 7.44a13.778 13.778 0 00-4.072 9.792c0 3.704 1.424 7.184 4.028 9.792l58.448 58.456c2.596 2.592 6.068 4.028 9.9 4.028.024-.016.24 0 .272 0 3.712 0 7.192-1.432 9.792-4.028l58.828-58.832a13.782 13.782 0 004.044-9.792c0-3.712-1.44-7.192-4.044-9.796l-7.44-7.44c-5.216-5.22-14.044-5.22-19.264 0l-21.54 21.868V265.284H425.59l-23.096 23.132c-2.612 2.608-4.048 6.112-4.048 9.82s1.432 7.192 4.048 9.8l7.44 7.444c5.212 5.224 14.372 5.224 19.584 0l58.452-58.452a13.633 13.633 0 004.028-9.916c.072-3.816-1.356-7.384-4.028-10.052z\"></path>\r\n        </svg>\r\n    )\r\n}\r\nconst RotateIcon =()=> {\r\n    return(\r\n        <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"1rem\"\r\n\t\theight=\"1rem\"\r\n        x=\"0\"\r\n        y=\"0\"\r\n        enableBackground=\"new 0 0 512.25 512.25\"\r\n        version=\"1.1\"\r\n        viewBox=\"0 0 512.25 512.25\"\r\n        xmlSpace=\"preserve\"\r\n      >\r\n        <path\r\n        fill='white' \r\n        d=\"M256.13.125c-78.9 0-150.399 37-197.199 93.1l-19.2-18.9c-3.9-4.2-9.901-5.7-15.3-3.6-5.4 1.5-9.3 6.299-9.901 11.999l-14.399 99c-1.626 12.188 12.431 19.135 17.1 16.8l99-14.099c5.7-.601 10.201-4.501 12.001-9.901 1.8-5.4.599-11.4-3.6-15.599l-22.8-22.8c35.7-45.601 92.199-75 154.3-75 107.1 0 195.7 87.299 196 194.399v.601c0 3.814-.126 7.63-.363 11.413-.591 9.487 7.701 17.161 17.159 15.778l30.236-4.426c7.167-1.049 12.572-7.07 12.821-14.308.097-2.842.147-5.674.147-8.458C512.13 115.676 397.209.125 256.13.125zM495.03 310.725l-99 14.099c-5.7.601-10.201 4.501-12.001 9.901s-.599 11.4 3.6 15.601l24.001 24c-35.402 46.5-92.501 76.8-155.501 76.8-107.401 0-196-87.601-196-195 .101-1.952-.242-6.154.416-14.141.791-9.622-7.582-17.43-17.043-16.097l-30.231 4.255C6.13 231.15.701 237.099.377 244.306 0 252.662.17 259.392.13 262.424c3.3 137.701 117.4 249.701 256 249.701 79.799 0 151.901-37.601 198.701-94.9l17.699 17.699c3.94 4.378 10.488 5.526 15.3 3.6 5.4-1.5 9.3-6.299 9.901-11.999l14.399-99c1.24-9.287-7.333-18.429-17.1-16.8z\"></path>\r\n      </svg>\r\n    )\r\n}\r\nconst ScaleIcon =()=> {\r\n    return(\r\n        <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"1rem\"\r\n        height=\"1rem\"\r\n        x=\"0\"\r\n\t\ty=\"0\"\r\n        viewBox=\"0 0 512 512\"\r\n      >\r\n        <path \r\n        fill='white'\r\n        d=\"M496.387 0H67.747c-8.63 0-15.618 6.996-15.618 15.613v276.239H15.613C6.996 291.852 0 298.836 0 307.465v188.922C0 505.004 6.996 512 15.613 512h188.922c8.63 0 15.613-6.996 15.613-15.613V459.87h276.239c8.617 0 15.613-6.988 15.613-15.617V15.614C512 6.995 505.004 0 496.387 0zM188.922 480.773H31.227V323.078h135.605l-72.586 72.586c-6.09 6.102-6.09 15.988 0 22.078 6.094 6.094 15.969 6.121 22.09 0l72.586-72.586zm291.851-52.132H220.148V313.93l121.73-121.73v62.456c0 8.63 6.985 15.614 15.614 15.614 8.621 0 15.613-6.985 15.613-15.614V154.508c0-8.906-7.28-15.613-15.613-15.613H257.344c-8.63 0-15.614 6.992-15.614 15.613 0 8.629 6.985 15.613 15.614 15.613H319.8l-121.738 121.73H83.359V31.228h397.414zm0 0\"></path>\r\n      </svg>\r\n    )\r\n} */"]},"metadata":{},"sourceType":"module"}
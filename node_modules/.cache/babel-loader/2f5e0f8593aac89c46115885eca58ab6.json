{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\src\\\\views\\\\pages\\\\patient\\\\informed-consent-reception.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Button, Col, Container, Form, FormGroup, Input, Row, InputGroup, InputGroupText, InputGroupAddon, Card, CardBody, Label, Progress } from 'reactstrap';\nimport classnames from \"classnames\";\nimport Axios from '../../../helpers/axiosConfig';\nimport { Redirect } from 'react-router-dom';\nimport { getList } from 'helpers/ListHelper';\n\nvar InformedConsent = function InformedConsent(_ref) {\n  var location = _ref.location;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      consentRead = _useState2[0],\n      setConsentRead = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      acceptedConcentId = _useState4[0],\n      setAcceptedConcentId = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      file = _useState6[0],\n      setFile = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      next = _useState8[0],\n      setNext = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      observations = _useState10[0],\n      setObservations = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      acceptedConcent = _useState12[0],\n      setAcceptedConcent = _useState12[1];\n\n  function load(_x, _x2) {\n    return _load.apply(this, arguments);\n  }\n\n  function _load() {\n    _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fx, route) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getList(route);\n\n            case 2:\n              response = _context2.sent;\n\n              if (response.status === 200) {\n                fx(response.data.result);\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _load.apply(this, arguments);\n  }\n\n  var enviar = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(file !== undefined)) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 4;\n              return archivo();\n\n            case 4:\n              setNext(true);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function enviar(_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var archivo = function archivo() {\n    var f = new FormData();\n    f.append(\"file\", file[0]);\n    Axios.post(\"file/\" + location.state.run, f).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }; // useEffect(() => { \n  //     load(setAcceptedConcent, \"list/consent\")\n  // }, [])\n  // const addInformedConsent = async (e) => {\n  //     e.preventDefault()\n  //     const res = await Axios.post(process.env.REACT_APP_API_URL + \"person/informed-consent\",\n  //       { \n  //         personId : location.state.id,\n  //         informed_consent_answer_id: acceptedConcentId,\n  //         observations: observations,\n  //         consentRead:consentRead\n  //       }\n  //     )\n  //     if (!res.data.error)\n  //      setNext(true) \n  //      \n  //   }\n\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, location.state.run, \", \", location.state.name, \" \", location.state.apellido), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"heading-small text-muted mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Consentimiento Informado\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: enviar,\n    role: \"form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 33\n    }\n  }, \"Por favor, lea con detenci\\xF3n el consentimiento informado\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://drive.google.com/drive/u/4/folders/1Tg7sQlE7y9l4TqlJ3dXc7cY807qXKf5C\",\n    rel: \"noopener noreferrer\",\n    target: \"_blank\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  }, \"disponible aqu\\xED.\")))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmslFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }\n  }, \"Subir archivo PDF\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".pdf\",\n    onChange: function onChange(e) {\n      return setFile(e.target.files);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 42\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 47\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmslFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, \"Aceptaci\\xF3n\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-toggle custom-toggle-warning mr-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 38\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"checkbox\",\n    checked: true,\n    onChange: function onChange(e) {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"custom-toggle-slider rounded-circle\",\n    \"data-label-off\": \"No\",\n    \"data-label-on\": \"S\\xED\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 37\n    }\n  }))))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: \"0,5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }, \"Guardar\")))), next && /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/admin/list-patient-anamnesis\",\n      state: {\n        id: location.state.id,\n        run: location.state.run,\n        name: location.state.name,\n        reception: true\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 30\n    }\n  }))));\n};\n\nexport default InformedConsent;","map":{"version":3,"sources":["C:/Users/Christian/WebstormProjects/teleodontoweb/src/views/pages/patient/informed-consent-reception.js"],"names":["React","useState","useEffect","Button","Col","Container","Form","FormGroup","Input","Row","InputGroup","InputGroupText","InputGroupAddon","Card","CardBody","Label","Progress","classnames","Axios","Redirect","getList","InformedConsent","location","consentRead","setConsentRead","acceptedConcentId","setAcceptedConcentId","file","setFile","next","setNext","observations","setObservations","acceptedConcent","setAcceptedConcent","load","fx","route","response","status","data","result","enviar","e","preventDefault","undefined","archivo","f","FormData","append","post","state","run","then","console","log","catch","error","name","apellido","target","files","pathname","id","reception"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {\r\n    Button, Col, Container, Form, FormGroup, Input, Row, InputGroup,\r\n    InputGroupText, InputGroupAddon, Card, CardBody, Label, Progress\r\n} from 'reactstrap'\r\nimport classnames from \"classnames\";\r\nimport Axios from '../../../helpers/axiosConfig'\r\nimport {Redirect} from 'react-router-dom';\r\nimport {getList} from 'helpers/ListHelper';\r\n\r\nconst InformedConsent = ({location}) => {\r\n    const [consentRead, setConsentRead] = useState(false)\r\n    const [acceptedConcentId, setAcceptedConcentId] = useState(0)\r\n    const [file, setFile] = useState()\r\n    const [next, setNext] = useState(false)\r\n    const [observations, setObservations] = useState(\"\")\r\n    const [acceptedConcent, setAcceptedConcent] = useState();\r\n\r\n    async function load(fx, route) {\r\n        const response = await getList(route)\r\n        if (response.status === 200) {\r\n            fx(response.data.result)\r\n        }\r\n    }\r\n\r\n    const enviar = async (e) => {\r\n        e.preventDefault()\r\n        if (file !== undefined) await archivo()\r\n        setNext(true)\r\n    }\r\n\r\n    const archivo = () => {\r\n        const f = new FormData();\r\n\r\n        f.append(\"file\", file[0])\r\n\r\n        Axios.post(\"file/\" + location.state.run, f)\r\n            .then(response => {\r\n                console.log(response)\r\n\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n\r\n\r\n    }\r\n    // useEffect(() => { \r\n    //     load(setAcceptedConcent, \"list/consent\")\r\n    // }, [])\r\n\r\n\r\n    // const addInformedConsent = async (e) => {\r\n    //     e.preventDefault()\r\n    //     const res = await Axios.post(process.env.REACT_APP_API_URL + \"person/informed-consent\",\r\n    //       { \r\n    //         personId : location.state.id,\r\n    //         informed_consent_answer_id: acceptedConcentId,\r\n    //         observations: observations,\r\n    //         consentRead:consentRead\r\n    //       }\r\n    //     )\r\n    //     if (!res.data.error)\r\n    //      setNext(true) \r\n    //      \r\n\r\n    //   }\r\n\r\n    return (\r\n        <Container>\r\n            <Card>\r\n                <CardBody>\r\n                    <h3>{location.state.run}, {location.state.name} {location.state.apellido}</h3>\r\n                    <h6 className=\"heading-small text-muted mb-4\">\r\n                        Consentimiento Informado\r\n                    </h6>\r\n                    <Form onSubmit={enviar} role=\"form\">\r\n                        <FormGroup className=\"row\">\r\n                            <Col>\r\n                                <b>Por favor, lea con detención el consentimiento informado{\" \"}\r\n                                <a href=\"https://drive.google.com/drive/u/4/folders/1Tg7sQlE7y9l4TqlJ3dXc7cY807qXKf5C\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n                                    disponible aquí.</a></b>\r\n                            </Col>\r\n                        </FormGroup>\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"6\">\r\n                                <Label\r\n                                    className=\"form-control-label\"\r\n                                    htmslFor=\"example-text-input\"\r\n                                >\r\n                                    Subir archivo PDF\r\n                                </Label><br/>\r\n                                <input type=\"file\" accept=\".pdf\" onChange={(e) => setFile(e.target.files)}\r\n                                       /><br/><br/>\r\n                                       \r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label\r\n                                    className=\"form-control-label\"\r\n                                    htmslFor=\"example-text-input\"\r\n                                >\r\n                                    Aceptación\r\n                                </Label>\r\n                                <div><label className=\"custom-toggle custom-toggle-warning mr-1\">\r\n                                    <Input type=\"checkbox\" checked onChange={(e) => {\r\n                                    }}/>\r\n                                    <span\r\n                                        className=\"custom-toggle-slider rounded-circle\"\r\n                                        data-label-off=\"No\"\r\n                                        data-label-on=\"Sí\"\r\n                                    />\r\n                                </label></div>\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"10\">\r\n\r\n                            </Col>\r\n                            <Col md=\"0,5\">\r\n                                <Button color=\"primary\" type=\"submit\">Guardar</Button>\r\n                            </Col>\r\n\r\n                        </FormGroup>\r\n\r\n                    </Form>\r\n                    {next && <Redirect to={{\r\n                        pathname: \"/admin/list-patient-anamnesis\",\r\n                        state: {id: location.state.id, run: location.state.run, name: location.state.name, reception:true}\r\n                    }}/>}\r\n                </CardBody>\r\n            </Card>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default InformedConsent\r\n"]},"metadata":{},"sourceType":"module"}
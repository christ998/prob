{"ast":null,"code":"var classes = require('./utils/classes'),\n    events = require('./utils/events'),\n    extend = require('./utils/extend'),\n    toString = require('./utils/to-string'),\n    getByClass = require('./utils/get-by-class'),\n    fuzzy = require('./utils/fuzzy');\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options = extend({\n    location: 0,\n    distance: 100,\n    threshold: 0.4,\n    multiSearch: true,\n    searchClass: 'fuzzy-search'\n  }, options);\n  var fuzzySearch = {\n    search: function search(searchString, columns) {\n      // Substract arguments from the searchString or put searchString as only argument\n      var searchArguments = options.multiSearch ? searchString.replace(/ +$/, '').split(/ +/) : [searchString];\n\n      for (var k = 0, kl = list.items.length; k < kl; k++) {\n        fuzzySearch.item(list.items[k], columns, searchArguments);\n      }\n    },\n    item: function item(_item, columns, searchArguments) {\n      var found = true;\n\n      for (var i = 0; i < searchArguments.length; i++) {\n        var foundArgument = false;\n\n        for (var j = 0, jl = columns.length; j < jl; j++) {\n          if (fuzzySearch.values(_item.values(), columns[j], searchArguments[i])) {\n            foundArgument = true;\n          }\n        }\n\n        if (!foundArgument) {\n          found = false;\n        }\n      }\n\n      _item.found = found;\n    },\n    values: function values(_values, value, searchArgument) {\n      if (_values.hasOwnProperty(value)) {\n        var text = toString(_values[value]).toLowerCase();\n\n        if (fuzzy(text, searchArgument, options)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  };\n  events.bind(getByClass(list.listContainer, options.searchClass), 'keyup', function (e) {\n    var target = e.target || e.srcElement; // IE have srcElement\n\n    list.search(target.value, fuzzySearch.search);\n  });\n  return function (str, columns) {\n    list.search(str, columns, fuzzySearch.search);\n  };\n};","map":{"version":3,"sources":["C:/Users/Christian/WebstormProjects/teleodontoweb/node_modules/list.js/src/fuzzy-search.js"],"names":["classes","require","events","extend","toString","getByClass","fuzzy","module","exports","list","options","location","distance","threshold","multiSearch","searchClass","fuzzySearch","search","searchString","columns","searchArguments","replace","split","k","kl","items","length","item","found","i","foundArgument","j","jl","values","value","searchArgument","hasOwnProperty","text","toLowerCase","bind","listContainer","e","target","srcElement","str"],"mappings":"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","sourcesContent":["\nvar classes = require('./utils/classes'),\n  events = require('./utils/events'),\n  extend = require('./utils/extend'),\n  toString = require('./utils/to-string'),\n  getByClass = require('./utils/get-by-class'),\n  fuzzy = require('./utils/fuzzy');\n\nmodule.exports = function(list, options) {\n  options = options || {};\n\n  options = extend({\n    location: 0,\n    distance: 100,\n    threshold: 0.4,\n    multiSearch: true,\n    searchClass: 'fuzzy-search'\n  }, options);\n\n\n\n  var fuzzySearch = {\n    search: function(searchString, columns) {\n      // Substract arguments from the searchString or put searchString as only argument\n      var searchArguments = options.multiSearch ? searchString.replace(/ +$/, '').split(/ +/) : [searchString];\n\n      for (var k = 0, kl = list.items.length; k < kl; k++) {\n        fuzzySearch.item(list.items[k], columns, searchArguments);\n      }\n    },\n    item: function(item, columns, searchArguments) {\n      var found = true;\n      for(var i = 0; i < searchArguments.length; i++) {\n        var foundArgument = false;\n        for (var j = 0, jl = columns.length; j < jl; j++) {\n          if (fuzzySearch.values(item.values(), columns[j], searchArguments[i])) {\n            foundArgument = true;\n          }\n        }\n        if(!foundArgument) {\n          found = false;\n        }\n      }\n      item.found = found;\n    },\n    values: function(values, value, searchArgument) {\n      if (values.hasOwnProperty(value)) {\n        var text = toString(values[value]).toLowerCase();\n\n        if (fuzzy(text, searchArgument, options)) {\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n\n\n  events.bind(getByClass(list.listContainer, options.searchClass), 'keyup', function(e) {\n    var target = e.target || e.srcElement; // IE have srcElement\n    list.search(target.value, fuzzySearch.search);\n  });\n\n  return function(str, columns) {\n    list.search(str, columns, fuzzySearch.search);\n  };\n};\n"]},"metadata":{},"sourceType":"script"}
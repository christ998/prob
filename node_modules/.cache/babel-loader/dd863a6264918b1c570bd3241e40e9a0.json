{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\src\\\\views\\\\pages\\\\patient\\\\patient-carer.js\";\n\nimport React, { useState } from 'react';\nimport { Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label } from 'reactstrap';\nimport Axios from '../../../helpers/axiosConfig';\nimport { Link, Redirect } from 'react-router-dom';\n\nvar PatientCarer = function PatientCarer() {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      createdPersonId = _useState2[0],\n      setCreatedPersonId = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toggle = _useState4[0],\n      setToggle = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      next = _useState6[0],\n      setNext = _useState6[1];\n\n  var _useState7 = useState({\n    carerNames: \"\",\n    carerPaternalLastname: \"\",\n    carerMaternalLastname: \"\",\n    carerPhone: \"\",\n    carerCellPhone: \"\",\n    carerEmail: \"\",\n    contador: \"\"\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      datos = _useState8[0],\n      setDatos = _useState8[1];\n\n  var handleInputChange = function handleInputChange(e) {\n    setDatos(_objectSpread(_objectSpread({}, datos), {}, {\n      [e.target.name]: e.target.value\n    }));\n    console.log(datos);\n  };\n\n  var addPerson = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return Axios.post(\"person\", {\n                run: datos.run + \"-\" + datos.verificationNumber,\n                names: datos.names,\n                lastnames: datos.paternalLastname + \" \" + datos.maternalLastname,\n                birthdate: datos.birthDate,\n                phone: datos.phone,\n                cellphone: datos.cellphone,\n                email: datos.email\n              });\n\n            case 3:\n              res = _context.sent;\n              console.log(res);\n\n              if (res.data.error) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 8;\n              return setCreatedPersonId(res.data.result[2].insertId);\n\n            case 8:\n              _context.next = 10;\n              return setDatos(_objectSpread({}, datos));\n\n            case 10:\n              _context.next = 12;\n              return setNext(true);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function addPerson(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var addCarer = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              _context2.next = 3;\n              return Axios.post(\"carer/\", {\n                personId: datos.createdPersonId,\n                names: datos.carerNames,\n                lastnames: datos.carerPaternalLastname + \" \" + datos.carerMaternalLastname,\n                phone: datos.carerPhone,\n                cellphone: datos.carerCellPhone,\n                email: datos.carerEmail\n              });\n\n            case 3:\n              res = _context2.sent;\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function addCarer(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var hoy = new Date();\n  var reqTag = /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#DC3545\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 18\n    }\n  }, \"*\");\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"heading-small text-muted mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Cuidador\"), /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      color: \"#DC3545\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"* Existen campos obligatorios\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: addCarer,\n    role: \"form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmlFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, \"Nombres \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Debe colocar primera letra en May\\xFAscula\",\n    id: \"example-text-input\",\n    name: \"carerNames\",\n    type: \"text\",\n    pattern: \"^[\\xF1a-z\\xD1A-Z ]*$\",\n    onChange: function onChange(e) {\n      handleInputChange(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmlFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, \"Apellido Paterno \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Debe colocar primera letra en May\\xFAscula\",\n    id: \"example-text-input\",\n    name: \"carerPaternalLastnames\",\n    type: \"text\",\n    pattern: \"^[\\xD1A-Z \\xF1a-z]*$\",\n    onChange: function onChange(e) {\n      handleInputChange(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmlFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \"Apellido Materno \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Debe colocar primera letra en May\\xFAscula\",\n    id: \"example-text-input\",\n    name: \"carerMaternalLastncame\",\n    type: \"text\",\n    pattern: \"^[\\xD1A-Z \\xF1a-z]*$\",\n    onChange: function onChange(e) {\n      handleInputChange(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmlFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }, \"Tel\\xE9fono fijo\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"+56 9 2299 7066\",\n    name: \"carerPhone\",\n    id: \"example-text-input\",\n    type: \"tel\",\n    onChange: function onChange(e) {\n      handleInputChange(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmlFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, \"Tel\\xE9fono celular \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"+56 9 2299 7066\",\n    id: \"example-text-input\",\n    name: \"carerCellPhone\",\n    type: \"tel\",\n    onChange: function onChange(e) {\n      handleInputChange(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    htmlFor: \"example-text-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"correo@dominio.cl\",\n    id: \"example-text-input\",\n    name: \"carerEmail\",\n    type: \"email\",\n    onChange: function onChange(e) {\n      handleInputChange(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }, \"Registrar Cuidador\")))), next && /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/admin/consultation-motive\",\n      state: {\n        id: createdPersonId,\n        run: datos.run + \"-\" + datos.verificationNumber,\n        name: datos.names,\n        apellido: datos.paternalLastname\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 23\n    }\n  }))));\n};\n\nexport default PatientCarer;","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/patient-carer.js"],"names":["React","useState","Button","Col","Container","Form","FormGroup","Input","Card","CardBody","Label","Axios","Link","Redirect","PatientCarer","createdPersonId","setCreatedPersonId","toggle","setToggle","next","setNext","carerNames","carerPaternalLastname","carerMaternalLastname","carerPhone","carerCellPhone","carerEmail","contador","datos","setDatos","handleInputChange","e","target","name","value","console","log","addPerson","preventDefault","post","run","verificationNumber","names","lastnames","paternalLastname","maternalLastname","birthdate","birthDate","phone","cellphone","email","res","data","error","result","insertId","addCarer","personId","hoy","Date","reqTag","color","pathname","state","id","apellido"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport {\r\n  Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label\r\n} from 'reactstrap'\r\nimport Axios from '../../../helpers/axiosConfig'\r\nimport { Link , Redirect} from 'react-router-dom';\r\nconst PatientCarer = () => {\r\n\r\n  const [createdPersonId, setCreatedPersonId] = useState(0)\r\n   const [toggle, setToggle] = useState(false)\r\n   const [next, setNext]=useState(false)\r\n   const[datos, setDatos]=useState({\r\n     carerNames:\"\",\r\n     carerPaternalLastname:\"\",\r\n     carerMaternalLastname:\"\",\r\n     carerPhone:\"\",\r\n     carerCellPhone:\"\",\r\n     carerEmail:\"\",\r\n     contador:\"\",\r\n   })\r\n  const handleInputChange = (e) =>{\r\n     setDatos({\r\n       ...datos,\r\n       [e.target.name]: e.target.value\r\n     })\r\n      console.log(datos)\r\n  }\r\n\r\n  const addPerson = async (e) => {\r\n    e.preventDefault()\r\n    const res = await Axios.post(\"person\",\r\n      {\r\n        run: datos.run + \"-\" + datos.verificationNumber,\r\n        names: datos.names,\r\n        lastnames: datos.paternalLastname + \" \" + datos.maternalLastname,\r\n        birthdate: datos.birthDate,\r\n        phone: datos.phone,\r\n        cellphone: datos.cellphone,\r\n        email: datos.email\r\n      }\r\n    )\r\n    console.log(res)\r\n    if (!res.data.error)\r\n      \r\n      await setCreatedPersonId(res.data.result[2].insertId)\r\n      await setDatos({\r\n        \r\n        ...datos,\r\n        \r\n      })\r\n      await setNext(true)\r\n      \r\n  }\r\n\r\n  const addCarer = async (e) => {\r\n    e.preventDefault()\r\n    const res = await Axios.post(\"carer/\",\r\n      {\r\n        personId: datos.createdPersonId,\r\n        names: datos.carerNames,\r\n        lastnames: datos.carerPaternalLastname + \" \" + datos.carerMaternalLastname,\r\n        phone: datos.carerPhone,\r\n        cellphone: datos.carerCellPhone,\r\n        email: datos.carerEmail\r\n      })\r\n  }\r\n  const hoy = new Date()\r\n\r\n  const reqTag = <span style={{color:\"#DC3545\"}}>*</span>\r\n\r\n  return (\r\n    <Container>\r\n         \r\n      \r\n        <Card>\r\n          <CardBody>\r\n            <h6 className=\"heading-small text-muted mb-4\">\r\n              Cuidador\r\n                        </h6>\r\n            <h5 style={{color:\"#DC3545\"}}>* Existen campos obligatorios</h5>\r\n            <Form onSubmit={addCarer} role=\"form\">\r\n              <FormGroup className=\"row\">\r\n                <Col>\r\n                  <Label\r\n                    className=\"form-control-label\"\r\n                    htmlFor=\"example-text-input\"\r\n                  >\r\n                    Nombres {reqTag}\r\n                            </Label>\r\n                  <Input\r\n                    placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                    id=\"example-text-input\"\r\n                    name=\"carerNames\"\r\n                    type=\"text\"\r\n                    pattern=\"^[ña-zÑA-Z ]*$\"\r\n                    onChange={(e) => { handleInputChange(e) }}\r\n                    required\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup className=\"row\">\r\n                <Col>\r\n                  <Label\r\n                    className=\"form-control-label\"\r\n                    htmlFor=\"example-text-input\"\r\n                  >\r\n                    Apellido Paterno {reqTag}\r\n                            </Label>\r\n                  <Input\r\n                    placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                    id=\"example-text-input\"\r\n                    name=\"carerPaternalLastnames\"\r\n                    type=\"text\"\r\n                    pattern=\"^[ÑA-Z ña-z]*$\"\r\n                    onChange={(e) => { handleInputChange(e) }}\r\n                    required\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup className=\"row\">\r\n                <Col>\r\n                  <Label\r\n                    className=\"form-control-label\"\r\n                    htmlFor=\"example-text-input\"\r\n                  >\r\n                    Apellido Materno {reqTag}\r\n                            </Label>\r\n                  <Input\r\n                    placeholder=\"Debe colocar primera letra en Mayúscula\"\r\n                    id=\"example-text-input\"\r\n                    name=\"carerMaternalLastncame\"\r\n                    type=\"text\"\r\n                    pattern=\"^[ÑA-Z ña-z]*$\"\r\n                    onChange={(e) => { handleInputChange(e) }}\r\n                    required\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup className=\"row\">\r\n                <Col>\r\n                  <Label\r\n                    className=\"form-control-label\"\r\n                    htmlFor=\"example-text-input\"\r\n                  >\r\n                    Teléfono fijo\r\n                            </Label>\r\n                  <Input\r\n                    placeholder=\"+56 9 2299 7066\"\r\n                    name=\"carerPhone\"\r\n                    id=\"example-text-input\"\r\n                    type=\"tel\"\r\n                    onChange={(e) => { handleInputChange(e) }}\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup className=\"row\">\r\n                <Col>\r\n                  <Label\r\n                    className=\"form-control-label\"\r\n                    htmlFor=\"example-text-input\"\r\n                  >\r\n                    Teléfono celular {reqTag}\r\n                            </Label>\r\n                  <Input\r\n                    placeholder=\"+56 9 2299 7066\"\r\n                    id=\"example-text-input\"\r\n                    name=\"carerCellPhone\"\r\n                    type=\"tel\"\r\n                    onChange={(e) => { handleInputChange(e) }}\r\n                    required\r\n\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup className=\"row\">\r\n                <Col>\r\n                  <Label\r\n                    className=\"form-control-label\"\r\n                    htmlFor=\"example-text-input\"\r\n                  >\r\n                    Email\r\n                            </Label>\r\n                  <Input\r\n                    placeholder=\"correo@dominio.cl\"\r\n                    id=\"example-text-input\"\r\n                    name=\"carerEmail\"\r\n                    type=\"email\"\r\n                    onChange={(e) => { handleInputChange(e) }}\r\n                  />\r\n                </Col>\r\n              </FormGroup>\r\n              <FormGroup className=\"row\">\r\n                <Col md=\"10\"></Col>\r\n                <Col md=\"2\">\r\n                  <Button type=\"submit\" color=\"primary\">Registrar Cuidador</Button>\r\n                </Col>\r\n              </FormGroup>\r\n            </Form>\r\n            { next && <Redirect to={{\r\n                pathname: \"/admin/consultation-motive\",\r\n                state: { id: createdPersonId, run: datos.run + \"-\" + datos.verificationNumber, name: datos.names, apellido : datos.paternalLastname} \r\n              }} /> }\r\n          </CardBody>\r\n        </Card>\r\n      \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default PatientCarer\r\n"]},"metadata":{},"sourceType":"module"}
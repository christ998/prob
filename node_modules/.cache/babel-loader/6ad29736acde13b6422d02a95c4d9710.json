{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\src\\\\views\\\\pages\\\\patient\\\\patient-admission.js\";\n\nimport React, { useState, useRef } from 'react';\nimport { Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label } from 'reactstrap';\nimport axios from \"../../../helpers/axiosConfig\";\nimport useList from '../../../hooks/useList';\nimport { Redirect } from 'react-router-dom';\nimport SimpleModal from \"../components/SimpleModal\";\n\nvar PatientAdmission = function PatientAdmission() {\n  var regions = useList(\"list/region\");\n  var towns = useList(\"list/town\");\n  var carerTowns = towns;\n  var registereds = useList(\"list/registered-by\");\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      toggle = _useState2[0],\n      setToggle = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      next = _useState4[0],\n      setNext = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      createdPersonId = _useState6[0],\n      setCreatedPersonId = _useState6[1];\n\n  var defaultPerson = {\n    run: '',\n    names: '',\n    paternal_lastname: '',\n    maternal_lastname: '',\n    birthdate: '',\n    address: '',\n    is_retired: 0,\n    region_id: 0,\n    town_id: 0,\n    registered_by_id: 0,\n    phone: '',\n    cellphone: '',\n    email: ''\n  };\n  var defaultCarer = {\n    carer_names: '',\n    carer_paternal_lastname: '',\n    carer_maternal_lastname: '',\n    carer_town_id: 7,\n    carer_phone: '',\n    carer_cellphone: '',\n    carer_email: ''\n  };\n\n  var _useState7 = useState(defaultCarer),\n      _useState8 = _slicedToArray(_useState7, 2),\n      newCarer = _useState8[0],\n      setNewCarer = _useState8[1];\n\n  var _useState9 = useState(defaultPerson),\n      _useState10 = _slicedToArray(_useState9, 2),\n      newPerson = _useState10[0],\n      setNewPerson = _useState10[1]; //SimpleModal######################################################################################################\n\n\n  var modalRef = useRef();\n\n  var setModal = function setModal(options) {\n    modalRef.current.setModal(options);\n  }; //SimpleModal######################################################################################################\n\n\n  var handleToggle = function handleToggle() {\n    if (toggle) {\n      setNewCarer(defaultCarer);\n    }\n\n    setToggle(!toggle);\n  };\n\n  var handleInputChangePerson = function handleInputChangePerson(e) {\n    setNewPerson(_objectSpread(_objectSpread({}, newPerson), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  var handleInputCheckedChange = function handleInputCheckedChange(e) {\n    setNewPerson(_objectSpread(_objectSpread({}, newPerson), {}, {\n      [e.target.name]: e.target.checked\n    }));\n  };\n\n  var handleInputChangeCarer = function handleInputChangeCarer(e) {\n    setNewCarer(_objectSpread(_objectSpread({}, newCarer), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  var addPerson = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.post(\"person\", {\n                run: newPerson.run,\n                names: newPerson.names,\n                lastnames: newPerson.paternal_lastname + \" \" + newPerson.maternal_lastname,\n                birthdate: newPerson.birthdate,\n                address: newPerson.address,\n                is_retired: newPerson.is_retired,\n                region_id: newPerson.region_id,\n                town_id: newPerson.town_id,\n                registered_by_id: newPerson.registered_by_id,\n                phone: newPerson.phone,\n                cellphone: newPerson.cellphone,\n                email: newPerson.email,\n                carer_names: newCarer.carer_names,\n                carer_lastnames: newCarer.carer_paternal_lastname + \" \" + newCarer.carer_maternal_lastname,\n                carer_town_id: newCarer.carer_town_id,\n                carer_phone: newCarer.carer_phone,\n                carer_cellphone: newCarer.carer_cellphone,\n                carer_email: newCarer.carer_email\n              }, {\n                withCredentials: true\n              });\n\n            case 4:\n              res = _context.sent;\n              _context.t0 = res.data.result[0][0].cod;\n              _context.next = _context.t0 === 0 ? 8 : _context.t0 === 1 ? 11 : _context.t0 === 2 ? 13 : 15;\n              break;\n\n            case 8:\n              setCreatedPersonId(res.data.result[0][0].id);\n              setNext(true);\n              return _context.abrupt(\"break\", 17);\n\n            case 11:\n              setModal({\n                title: 'Paciente',\n                text: 'El paciente ' + newPerson.run + ' ya existe.',\n                type: 1\n              });\n              return _context.abrupt(\"break\", 17);\n\n            case 13:\n              setModal({\n                title: 'Paciente',\n                text: 'El paciente ' + newPerson.run + ' ya existe pero esta inactivo. Â¿Desea activarlo?',\n                type: 2,\n                fx: updateStatePerson\n              });\n              return _context.abrupt(\"break\", 17);\n\n            case 15:\n              setModal({\n                title: 'Error',\n                text: 'Despierte al administrador de sistemas' + res.data.result[0][0].msg,\n                type: 1\n              });\n              return _context.abrupt(\"break\", 17);\n\n            case 17:\n              ;\n              _context.next = 24;\n              break;\n\n            case 20:\n              _context.prev = 20;\n              _context.t1 = _context[\"catch\"](1);\n              console.log('Err: ' + _context.t1);\n              alert(\"Err: \" + _context.t1);\n\n            case 24:\n              ;\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 20]]);\n    }));\n\n    return function addPerson(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var updateStatePerson = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.put(\"person/\" + newPerson.run);\n\n            case 2:\n              res = _context2.sent;\n\n              if (!res.data.error) {\n                setModal({\n                  title: 'Paciente',\n                  text: 'El paciente ' + newPerson.run + ' fue activado correctamente',\n                  type: 1\n                });\n              }\n\n              ;\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function updateStatePerson() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var hoy = new Date();\n  var reqTag = /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#DC3545\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 20\n    }\n  }, \"*\");\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SimpleModal, {\n    ref: modalRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, \"Ingreso de Paciente\"), /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      color: \"#DC3545\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"* Existen campos obligatorios\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: addPerson,\n    role: \"form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, \"Nombres \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Debe colocar primera letra en May\\xFAscula\",\n    type: \"text\",\n    name: \"names\",\n    pattern: \"^[\\xF1a-z\\xD1A-Z ]*$\",\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }, \"Apellido Paterno \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Debe colocar primera letra en May\\xFAscula\",\n    type: \"text\",\n    name: \"paternal_lastname\",\n    pattern: \"^[\\xD1A-Z\\xF1a-z ]*$\",\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, \"Apellido Materno \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Debe colocar primera letra en May\\xFAscula\",\n    type: \"text\",\n    name: \"maternal_lastname\",\n    pattern: \"^[\\xD1A-Z\\xF1a-z ]*$\",\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, \"N\\xFAmero de Identidad \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"12345678-9\",\n    type: \"text\",\n    name: \"run\" // pattern=\"^[ÃA-ZÃ±a-z ]*$\"\n    ,\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }, \"Fecha de nacimiento \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"2018-11-23\",\n    type: \"date\",\n    name: \"birthdate\",\n    min: \"1910-01-01\",\n    max: \"\" + hoy.getFullYear() + \"-\" + hoy.getMonth() + \"-\" + hoy.getDate(),\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 33\n    }\n  }, \"Direcci\\xF3n\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    maxLength: \"250\",\n    placeholder: \"Direcci\\xF3n\",\n    name: \"address\",\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex p-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 37\n    }\n  }, \"\\xBFPaciente esta pensionado?\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-toggle custom-toggle-warning ml-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"checkbox\",\n    name: \"is_retired\",\n    onChange: function onChange(e) {\n      handleInputCheckedChange(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"custom-toggle-slider rounded-circle\",\n    \"data-label-off\": \"No\",\n    \"data-label-on\": \"S\\xED\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }, \"Region \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"region_id\",\n    required: true,\n    onChange: function onChange(e) {\n      return handleInputChangePerson(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    hidden: true,\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 41\n    }\n  }, \"Seleccione...\"), regions.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: e.region_id,\n      value: e.region_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 60\n      }\n    }, e.name);\n  })), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 33\n    }\n  }, \"Comuna de procedencia \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"town_id\",\n    required: true,\n    onChange: function onChange(e) {\n      return handleInputChangePerson(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    hidden: true,\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 41\n    }\n  }, \"Seleccione...\"), towns.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: e.town_id,\n      value: e.town_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 58\n      }\n    }, e.name);\n  })), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }, \"Enrolado por \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"registered_by_id\",\n    required: true,\n    onChange: function onChange(e) {\n      return handleInputChangePerson(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    hidden: true,\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 41\n    }\n  }, \"Seleccione...\"), registereds.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: e.registered_by_id,\n      value: e.registered_by_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 64\n      }\n    }, e.name);\n  })), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 33\n    }\n  }, \"Tel\\xE9fono fijo\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"+56 9 2299 7066\",\n    type: \"tel\",\n    name: \"phone\",\n    pattenr: \"[0-9]*\",\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 33\n    }\n  }, \"Tel\\xE9fono celular\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"+56 9 2299 7066\",\n    type: \"tel\",\n    name: \"cellphone\",\n    pattenr: \"[+]569[0-9]{8}\",\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 33\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"correo@dominio.cl\",\n    name: \"email\",\n    type: \"email\",\n    onChange: function onChange(e) {\n      handleInputChangePerson(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex p-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 37\n    }\n  }, \"\\xBFPaciente posee un cuidador?\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-toggle custom-toggle-warning ml-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"checkbox\",\n    onChange: function onChange() {\n      return handleToggle();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"custom-toggle-slider rounded-circle\",\n    \"data-label-off\": \"No\",\n    \"data-label-on\": \"S\\xED\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 41\n    }\n  }))))), toggle === true && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 41\n    }\n  }, \"Nombres \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    required: true,\n    placeholder: \"Alberto Alfredo\",\n    name: \"carer_names\",\n    type: \"text\",\n    pattern: \"^[\\xF1a-z\\xD1A-Z ]*$\",\n    onChange: function onChange(e) {\n      handleInputChangeCarer(e);\n    },\n    value: newCarer.carer_names,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 41\n    }\n  }, \"Apellido Paterno \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    required: true,\n    placeholder: \"Lamadrid\",\n    name: \"carer_paternal_lastname\",\n    type: \"text\",\n    pattern: \"^[\\xD1A-Z \\xF1a-z]*$\",\n    onChange: function onChange(e) {\n      handleInputChangeCarer(e);\n    },\n    value: newCarer.carer_paternal_lastname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 41\n    }\n  }, \"Apellido Materno \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    required: true,\n    placeholder: \"P\\xE9rez\",\n    name: \"carer_maternal_lastname\",\n    type: \"text\",\n    pattern: \"^[\\xD1A-Z \\xF1a-z]*$\",\n    onChange: function onChange(e) {\n      handleInputChangeCarer(e);\n    },\n    value: newCarer.carer_maternal_lastname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 41\n    }\n  }, \"Comuna de procedencia \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"carer_town_id\",\n    required: true,\n    onChange: function onChange(e) {\n      return handleInputChangeCarer(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    hidden: true,\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 49\n    }\n  }, \"Seleccione...\"), carerTowns.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: e.town_id,\n      value: e.town_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 71\n      }\n    }, e.name);\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 41\n    }\n  }, \"Tel\\xE9fono fijo\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"+56 9 2299 7066\",\n    name: \"carer_phone\",\n    type: \"tel\",\n    onChange: function onChange(e) {\n      handleInputChangeCarer(e);\n    },\n    value: newCarer.carer_phone,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 41\n    }\n  }, \"Tel\\xE9fono celular\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"+56 9 2299 7066\",\n    name: \"carer_cellphone\",\n    type: \"tel\",\n    onChange: function onChange(e) {\n      handleInputChangeCarer(e);\n    },\n    value: newCarer.carer_cellphone,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label pt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 41\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    name: \"carer_email\",\n    placeholder: \"correo@dominio.cl\",\n    value: newCarer.carer_email,\n    onChange: function onChange(e) {\n      handleInputChangeCarer(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(Button, {\n    className: \"float-right\",\n    type: \"submit\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 25\n    }\n  }, \"Registrar\")))), next && /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/admin/consultation-motive\",\n      state: {\n        id: createdPersonId,\n        run: newPerson.run,\n        name: newPerson.names,\n        apellido: newPerson.paternal_lastname + \" \" + newPerson.maternal_lastname\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 17\n    }\n  }));\n};\n\nexport default PatientAdmission;","map":{"version":3,"sources":["C:/Users/Christian/WebstormProjects/teleodontoweb/src/views/pages/patient/patient-admission.js"],"names":["React","useState","useRef","Button","Col","Container","Form","FormGroup","Input","Card","CardBody","Label","axios","useList","Redirect","SimpleModal","PatientAdmission","regions","towns","carerTowns","registereds","toggle","setToggle","next","setNext","createdPersonId","setCreatedPersonId","defaultPerson","run","names","paternal_lastname","maternal_lastname","birthdate","address","is_retired","region_id","town_id","registered_by_id","phone","cellphone","email","defaultCarer","carer_names","carer_paternal_lastname","carer_maternal_lastname","carer_town_id","carer_phone","carer_cellphone","carer_email","newCarer","setNewCarer","newPerson","setNewPerson","modalRef","setModal","options","current","handleToggle","handleInputChangePerson","e","target","name","value","handleInputCheckedChange","checked","handleInputChangeCarer","addPerson","preventDefault","post","lastnames","carer_lastnames","withCredentials","res","data","result","cod","id","title","text","type","fx","updateStatePerson","msg","console","log","alert","put","error","hoy","Date","reqTag","color","getFullYear","getMonth","getDate","map","pathname","state","apellido"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react'\r\nimport {Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label} from 'reactstrap'\r\nimport axios from \"../../../helpers/axiosConfig\"\r\nimport useList from '../../../hooks/useList';\r\nimport {Redirect} from 'react-router-dom';\r\nimport SimpleModal from \"../components/SimpleModal\";\r\n\r\nconst PatientAdmission = () => {\r\n    const regions = useList(\"list/region\");\r\n    const towns = useList(\"list/town\");\r\n    const carerTowns = towns; \r\n    const registereds = useList(\"list/registered-by\")  \r\n    const [toggle, setToggle] = useState(false);\r\n    const [next, setNext] = useState(false);\r\n    const [createdPersonId, setCreatedPersonId] = useState(0);\r\n    const defaultPerson = {run: '', names: '', paternal_lastname: '', maternal_lastname: '', birthdate: '', address: '', is_retired: 0, region_id: 0, town_id: 0, registered_by_id: 0, phone: '', cellphone: '', email: ''}\r\n    const defaultCarer = {carer_names: '', carer_paternal_lastname: '', carer_maternal_lastname: '', carer_town_id: 7, carer_phone: '', carer_cellphone: '', carer_email: ''}\r\n    const[newCarer, setNewCarer] = useState(defaultCarer);\r\n    const[newPerson, setNewPerson] = useState(defaultPerson);\r\n\r\n    //SimpleModal######################################################################################################\r\n    const modalRef = useRef()\r\n    const setModal = (options) => {\r\n        modalRef.current.setModal(options)\r\n    };\r\n    //SimpleModal######################################################################################################\r\n\r\n\r\n    const handleToggle = () => {\r\n        if(toggle){\r\n            setNewCarer(defaultCarer);\r\n        }\r\n        setToggle(!toggle);\r\n    };\r\n\r\n    const handleInputChangePerson = e => {\r\n        setNewPerson({\r\n            ...newPerson,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleInputCheckedChange = e => {\r\n        setNewPerson({\r\n            ...newPerson,\r\n            [e.target.name]: e.target.checked\r\n        });\r\n    };\r\n\r\n    const handleInputChangeCarer = e => {\r\n        setNewCarer({\r\n            ...newCarer,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const addPerson = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.post(\"person\", {\r\n                run: newPerson.run,\r\n                names: newPerson.names,\r\n                lastnames: newPerson.paternal_lastname + \" \" + newPerson.maternal_lastname,\r\n                birthdate: newPerson.birthdate,\r\n                address: newPerson.address,\r\n                is_retired: newPerson.is_retired,\r\n                region_id: newPerson.region_id,\r\n                town_id: newPerson.town_id,\r\n                registered_by_id: newPerson.registered_by_id,\r\n                phone: newPerson.phone,\r\n                cellphone: newPerson.cellphone,\r\n                email: newPerson.email,\r\n                carer_names: newCarer.carer_names,\r\n                carer_lastnames: newCarer.carer_paternal_lastname + \" \" + newCarer.carer_maternal_lastname,\r\n                carer_town_id: newCarer.carer_town_id,\r\n                carer_phone: newCarer.carer_phone,\r\n                carer_cellphone: newCarer.carer_cellphone,\r\n                carer_email: newCarer.carer_email\r\n            }, {withCredentials:true});\r\n            switch(res.data.result[0][0].cod) {\r\n                case 0: \r\n                    setCreatedPersonId(res.data.result[0][0].id);\r\n                    setNext(true);\r\n                    break;\r\n                case 1: \r\n                    setModal({title: 'Paciente', text : 'El paciente ' + newPerson.run + ' ya existe.', type: 1});\r\n                    break;\r\n                case 2: \r\n                    setModal({title: 'Paciente', text : 'El paciente ' + newPerson.run + ' ya existe pero esta inactivo. Â¿Desea activarlo?', type: 2, fx: updateStatePerson});\r\n                    break;\r\n                default:\r\n                    setModal({title: 'Error', text : 'Despierte al administrador de sistemas' + res.data.result[0][0].msg, type: 1});\r\n                    break;\r\n            };\r\n        } catch(e) {\r\n            console.log('Err: ' + e);\r\n            alert(\"Err: \" + e);\r\n        };\r\n    };\r\n\r\n    const updateStatePerson = async () => {\r\n        const res = await axios.put(\"person/\" + newPerson.run);\r\n        if (!res.data.error) {\r\n            setModal({title: 'Paciente', text : 'El paciente ' + newPerson.run + ' fue activado correctamente', type: 1});\r\n        };\r\n    };\r\n  \r\n    const hoy = new Date()\r\n    const reqTag = <span style={{color: \"#DC3545\"}}>*</span>\r\n    \r\n    return (\r\n        <Container className=\"mt-3\">\r\n            <SimpleModal ref={modalRef}/>\r\n            <Card>\r\n                <CardBody>\r\n                    <h1>Ingreso de Paciente</h1>\r\n                    <h5 style={{color: \"#DC3545\"}}>* Existen campos obligatorios</h5>\r\n                    <Form onSubmit={addPerson} role=\"form\">\r\n                        <FormGroup className=\"row\">\r\n                            <Col md=\"6\">\r\n                                <Label className=\"form-control-label pt-3\">Nombres {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"Debe colocar primera letra en MayÃºscula\"\r\n                                    type=\"text\"\r\n                                    name=\"names\"\r\n                                    pattern=\"^[Ã±a-zÃA-Z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Apellido Paterno {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"Debe colocar primera letra en MayÃºscula\"\r\n                                    type=\"text\"\r\n                                    name=\"paternal_lastname\"\r\n                                    pattern=\"^[ÃA-ZÃ±a-z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Apellido Materno {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"Debe colocar primera letra en MayÃºscula\"\r\n                                    type=\"text\"\r\n                                    name=\"maternal_lastname\"\r\n                                    pattern=\"^[ÃA-ZÃ±a-z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">NÃºmero de Identidad {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"12345678-9\"\r\n                                    type=\"text\"\r\n                                    name=\"run\"\r\n                                    // pattern=\"^[ÃA-ZÃ±a-z ]*$\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Fecha de nacimiento {reqTag}</Label>\r\n                                <Input\r\n                                    placeholder=\"2018-11-23\"\r\n                                    type=\"date\"\r\n                                    name=\"birthdate\"\r\n                                    min=\"1910-01-01\"\r\n                                    max={\"\"+hoy.getFullYear()+\"-\"+hoy.getMonth()+\"-\"+hoy.getDate()}\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                    required\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">DirecciÃ³n</Label>\r\n                                <Input\r\n                                    type=\"text\" maxLength=\"250\"\r\n                                    placeholder=\"DirecciÃ³n\"\r\n                                    name=\"address\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <br></br>\r\n                                <Col className=\"d-flex p-0\">\r\n                                    <Label className=\"form-control-label\">Â¿Paciente esta pensionado?</Label>\r\n                                    <label className=\"custom-toggle custom-toggle-warning ml-3\">\r\n                                        <Input \r\n                                            type=\"checkbox\"\r\n                                            name=\"is_retired\"\r\n                                            onChange={e => {handleInputCheckedChange(e)}}\r\n                                        />\r\n                                        <span className=\"custom-toggle-slider rounded-circle\" data-label-off=\"No\" data-label-on=\"SÃ­\"/>\r\n                                    </label>\r\n                                </Col>\r\n                            </Col>\r\n                            <Col md=\"6\">\r\n                                <Label className=\"form-control-label pt-3\">Region {reqTag}</Label>\r\n                                <Input \r\n                                    type=\"select\"\r\n                                    name=\"region_id\"\r\n                                    required\r\n                                    onChange={e => handleInputChangePerson(e)}>\r\n                                        <option hidden value=\"\">Seleccione...</option>\r\n                                        {regions.map(e =>Â (<optionÂ key={e.region_id}Â value={e.region_id}>{e.name}</option>))}\r\n                                </Input>\r\n                                <Label className=\"form-control-label pt-3\">Comuna de procedencia {reqTag}</Label>\r\n                                <Input \r\n                                    type=\"select\"\r\n                                    name=\"town_id\"\r\n                                    required\r\n                                    onChange={e => handleInputChangePerson(e)}>\r\n                                        <option hidden value=\"\">Seleccione...</option>\r\n                                        {towns.map(e =>Â (<optionÂ key={e.town_id}Â value={e.town_id}>{e.name}</option>))}\r\n                                </Input>\r\n                                <Label className=\"form-control-label pt-3\">Enrolado por {reqTag}</Label>\r\n                                <Input \r\n                                    type=\"select\"\r\n                                    name=\"registered_by_id\"\r\n                                    required\r\n                                    onChange={e => handleInputChangePerson(e)}>\r\n                                        <option hidden value=\"\">Seleccione...</option>\r\n                                        {registereds.map(e =>Â (<optionÂ key={e.registered_by_id}Â value={e.registered_by_id}>{e.name}</option>))}\r\n                                </Input>\r\n                                <Label className=\"form-control-label pt-3\">TelÃ©fono fijo</Label>\r\n                                <Input\r\n                                    placeholder=\"+56 9 2299 7066\"\r\n                                    type=\"tel\"\r\n                                    name=\"phone\"\r\n                                    pattenr=\"[0-9]*\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">TelÃ©fono celular</Label>\r\n                                <Input\r\n                                    placeholder=\"+56 9 2299 7066\"\r\n                                    type=\"tel\"\r\n                                    name=\"cellphone\"\r\n                                    pattenr=\"[+]569[0-9]{8}\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <Label className=\"form-control-label pt-3\">Email</Label>\r\n                                <Input\r\n                                    placeholder=\"correo@dominio.cl\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    onChange={e => {handleInputChangePerson(e)}}\r\n                                />\r\n                                <br></br>\r\n                                <Col className=\"d-flex p-0\">\r\n                                    <Label className=\"form-control-label\">Â¿Paciente posee un cuidador?</Label>\r\n                                    <label className=\"custom-toggle custom-toggle-warning ml-3\">\r\n                                        <Input \r\n                                            type=\"checkbox\"\r\n                                            onChange={() => handleToggle()}\r\n                                        />\r\n                                        <span className=\"custom-toggle-slider rounded-circle\" data-label-off=\"No\" data-label-on=\"SÃ­\"/>\r\n                                    </label>\r\n                                </Col>\r\n                            </Col>\r\n                        </FormGroup>\r\n                        {toggle === true &&\r\n                            <>\r\n                                {/* <h6 className=\"heading-small text-muted mb-4\">Cuidador</h6> */}\r\n                                <FormGroup className=\"row\">\r\n                                    <Col md=\"6\">\r\n                                        <Label className=\"form-control-label pt-3\">Nombres {reqTag}</Label>\r\n                                        <Input\r\n                                            required\r\n                                            placeholder=\"Alberto Alfredo\"\r\n                                            name=\"carer_names\"\r\n                                            type=\"text\"\r\n                                            pattern=\"^[Ã±a-zÃA-Z ]*$\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_names}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Apellido Paterno {reqTag}</Label>\r\n                                        <Input\r\n                                            required\r\n                                            placeholder=\"Lamadrid\"\r\n                                            name=\"carer_paternal_lastname\"\r\n                                            type=\"text\"\r\n                                            pattern=\"^[ÃA-Z Ã±a-z]*$\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_paternal_lastname}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Apellido Materno {reqTag}</Label>\r\n                                        <Input\r\n                                            required\r\n                                            placeholder=\"PÃ©rez\"\r\n                                            name=\"carer_maternal_lastname\"\r\n                                            type=\"text\"\r\n                                            pattern=\"^[ÃA-Z Ã±a-z]*$\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_maternal_lastname}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Comuna de procedencia {reqTag}</Label>\r\n                                        <Input \r\n                                            type=\"select\"\r\n                                            name=\"carer_town_id\"\r\n                                            required\r\n                                            onChange={e => handleInputChangeCarer(e)}>\r\n                                                <option hidden value=\"\">Seleccione...</option>\r\n                                                {carerTowns.map(e =>Â (<optionÂ key={e.town_id}Â value={e.town_id}>{e.name}</option>))}\r\n                                        </Input>\r\n                                    </Col> \r\n                                    <Col md=\"6\">\r\n                                        <Label className=\"form-control-label pt-3\">TelÃ©fono fijo</Label>\r\n                                        <Input\r\n                                            placeholder=\"+56 9 2299 7066\"\r\n                                            name=\"carer_phone\"\r\n                                            type=\"tel\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_phone}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">TelÃ©fono celular</Label>\r\n                                        <Input\r\n                                            placeholder=\"+56 9 2299 7066\"\r\n                                            name=\"carer_cellphone\"\r\n                                            type=\"tel\"\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                            value={newCarer.carer_cellphone}\r\n                                        />\r\n                                        <Label className=\"form-control-label pt-3\">Email</Label>\r\n                                        <Input\r\n                                            type=\"email\"\r\n                                            name=\"carer_email\"\r\n                                            placeholder=\"correo@dominio.cl\"\r\n                                            value={newCarer.carer_email}\r\n                                            onChange={e => {handleInputChangeCarer(e)}}\r\n                                        />\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </>\r\n                        }\r\n                        <Button className= \"float-right\" type=\"submit\" color=\"primary\" >Registrar</Button>\r\n                    </Form>\r\n                </CardBody>\r\n            </Card>\r\n            {next && \r\n                <Redirect to={{\r\n                    pathname: \"/admin/consultation-motive\",\r\n                    state: { id: createdPersonId, run: newPerson.run, name: newPerson.names, apellido : newPerson.paternal_lastname + \" \" + newPerson.maternal_lastname} \r\n                }}/> \r\n            }\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default PatientAdmission;"]},"metadata":{},"sourceType":"module"}
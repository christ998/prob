{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\src\\\\views\\\\pages\\\\patient\\\\odontogram.js\";\n\nimport React, { useState, useEffect, Suspense } from 'react';\nimport Axios from '../../../helpers/axiosConfig';\nimport { Button, ButtonGroup, ButtonToolbar, Tooltip } from 'reactstrap';\nimport { Canvas } from \"react-three-fiber\";\nimport CameraControls from '../../../components/Fantoma/CameraControls';\nimport FantomaOdontogram from '../../../components/Fantoma/FantomaOdontogram';\nimport OdontogramModal from '../../../components/Fantoma/FormsExams/OdontogramModal';\nimport { Link } from 'react-router-dom';\n\nvar Odontogram = function Odontogram(_ref) {\n  var _location$state, _location$state2, _location$state3, _location$state4, _location$state5, _location$state6, _location$state7, _location$state8, _location$state9, _location$state10, _location$state11, _location$state12, _location$state13, _location$state14;\n\n  var location = _ref.location;\n\n  var _useState = useState({\n    height: undefined\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      canvasSize = _useState2[0],\n      setCanvasSize = _useState2[1];\n\n  var resizeCanvas = function resizeCanvas() {\n    var navbarSize = document.getElementsByClassName('navbar-top')[0];\n    var footerSize = document.getElementsByClassName('footer')[0];\n\n    var handleResize = function handleResize() {\n      setCanvasSize({\n        width: window.innerWidth - navbarSize.offsetWidth - footerSize.offsetWidth,\n        height: window.innerHeight - navbarSize.offsetHeight - footerSize.offsetHeight\n      });\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return function () {\n      return window.removeEventListener(\"resize\", handleResize);\n    };\n  };\n\n  var periodontogramUrl = \"periodontal url\";\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      gumOpacity = _useState4[0],\n      setGumOpacity = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      open = _useState6[0],\n      setOpen = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      rSelected = _useState8[0],\n      setRSelected = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      piecesTooltipOpen = _useState10[0],\n      setPiecesTooltipOpen = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      opacityTooltipOpen = _useState12[0],\n      setOpacityTooltipOpen = _useState12[1];\n\n  var piecesToggle = function piecesToggle() {\n    return setPiecesTooltipOpen(!piecesTooltipOpen);\n  };\n\n  var opacityToggle = function opacityToggle() {\n    return setOpacityTooltipOpen(!opacityTooltipOpen);\n  };\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      odontogramId = _useState14[0],\n      setOdontogramId = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      teeth = _useState16[0],\n      setTeeth = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      teethState = _useState18[0],\n      setTeethState = _useState18[1];\n\n  var _useState19 = useState(initialTeethState),\n      _useState20 = _slicedToArray(_useState19, 2),\n      currentTeeth = _useState20[0],\n      setCurrentTeeth = _useState20[1];\n\n  var initialTeethState = [{\n    teeth_id: 1,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 2,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 3,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 4,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 5,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 6,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 7,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 8,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 9,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 10,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 11,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 12,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 13,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 14,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 15,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 16,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 17,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 18,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 19,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 20,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 21,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 22,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 23,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 24,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 25,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 26,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 27,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 28,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 29,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 30,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 31,\n    teeth_state_id: 1\n  }, {\n    teeth_id: 32,\n    teeth_state_id: 1\n  }];\n\n  var handleCreateOdontogram = function handleCreateOdontogram() {\n    /* getOdontogram() */\n    if (odontogramId === 0) {\n      addTeethStates(initialTeethState);\n      console.log('odontograma creado');\n    }\n\n    setOpen(true);\n    /* getOdontogram() */\n  };\n\n  var addTeethStates = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(initialTeeth) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Axios.post(\"odontogram\", {\n                dentalAnamnesisId: location.state.anamId,\n                teethState: initialTeeth,\n                odontogramId: odontogramId\n                /* periodontogramUrl: periodontogramUrl */\n\n              });\n\n            case 2:\n              res = _context.sent;\n              if (!res.data.error) getOdontogramId();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function addTeethStates(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getOdontogramId = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return Axios.get(\"odontogram/\" + location.state.anamId).then(function (response) {\n                if (response.data.result[0] !== undefined) {\n                  setOdontogramId(response.data.result[0].odontogram_id);\n                  getTeethState(response.data.result[0].odontogram_id);\n                }\n              });\n\n            case 2:\n              res = _context2.sent;\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getOdontogramId() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var updateOdontogram = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id, updatedOdontogram) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return Axios.put(\"odontogram\", {\n                //dentalAnamnesisId : location.state.anamId,\n                odontogramId: id,\n                teethState: updatedOdontogram\n              });\n\n            case 2:\n              res = _context3.sent;\n\n              if (!res.data.error) {\n                setTeeth(Object.values(updatedOdontogram)); //getMarkers()\n                //alert(\"Etiqueta actualizada\")\n              }\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function updateOdontogram(_x2, _x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var getTeethState = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return Axios.get(\"odontogram/teeth/\" + odontogramId).then(function (response) {\n                if (response.data.result[0] !== undefined) {\n                  console.log(response.data.result);\n                  setTeethState(response.data.result);\n                }\n              });\n\n            case 2:\n              res = _context4.sent;\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function getTeethState() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var deleteOdontogram = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return Axios.delete(\"odontogram/\" + id);\n\n            case 2:\n              res = _context5.sent;\n\n              if (!res.data.error) {\n                alert(\"Estado dental eliminado\");\n              }\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function deleteOdontogram(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    resizeCanvas();\n    getOdontogramId();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OdontogramModal, {\n    open: open,\n    setOpen: setOpen,\n    updateOdontogram: updateOdontogram,\n    teeth: teethState,\n    odontogramId: odontogramId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(ButtonToolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    style: {\n      zIndex: 100,\n      position: 'absolute',\n      top: '90%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return handleCreateOdontogram();\n    },\n    color: \"primary\",\n    size: \"lg\",\n    id: \"pieces-selector\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-tooth\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 101\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"top\",\n    isOpen: piecesTooltipOpen,\n    target: \"pieces-selector\",\n    toggle: function toggle() {\n      return piecesToggle();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"Selector de piezas\")), /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return setGumOpacity(!gumOpacity);\n    },\n    color: \"primary\",\n    size: \"lg\",\n    id: \"opacity\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: \"fas\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 96\n    }\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"top\",\n    isOpen: opacityTooltipOpen,\n    target: \"opacity\",\n    toggle: function toggle() {\n      return opacityToggle();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, \"Opacidad\")), /*#__PURE__*/React.createElement(ButtonGroup, {\n    style: {\n      zIndex: 100,\n      position: 'absolute',\n      top: '90%',\n      left: '95%',\n      transform: 'translate(-100%, -50%)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"white\"\n    },\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state3 = location.state) === null || _location$state3 === void 0 ? void 0 : _location$state3.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state4 = location.state) === null || _location$state4 === void 0 ? void 0 : _location$state4.apellido,\n        anamId: location === null || location === void 0 ? void 0 : (_location$state5 = location.state) === null || _location$state5 === void 0 ? void 0 : _location$state5.anamId\n      },\n      pathname: \"/admin/extra-oral\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 51\n    }\n  }, \"Extra Oral\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"white\"\n    },\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state6 = location.state) === null || _location$state6 === void 0 ? void 0 : _location$state6.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state7 = location.state) === null || _location$state7 === void 0 ? void 0 : _location$state7.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state8 = location.state) === null || _location$state8 === void 0 ? void 0 : _location$state8.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state9 = location.state) === null || _location$state9 === void 0 ? void 0 : _location$state9.apellido,\n        anamId: location === null || location === void 0 ? void 0 : (_location$state10 = location.state) === null || _location$state10 === void 0 ? void 0 : _location$state10.anamId\n      },\n      pathname: \"/admin/soft-tissues-exam\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 51\n    }\n  }, \"Tejidos Blandos\")), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    active: true,\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, \"Odontograma\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    size: \"lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: \"white\"\n    },\n    to: {\n      state: {\n        id: location === null || location === void 0 ? void 0 : (_location$state11 = location.state) === null || _location$state11 === void 0 ? void 0 : _location$state11.id,\n        run: location === null || location === void 0 ? void 0 : (_location$state12 = location.state) === null || _location$state12 === void 0 ? void 0 : _location$state12.run,\n        name: location === null || location === void 0 ? void 0 : (_location$state13 = location.state) === null || _location$state13 === void 0 ? void 0 : _location$state13.name,\n        apellido: location === null || location === void 0 ? void 0 : (_location$state14 = location.state) === null || _location$state14 === void 0 ? void 0 : _location$state14.apellido\n      },\n      pathname: \"/admin/periodontogram\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 48\n    }\n  }, \"Periodontograma\")))), /*#__PURE__*/React.createElement(Canvas, {\n    className: \"canvas\",\n    gl: {\n      antialias: true\n    },\n    shadowMap: true,\n    pixelRatio: window.devicePixelRatio,\n    style: {\n      height: canvasSize.height\n    },\n    camera: {\n      fov: 55,\n      position: [0, 0, 10]\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(CameraControls, {\n    minDistance: 0.5,\n    maxDistance: 1.5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    intensity: 0.4,\n    position: [300, 300, 2000],\n    castShadow: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    intensity: 0.35,\n    position: [-3000, 1300, -1000],\n    castShadow: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"ambientLight\", {\n    intensity: 0.07,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Suspense, {\n    fallback: \"loading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FantomaOdontogram, {\n    scale: [10, 10, 10],\n    position: [0, 0, 0],\n    teeth: teeth,\n    opacity: gumOpacity ? 1 : 0.8,\n    open: open,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 6\n    }\n  }))));\n};\n\nexport default Odontogram;\n\nvar Icon = function Icon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"1rem\",\n    height: \"1rem\",\n    x: \"0\",\n    y: \"0\",\n    version: \"1.1\",\n    viewBox: \"0 0 90 90\",\n    xmlSpace: \"preserve\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"white\",\n    d: \"M69.772 20.224C63.521 7.917 50.719 0 36.883 0 16.546 0 0 16.546 0 36.883c0 13.836 7.917 26.638 20.224 32.889C26.32 81.761 38.771 90 53.117 90 73.454 90 90 73.454 90 53.117c0-14.347-8.239-26.797-20.228-32.893zm-16.717 1.011l15.71 15.71a31.866 31.866 0 01-.66 6.411L46.644 21.895a31.874 31.874 0 016.411-.66zm-29.28 44.35a31.458 31.458 0 01-1.51-4.43l6.59 6.59a31.559 31.559 0 01-4.871-1.698c-.069-.154-.143-.306-.209-.462zm13.17 3.18l-15.71-15.71c.004-2.196.231-4.34.66-6.412l21.461 21.461c-2.071.43-4.215.657-6.411.661zm11.833-2.309L23.544 41.222a31.773 31.773 0 012.365-4.707l27.577 27.577a31.925 31.925 0 01-4.708 2.364zm8.797-5.345L28.889 32.425a32.082 32.082 0 013.536-3.536l28.686 28.686a32.082 32.082 0 01-3.536 3.536zm6.517-7.626L36.515 25.908a31.816 31.816 0 014.707-2.364l25.234 25.234a31.768 31.768 0 01-2.364 4.707zm-2.937-31.22a31.469 31.469 0 014.892 1.719 31.559 31.559 0 011.698 4.871zM53.117 85c-10.216 0-19.319-4.835-25.158-12.331a36.842 36.842 0 008.924 1.098c20.338 0 36.884-16.546 36.884-36.883 0-3.047-.377-6.028-1.098-8.924C80.165 33.798 85 42.901 85 53.117 85 70.697 70.697 85 53.117 85z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 3\n    }\n  }));\n};","map":{"version":3,"sources":["C:/Users/Christian/WebstormProjects/teleodontoweb/src/views/pages/patient/odontogram.js"],"names":["React","useState","useEffect","Suspense","Axios","Button","ButtonGroup","ButtonToolbar","Tooltip","Canvas","CameraControls","FantomaOdontogram","OdontogramModal","Link","Odontogram","location","height","undefined","canvasSize","setCanvasSize","resizeCanvas","navbarSize","document","getElementsByClassName","footerSize","handleResize","width","window","innerWidth","offsetWidth","innerHeight","offsetHeight","addEventListener","removeEventListener","periodontogramUrl","gumOpacity","setGumOpacity","open","setOpen","rSelected","setRSelected","piecesTooltipOpen","setPiecesTooltipOpen","opacityTooltipOpen","setOpacityTooltipOpen","piecesToggle","opacityToggle","odontogramId","setOdontogramId","teeth","setTeeth","teethState","setTeethState","initialTeethState","currentTeeth","setCurrentTeeth","teeth_id","teeth_state_id","handleCreateOdontogram","addTeethStates","console","log","initialTeeth","post","dentalAnamnesisId","state","anamId","res","data","error","getOdontogramId","get","then","response","result","odontogram_id","getTeethState","updateOdontogram","id","updatedOdontogram","put","Object","values","deleteOdontogram","delete","alert","zIndex","position","top","left","transform","color","run","name","apellido","pathname","antialias","devicePixelRatio","fov","Icon"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Suspense } from 'react'\r\nimport Axios from '../../../helpers/axiosConfig'\r\nimport { Button, ButtonGroup, ButtonToolbar, Tooltip } from 'reactstrap'\r\nimport { Canvas } from \"react-three-fiber\";\r\nimport CameraControls from '../../../components/Fantoma/CameraControls'\r\nimport FantomaOdontogram  from '../../../components/Fantoma/FantomaOdontogram'\r\nimport OdontogramModal  from '../../../components/Fantoma/FormsExams/OdontogramModal'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Odontogram = ({location}) => {\r\n\r\n    const [canvasSize, setCanvasSize] = useState({height: undefined}); \r\n    const resizeCanvas=()=>{\r\n\t\tconst navbarSize = document.getElementsByClassName('navbar-top')[0];\r\n\t\tconst footerSize = document.getElementsByClassName('footer')[0];\r\n\t\tconst handleResize = () => {\r\n\t\t\tsetCanvasSize({\r\n\t\t\t\twidth: window.innerWidth - navbarSize.offsetWidth - footerSize.offsetWidth,\r\n\t\t\t\theight: window.innerHeight - navbarSize.offsetHeight - footerSize.offsetHeight\r\n\t\t\t});\r\n\t\t}\r\n\t\twindow.addEventListener(\"resize\", handleResize);\r\n\t\thandleResize();\r\n\t\treturn () => window.removeEventListener(\"resize\", handleResize); \r\n    }\r\n    \r\n    const periodontogramUrl=\"periodontal url\"\r\n    \r\n\tconst [gumOpacity, setGumOpacity] = useState(true)\r\n\t\r\n    const [open, setOpen ] = useState(false)\r\n    \r\n\tconst [rSelected, setRSelected] = useState(null);\r\n\r\n\tconst [piecesTooltipOpen, setPiecesTooltipOpen] = useState(false);\r\n    const [opacityTooltipOpen, setOpacityTooltipOpen] = useState(false);\r\n\r\n    const piecesToggle = () => setPiecesTooltipOpen(!piecesTooltipOpen);\r\n    const opacityToggle = () => setOpacityTooltipOpen(!opacityTooltipOpen);\r\n\r\n    const [odontogramId, setOdontogramId] = useState(0)\r\n    const [teeth, setTeeth] = useState([])\r\n    const [teethState, setTeethState] = useState([])\r\n    const [currentTeeth, setCurrentTeeth ] = useState(initialTeethState)\r\n    \r\n\tconst initialTeethState = [\r\n        {teeth_id: 1, teeth_state_id: 1},\r\n        {teeth_id: 2, teeth_state_id: 1},\r\n        {teeth_id: 3, teeth_state_id: 1},\r\n        {teeth_id: 4, teeth_state_id: 1},\r\n        {teeth_id: 5, teeth_state_id: 1},\r\n        {teeth_id: 6, teeth_state_id: 1},\r\n        {teeth_id: 7, teeth_state_id: 1},\r\n        {teeth_id: 8, teeth_state_id: 1},\r\n        {teeth_id: 9, teeth_state_id: 1},\r\n        {teeth_id: 10, teeth_state_id: 1},\r\n        {teeth_id: 11, teeth_state_id: 1},\r\n        {teeth_id: 12, teeth_state_id: 1},\r\n        {teeth_id: 13, teeth_state_id: 1},\r\n        {teeth_id: 14, teeth_state_id: 1},\r\n        {teeth_id: 15, teeth_state_id: 1},\r\n        {teeth_id: 16, teeth_state_id: 1},\r\n        {teeth_id: 17, teeth_state_id: 1},\r\n        {teeth_id: 18, teeth_state_id: 1},\r\n        {teeth_id: 19, teeth_state_id: 1},\r\n        {teeth_id: 20, teeth_state_id: 1},\r\n        {teeth_id: 21, teeth_state_id: 1},\r\n        {teeth_id: 22, teeth_state_id: 1},\r\n        {teeth_id: 23, teeth_state_id: 1},\r\n        {teeth_id: 24, teeth_state_id: 1},\r\n        {teeth_id: 25, teeth_state_id: 1},\r\n        {teeth_id: 26, teeth_state_id: 1},\r\n        {teeth_id: 27, teeth_state_id: 1},\r\n        {teeth_id: 28, teeth_state_id: 1},\r\n        {teeth_id: 29, teeth_state_id: 1},\r\n        {teeth_id: 30, teeth_state_id: 1},\r\n        {teeth_id: 31, teeth_state_id: 1},\r\n        {teeth_id: 32, teeth_state_id: 1}\r\n    ]\t\r\n    \r\n\r\n    const handleCreateOdontogram =()=>{\r\n        /* getOdontogram() */\r\n        if (odontogramId === 0){\r\n            addTeethStates(initialTeethState)\r\n            console.log('odontograma creado')\r\n        } \r\n        setOpen(true)\r\n        /* getOdontogram() */\r\n    }\r\n   \r\n    const addTeethStates = async (initialTeeth) => {\r\n\t\tconst res = await Axios.post(\"odontogram\",\r\n\t\t\t{\r\n\t\t\t\tdentalAnamnesisId : location.state.anamId,\r\n\t\t\t\tteethState: initialTeeth, \r\n\t\t\t\todontogramId: odontogramId,\r\n\t\t\t\t/* periodontogramUrl: periodontogramUrl */\r\n\t\t\t}\r\n\t\t)\t\r\n\t\tif (!res.data.error)\r\n        getOdontogramId()\r\n        \r\n    }\r\n\r\n    const getOdontogramId = async () => {\r\n        const res = await Axios.get(\"odontogram/\" + location.state.anamId)\r\n        .then(response => {\r\n            if(response.data.result[0] !== undefined){\r\n            setOdontogramId(response.data.result[0].odontogram_id)\r\n            getTeethState(response.data.result[0].odontogram_id)\r\n            }\r\n        }) \r\n    }\r\n \r\n\tconst updateOdontogram = async (id, updatedOdontogram) => {\r\n        const res = await Axios.put(\"odontogram\",\r\n            {\r\n                //dentalAnamnesisId : location.state.anamId,\r\n                odontogramId: id,\r\n                teethState: updatedOdontogram\r\n                \r\n            }\r\n        )\r\n        if (!res.data.error){\r\n\t\t    setTeeth(Object.values(updatedOdontogram))\r\n            //getMarkers()\r\n            //alert(\"Etiqueta actualizada\")\r\n        }\r\n    }\r\n   \r\n    const getTeethState = async () => {\r\n        const res = await Axios.get(\"odontogram/teeth/\" + odontogramId).then(response => {\r\n            if(response.data.result[0] !== undefined){\r\n                console.log(response.data.result)\r\n                setTeethState(response.data.result)\r\n            }\r\n        }) \r\n    } \r\n   \r\n \tconst deleteOdontogram = async (id) => {\r\n\r\n        const res = await Axios.delete(\"odontogram/\" + id);\r\n        if (!res.data.error) {\r\n            alert(\"Estado dental eliminado\")\r\n        }\r\n    }\r\n\r\n\tuseEffect(() => {\r\n        resizeCanvas()\r\n        getOdontogramId()\r\n    \r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<OdontogramModal open={open} setOpen={setOpen} updateOdontogram={updateOdontogram} teeth={teethState} odontogramId={odontogramId}/>\r\n\r\n\t\t\t<ButtonToolbar>\r\n            <ButtonGroup style={{ zIndex: 100, position: 'absolute', top:'90%', left:'50%', transform:'translate(-50%, -50%)' }}>\r\n\t\t\t\t<Button onClick={() => handleCreateOdontogram()} color=\"primary\" size=\"lg\" id=\"pieces-selector\"><i className=\"fas fa-tooth\"></i>\r\n                    <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={piecesTooltipOpen}\r\n                        target={\"pieces-selector\"}\r\n                        toggle={() => piecesToggle()}\r\n                    >\r\n                        Selector de piezas\r\n                    </Tooltip></Button>\r\n                   \r\n\t\t\t\t\t<Button onClick={() => setGumOpacity(!gumOpacity)} color=\"primary\" size=\"lg\" id=\"opacity\"><Icon className=\"fas\"/></Button>\r\n                    <Tooltip\r\n                        placement=\"top\"\r\n                        isOpen={opacityTooltipOpen}\r\n                        target={\"opacity\"}\r\n                        toggle={() => opacityToggle()}\r\n                    >\r\n                        Opacidad\r\n                    </Tooltip> \r\n\t\t\t</ButtonGroup>\r\n            <ButtonGroup style={{ zIndex: 100, position: 'absolute', top:'90%', left:'95%', transform:'translate(-100%, -50%)' }}>\r\n                <Button color=\"primary\" size=\"lg\"><Link style={{color: \"white\"}} to={{\r\n                    state: {\r\n                        id: location?.state?.id,\r\n                        run: location?.state?.run,\r\n                        name: location?.state?.name,\r\n                        apellido: location?.state?.apellido,\r\n                        anamId: location?.state?.anamId\r\n                    },\r\n                    pathname: \"/admin/extra-oral\"\r\n                    }}>Extra Oral</Link>\r\n                </Button>\r\n                <Button color=\"primary\" size=\"lg\"><Link style={{color: \"white\"}} to={{\r\n                    state: {\r\n                        id: location?.state?.id,\r\n                        run: location?.state?.run,\r\n                        name: location?.state?.name,\r\n                        apellido: location?.state?.apellido,\r\n                        anamId: location?.state?.anamId\r\n                    },\r\n                    pathname: \"/admin/soft-tissues-exam\"\r\n                    }}>Tejidos Blandos</Link>\r\n                </Button>\r\n                <Button color=\"primary\" active size=\"lg\">Odontograma</Button>\r\n                <Button color=\"info\" size=\"lg\"><Link style={{color: \"white\"}} to={{\r\n                    state: {\r\n                        id: location?.state?.id,\r\n                        run: location?.state?.run,\r\n                        name: location?.state?.name,\r\n                        apellido: location?.state?.apellido\r\n                    },\r\n                    pathname: \"/admin/periodontogram\"\r\n                    }}>Periodontograma</Link>\r\n                </Button>\r\n            </ButtonGroup>\r\n        </ButtonToolbar>\r\n\r\n\r\n\t\t\t<Canvas className=\"canvas\"\r\n\t\t\t\tgl={{ antialias: true }}\r\n\t\t\t\tshadowMap\r\n\t\t\t\tpixelRatio={window.devicePixelRatio}\r\n\t\t\t\tstyle={{ height: canvasSize.height }}\r\n\t\t\t\tcamera={{ fov: 55, position: [0, 0, 10] }}\r\n\t\t\t>\r\n\t\t\t\t<CameraControls minDistance={0.5} maxDistance={1.5}/>\r\n\t\t\t\t<spotLight intensity={0.4} position={[300, 300, 2000]} castShadow={true} />\r\n\t\t\t\t<spotLight intensity={0.35} position={[-3000, 1300, -1000]} castShadow={true} />\r\n\t\t\t\t<ambientLight intensity={0.07} />\r\n\t\t\t\t<Suspense fallback=\"loading\">\r\n\t\t\t\t\t<FantomaOdontogram scale={[10, 10, 10]} position={[0, 0, 0]} teeth={teeth} opacity={gumOpacity ? 1 : 0.8} open={open}/>\r\n\t\t\t\t</Suspense>\r\n\t\t\t\t{/* <Stats /> */}\r\n\t\t\t</Canvas>\r\n\t\t</>\r\n\t)\r\n}\r\nexport default Odontogram\r\n\r\n\r\n\r\nconst Icon =()=> {\r\n\treturn (\r\n\t  <svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"1rem\"\r\n\t\theight=\"1rem\"\r\n\t\tx=\"0\"\r\n\t\ty=\"0\"\r\n\t\tversion=\"1.1\"\r\n\t\tviewBox=\"0 0 90 90\"\r\n\t\txmlSpace=\"preserve\"\r\n\t  >\r\n\t\t<path \r\n\t\tfill='white'\r\n\t\td=\"M69.772 20.224C63.521 7.917 50.719 0 36.883 0 16.546 0 0 16.546 0 36.883c0 13.836 7.917 26.638 20.224 32.889C26.32 81.761 38.771 90 53.117 90 73.454 90 90 73.454 90 53.117c0-14.347-8.239-26.797-20.228-32.893zm-16.717 1.011l15.71 15.71a31.866 31.866 0 01-.66 6.411L46.644 21.895a31.874 31.874 0 016.411-.66zm-29.28 44.35a31.458 31.458 0 01-1.51-4.43l6.59 6.59a31.559 31.559 0 01-4.871-1.698c-.069-.154-.143-.306-.209-.462zm13.17 3.18l-15.71-15.71c.004-2.196.231-4.34.66-6.412l21.461 21.461c-2.071.43-4.215.657-6.411.661zm11.833-2.309L23.544 41.222a31.773 31.773 0 012.365-4.707l27.577 27.577a31.925 31.925 0 01-4.708 2.364zm8.797-5.345L28.889 32.425a32.082 32.082 0 013.536-3.536l28.686 28.686a32.082 32.082 0 01-3.536 3.536zm6.517-7.626L36.515 25.908a31.816 31.816 0 014.707-2.364l25.234 25.234a31.768 31.768 0 01-2.364 4.707zm-2.937-31.22a31.469 31.469 0 014.892 1.719 31.559 31.559 0 011.698 4.871zM53.117 85c-10.216 0-19.319-4.835-25.158-12.331a36.842 36.842 0 008.924 1.098c20.338 0 36.884-16.546 36.884-36.883 0-3.047-.377-6.028-1.098-8.924C80.165 33.798 85 42.901 85 53.117 85 70.697 70.697 85 53.117 85z\"></path>\r\n\t  </svg>\r\n\t);\r\n}"]},"metadata":{},"sourceType":"module"}
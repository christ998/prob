{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Christian\\\\WebstormProjects\\\\teleodontoweb\\\\src\\\\views\\\\pages\\\\patient\\\\list-user.js\";\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label, Table, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport axios from '../../../helpers/axiosConfig';\nimport useList from 'hooks/useList';\nimport { getList } from 'helpers/ListHelper';\nimport SimpleModal from \"../components/SimpleModal\";\n\nvar ListUser = function ListUser() {\n  useEffect(function () {\n    fetchUsers();\n  }, []);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userMedicalAreas = _useState4[0],\n      setUserMedicalAreas = _useState4[1];\n\n  var userTypes = useList(\"list/user-type\");\n  var medicalAreas = useList(\"list/medical-area\");\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentUser = _useState6[0],\n      setCurrentUser = _useState6[1];\n\n  var _useState7 = useState('user'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      group = _useState8[0],\n      setGroup = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loading = _useState10[0],\n      setLoading = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      add = _useState12[0],\n      setAdded = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      searchTerm = _useState14[0],\n      setSearchTerm = _useState14[1];\n\n  var fetchUsers = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getList(\"user\");\n\n            case 2:\n              res = _context.sent;\n              setLoading(false);\n              setUsers(res);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchUsers() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var fetchAreas = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user_id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getList(\"user/user-medical-area/\" + user_id);\n\n            case 2:\n              res = _context2.sent;\n              setUserMedicalAreas(res);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function fetchAreas(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleInputChange = function handleInputChange(e) {\n    setCurrentUser(_objectSpread(_objectSpread({}, currentUser), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      displayModal = _useState16[0],\n      setDisplayModal = _useState16[1];\n\n  var showModal = function showModal(user) {\n    setCurrentUser(user);\n    setGroup(\"user\");\n    fetchAreas(user.user_id);\n    setDisplayModal(!displayModal);\n  };\n\n  var changeGroup = function changeGroup(group) {\n    var form = document.getElementById('id-form-update');\n\n    if (form.checkValidity()) {\n      setGroup(group);\n    } else {\n      document.getElementById('id-btn-save').click();\n    }\n\n    ;\n  };\n\n  var modalRef = useRef();\n\n  var setModal = function setModal(options) {\n    modalRef.current.setModal(options);\n  };\n\n  var deleteUserMedicalArea = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user_medical_area_id) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.delete(\"user/user-medical-area/\" + user_medical_area_id);\n\n            case 2:\n              fetchAreas(currentUser.user_id);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function deleteUserMedicalArea(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var updateStateUser = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(run) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return axios.put(\"user/\" + run);\n\n            case 2:\n              setModal({});\n              fetchUsers();\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function updateStateUser(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var saveUserMedicalArea = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return axios.post(\"user/user-medical-area\", {\n                user_id: currentUser.user_id,\n                medical_area_id: currentUser.medical_area_id\n              });\n\n            case 3:\n              res = _context5.sent;\n\n              if (!res.data.error) {\n                fetchAreas(currentUser.user_id);\n              } else {\n                console.log('Err: ' + res.data.result.code + ' ' + res.data.result.sqlMessage);\n              }\n\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.log('Err: ' + _context5.t0);\n\n            case 10:\n              ;\n\n            case 11:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function saveUserMedicalArea() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var updateUser = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              e.preventDefault();\n              _context6.prev = 1;\n              _context6.next = 4;\n              return axios.put(\"user\", currentUser);\n\n            case 4:\n              res = _context6.sent;\n              _context6.t0 = res.data.result[0][0].cod;\n              _context6.next = _context6.t0 === 0 ? 8 : _context6.t0 === 1 ? 11 : _context6.t0 === 2 ? 13 : 15;\n              break;\n\n            case 8:\n              fetchUsers();\n              setDisplayModal(!displayModal);\n              return _context6.abrupt(\"break\", 17);\n\n            case 11:\n              setModal({\n                title: 'Usuario',\n                text: 'El usuario ' + currentUser.run + ' ya existe.',\n                type: 1\n              });\n              return _context6.abrupt(\"break\", 17);\n\n            case 13:\n              setModal({\n                title: 'Usuario',\n                text: 'El usuario ' + currentUser.run + ' ya existe pero esta inactivo',\n                type: 1\n              });\n              return _context6.abrupt(\"break\", 17);\n\n            case 15:\n              setModal({\n                title: 'Error',\n                text: 'Despierte al administrador de sistemas ' + res.data.result[0][0].msg,\n                type: 1\n              });\n              return _context6.abrupt(\"break\", 17);\n\n            case 17:\n              ;\n              _context6.next = 23;\n              break;\n\n            case 20:\n              _context6.prev = 20;\n              _context6.t1 = _context6[\"catch\"](1);\n              console.log('Err: ' + _context6.t1);\n\n            case 23:\n              ;\n\n            case 24:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[1, 20]]);\n    }));\n\n    return function updateUser(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var reqTag = /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#DC3545\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 20\n    }\n  }, \"*\");\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SimpleModal, {\n    ref: modalRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"Listado de usuarios\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Buscar...\",\n    name: \"look_for\",\n    value: searchTerm,\n    onChange: function onChange(e) {\n      return setSearchTerm(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 d-flex justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  })) : /*#__PURE__*/React.createElement(Table, {\n    className: \"align-items-center\",\n    responsive: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, \"N\\xB0\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }\n  }, \"Apellido\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, \"Run\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, \"Rol\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }, users.filter(function (val) {\n    if (searchTerm == \"\") {\n      return val;\n    } else if (val.run.includes(searchTerm) || val.fullname.toLowerCase().includes(searchTerm.toLowerCase())) {\n      return val;\n    }\n  }).map(function (user) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"text-center\",\n      key: user.user_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 37\n      }\n    }, user.user_id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }, user.names), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 37\n      }\n    }, user.lastnames), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 37\n      }\n    }, user.run), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }, user.role), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: function onClick() {\n        return showModal(user);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 41\n      }\n    }, \"Editar\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"danger\",\n      size: \"sm\",\n      onClick: function onClick() {\n        return setModal({\n          title: 'Usuario',\n          text: 'Desea eliminar al usuario ' + user.run + '?',\n          type: 2,\n          fx: function fx() {\n            return updateStateUser(user.run);\n          }\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"far fa-trash-alt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 218\n      }\n    }))));\n  }))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: displayModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    id: \"id-form-update\",\n    role: \"form\",\n    onSubmit: function onSubmit(e) {\n      return updateUser(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: function toggle() {\n      setDisplayModal(!displayModal);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }, currentUser.user_type_id == 2 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    style: _objectSpread({\n      paddingRight: \"15px\",\n      cursor: \"pointer\"\n    }, group === 'user' ? {\n      color: \"#11cdef\"\n    } : {}),\n    onClick: function onClick() {\n      return changeGroup('user');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 41\n    }\n  }, \"Usuario\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    style: _objectSpread({\n      paddingRight: \"15px\",\n      cursor: \"pointer\"\n    }, group === 'area' ? {\n      color: \"#11cdef\"\n    } : {}),\n    onClick: function onClick() {\n      return changeGroup('area');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 41\n    }\n  }, \"Especialidad\")) : \"Usuario\"), group === 'user' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      color: \"#DC3545\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 37\n    }\n  }, \"* Existen campos obligatorios\"), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 45\n    }\n  }, \"Nombres \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    type: \"text\",\n    required: true,\n    name: \"names\",\n    value: currentUser.names,\n    onChange: function onChange(e) {\n      return handleInputChange(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 45\n    }\n  }, \"Apellidos \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    type: \"text\",\n    name: \"lastnames\",\n    value: currentUser.lastnames,\n    onChange: function onChange(e) {\n      return handleInputChange(e);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 45\n    }\n  }, \"Run \", reqTag), /*#__PURE__*/React.createElement(Input, {\n    required: true,\n    autoComplete: \"off\",\n    type: \"text\",\n    name: \"run\",\n    value: currentUser.run,\n    onChange: function onChange(e) {\n      return handleInputChange(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 45\n    }\n  }, \"Rol\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"user_type_id\",\n    onChange: function onChange(e) {\n      return handleInputChange(e);\n    },\n    value: currentUser.user_type_id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 45\n    }\n  }, userTypes.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: e.user_type_id,\n      value: e.user_type_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 70\n      }\n    }, e.name);\n  })))), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 45\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n    autoComplete: \"off\",\n    type: \"email\",\n    name: \"email\",\n    onChange: function onChange(e) {\n      return handleInputChange(e);\n    },\n    value: currentUser.email,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right mb-4 mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    id: \"id-btn-save\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 41\n    }\n  }, \"Guardar\"), ' ', /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      setDisplayModal(!displayModal);\n    },\n    color: \"secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 41\n    }\n  }, \"Cancelar\")))), group === 'area' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    className: \"form-control-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 45\n    }\n  }, \"Especialidad\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"medical_area_id\",\n    onChange: function onChange(e) {\n      return handleInputChange(e);\n    },\n    value: currentUser.medical_area_id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    hidden: true,\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 49\n    }\n  }, \"Seleccione...\"), medicalAreas.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: e.medical_area_id,\n      value: e.medical_area_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 73\n      }\n    }, e.name);\n  })))), /*#__PURE__*/React.createElement(Table, {\n    className: \"align-items-center\",\n    responsive: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 45\n    }\n  }, \"Especialidad\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 45\n    }\n  }, \"Eliminar\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 41\n    }\n  }, userMedicalAreas.map(function (userMedicalArea) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"text-center\",\n      key: userMedicalArea.user_medical_area_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 49\n      }\n    }, userMedicalArea.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: function onClick() {\n        deleteUserMedicalArea(userMedicalArea.user_medical_area_id);\n      },\n      className: \"mr-2\",\n      color: \"danger\",\n      size: \"sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"far fa-trash-alt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 181\n      }\n    }))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right mb-4 mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      saveUserMedicalArea();\n    },\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 41\n    }\n  }, \"Agregar\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      setDisplayModal(!displayModal);\n    },\n    color: \"secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 41\n    }\n  }, \"Salir\")))))))));\n};\n\nexport default ListUser;","map":{"version":3,"sources":["C:/Users/Christian/WebstormProjects/teleodontoweb/src/views/pages/patient/list-user.js"],"names":["React","useState","useEffect","useRef","Button","Col","Container","Form","FormGroup","Input","Card","CardBody","Label","Table","Modal","ModalHeader","ModalBody","axios","useList","getList","SimpleModal","ListUser","fetchUsers","users","setUsers","userMedicalAreas","setUserMedicalAreas","userTypes","medicalAreas","currentUser","setCurrentUser","group","setGroup","loading","setLoading","add","setAdded","searchTerm","setSearchTerm","res","fetchAreas","user_id","handleInputChange","e","target","name","value","displayModal","setDisplayModal","showModal","user","changeGroup","form","document","getElementById","checkValidity","click","modalRef","setModal","options","current","deleteUserMedicalArea","user_medical_area_id","delete","updateStateUser","run","put","saveUserMedicalArea","post","medical_area_id","data","error","console","log","result","code","sqlMessage","updateUser","preventDefault","cod","title","text","type","msg","reqTag","color","filter","val","includes","fullname","toLowerCase","map","names","lastnames","role","fx","user_type_id","paddingRight","cursor","email","userMedicalArea"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport {Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label, Table, Modal, ModalHeader, ModalBody} from 'reactstrap';\r\nimport axios from '../../../helpers/axiosConfig';\r\nimport useList from 'hooks/useList';\r\nimport {getList} from 'helpers/ListHelper';\r\nimport SimpleModal from \"../components/SimpleModal\";\r\n\r\nconst ListUser = () => {\r\n    useEffect(() => {fetchUsers()}, []);\r\n    const [users, setUsers] = useState([]);\r\n    const [userMedicalAreas, setUserMedicalAreas] = useState([]);\r\n    const userTypes = useList(\"list/user-type\");\r\n    const medicalAreas = useList(\"list/medical-area\");\r\n    const [currentUser, setCurrentUser] = useState({});\r\n    const [group, setGroup] = useState('user');\r\n    const [loading, setLoading] = useState(true);\r\n    const [add, setAdded] = useState(false)\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n    const fetchUsers = async () => {\r\n        const res = await getList(\"user\");\r\n        setLoading(false)\r\n        setUsers(res);\r\n    };\r\n\r\n    const fetchAreas = async (user_id) => {\r\n        const res = await getList(\"user/user-medical-area/\" + user_id);\r\n        setUserMedicalAreas(res);\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        setCurrentUser({\r\n            ...currentUser,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const [displayModal, setDisplayModal] = useState(false);\r\n    const showModal = (user) => {\r\n        setCurrentUser(user);\r\n        setGroup(\"user\");\r\n        fetchAreas(user.user_id);\r\n        setDisplayModal(!displayModal);\r\n    }\r\n\r\n    const changeGroup = (group) => {\r\n        var form = document.getElementById('id-form-update');\r\n        if (form.checkValidity()) {\r\n            setGroup(group);\r\n        } else {\r\n            document.getElementById('id-btn-save').click();\r\n        };\r\n    };\r\n\r\n    const modalRef = useRef()\r\n    const setModal = (options) => {\r\n        modalRef.current.setModal(options);\r\n    };\r\n\r\n    const deleteUserMedicalArea = async (user_medical_area_id) => {\r\n        await axios.delete(\"user/user-medical-area/\" + user_medical_area_id);\r\n        fetchAreas(currentUser.user_id);\r\n    };\r\n\r\n    const updateStateUser = async (run) => {\r\n        await axios.put(\"user/\" + run);\r\n        setModal({});\r\n        fetchUsers();\r\n    };\r\n\r\n    const saveUserMedicalArea = async () => {\r\n        try {\r\n            const res = await axios.post(\"user/user-medical-area\",\r\n                {user_id: currentUser.user_id, medical_area_id: currentUser.medical_area_id}\r\n            );\r\n            if (!res.data.error) {\r\n                fetchAreas(currentUser.user_id);\r\n            } else {\r\n                console.log('Err: ' + res.data.result.code + ' ' + res.data.result.sqlMessage);\r\n            }\r\n        } catch (e) {\r\n            console.log('Err: ' + e);\r\n        };\r\n    };\r\n\r\n    const updateUser = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.put(\"user\", currentUser);\r\n            switch (res.data.result[0][0].cod) {\r\n                case 0:\r\n                    fetchUsers();\r\n                    setDisplayModal(!displayModal);\r\n                    break;\r\n                case 1:\r\n                    setModal({title: 'Usuario', text: 'El usuario ' + currentUser.run + ' ya existe.', type: 1});\r\n                    break;\r\n                case 2:\r\n                    setModal({title: 'Usuario', text: 'El usuario ' + currentUser.run + ' ya existe pero esta inactivo', type: 1});\r\n                    break;\r\n                default:\r\n                    setModal({title: 'Error', text: 'Despierte al administrador de sistemas ' + res.data.result[0][0].msg, type: 1});\r\n                    break;\r\n            };\r\n        } catch (e) {\r\n            console.log('Err: ' + e);\r\n        };\r\n    };\r\n\r\n    const reqTag = <span style={{color:\"#DC3545\"}}>*</span>\r\n\r\n    return (\r\n        <Container className=\"mt-3\">\r\n            <SimpleModal ref={modalRef}/>\r\n            <Card>\r\n                <CardBody>\r\n                    <h1>Listado de usuarios</h1>\r\n                    <Input \r\n                        type=\"text\" \r\n                        placeholder=\"Buscar...\"\r\n                        name=\"look_for\"\r\n                        value={searchTerm}\r\n                        onChange={e => setSearchTerm(e.target.value)}\r\n                    />\r\n                    <br/>\r\n                    {loading \r\n                        ?<div className=\"w-100 d-flex justify-content-center\">\r\n                            <div className=\"loader\"></div>\r\n                        </div>\r\n                        :<Table className=\"align-items-center\" responsive>\r\n                            <thead className=\"thead-light\">\r\n                            <tr className=\"text-center\">\r\n                                <th scope=\"col\">N</th>\r\n                                <th scope=\"col\">Nombre</th>\r\n                                <th scope=\"col\">Apellido</th>\r\n                                <th scope=\"col\">Run</th>\r\n                                <th scope=\"col\">Rol</th>\r\n                                <th scope=\"col\"></th>\r\n                                <th scope=\"col\"></th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {users.filter(val => {\r\n                                    if(searchTerm == \"\") {\r\n                                        return val;\r\n                                    } else if (val.run.includes(searchTerm) || val.fullname.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n                                        return val;\r\n                                    }\r\n                            }).map(user => (\r\n                                <tr className=\"text-center\" key={user.user_id}>\r\n                                    <td>{user.user_id}</td>\r\n                                    <td>{user.names}</td>\r\n                                    <td>{user.lastnames}</td>\r\n                                    <td>{user.run}</td>\r\n                                    <td>{user.role}</td>\r\n                                    <td>\r\n                                        <Button color=\"primary\" onClick={() => showModal(user)}>Editar</Button>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Button color=\"danger\" size=\"sm\" onClick={() => setModal({title: 'Usuario', text: 'Desea eliminar al usuario ' + user.run + '?', type: 2, fx: () => updateStateUser(user.run)})}><i className=\"far fa-trash-alt\"></i></Button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            </tbody>\r\n                        </Table>\r\n                    }\r\n                    <Modal isOpen={displayModal}>\r\n                        <Form id=\"id-form-update\" role=\"form\" onSubmit={e => updateUser(e)}>\r\n                            <ModalHeader toggle={() => {setDisplayModal(!displayModal)}}>\r\n                                {currentUser.user_type_id == 2\r\n                                    ? <>\r\n                                        <a href=\"#\" style={{paddingRight: \"15px\", cursor: \"pointer\", ...(group === 'user' ? {color: \"#11cdef\"} : {})}} onClick={() => changeGroup('user')}>Usuario</a>\r\n                                        <a href=\"#\" style={{paddingRight: \"15px\", cursor: \"pointer\", ...(group === 'area' ? {color: \"#11cdef\"} : {})}} onClick={() => changeGroup('area')}>Especialidad</a>\r\n                                      </>\r\n                                    : \"Usuario\"\r\n                                }\r\n                            </ModalHeader>\r\n                            {group === 'user' && <>\r\n                                <ModalBody>\r\n                                    <h5 style={{color:\"#DC3545\"}}>* Existen campos obligatorios</h5>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Nombres {reqTag}</Label>\r\n                                            <Input\r\n                                                autoComplete=\"off\"\r\n                                                type=\"text\"\r\n                                                required\r\n                                                name=\"names\"\r\n                                                value={currentUser.names}\r\n                                                onChange={e => handleInputChange(e)}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Apellidos {reqTag}</Label>\r\n                                            <Input\r\n                                                autoComplete=\"off\"\r\n                                                type=\"text\"\r\n                                                name=\"lastnames\"\r\n                                                value={currentUser.lastnames}\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                required\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Run {reqTag}</Label>\r\n                                            <Input\r\n                                                required\r\n                                                autoComplete=\"off\"\r\n                                                type=\"text\"\r\n                                                name=\"run\"\r\n                                                value={currentUser.run}\r\n                                                onChange={e => handleInputChange(e)}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Rol</Label>\r\n                                            <Input\r\n                                                type=\"select\"\r\n                                                name=\"user_type_id\"\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                value={currentUser.user_type_id}>\r\n                                                {userTypes.map(e => (<option key={e.user_type_id}\r\n                                                                                value={e.user_type_id}>{e.name}</option>))}\r\n                                            </Input>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Email</Label>\r\n                                            <Input\r\n                                                autoComplete=\"off\"\r\n                                                type=\"email\"\r\n                                                name=\"email\"\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                value={currentUser.email}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <div className=\"float-right mb-4 mr-2\">\r\n                                        <Button type=\"submit\" id=\"id-btn-save\"color=\"primary\">Guardar</Button>{' '}\r\n                                        <Button onClick={() => {setDisplayModal(!displayModal)}} color=\"secondary\">Cancelar</Button>\r\n                                    </div>\r\n                                </ModalBody>\r\n                            </>}\r\n                            {group === 'area' && <>\r\n                                <ModalBody>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Especialidad</Label>\r\n                                            <Input\r\n                                                type=\"select\"\r\n                                                name=\"medical_area_id\"\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                value={currentUser.medical_area_id}>\r\n                                                <option hidden value=\"\">Seleccione...</option>\r\n                                                {medicalAreas.map(e => (<option key={e.medical_area_id} value={e.medical_area_id}>{e.name}</option>))}\r\n                                            </Input>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <Table className=\"align-items-center\" responsive>\r\n                                        <thead className=\"thead-light\">\r\n                                        <tr className=\"text-center\">\r\n                                            <th scope=\"col\">Especialidad</th>\r\n                                            <th scope=\"col\">Eliminar</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {userMedicalAreas.map(userMedicalArea => (\r\n                                            <tr className=\"text-center\" key={userMedicalArea.user_medical_area_id}>\r\n                                                <td>{userMedicalArea.name}</td>\r\n                                                <td>\r\n                                                    <Button onClick={() => {deleteUserMedicalArea(userMedicalArea.user_medical_area_id)}} className=\"mr-2\" color=\"danger\" size=\"sm\"><i className=\"far fa-trash-alt\"/></Button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))}\r\n                                        </tbody>\r\n                                    </Table>\r\n                                    <div className=\"float-right mb-4 mr-2\">\r\n                                        <Button onClick={() => {saveUserMedicalArea()}} color=\"primary\">Agregar</Button>\r\n                                        <Button onClick={() => {setDisplayModal(!displayModal)}} color=\"secondary\">Salir</Button>\r\n                                    </div>\r\n                                </ModalBody>\r\n                            </>}\r\n                        </Form>\r\n                    </Modal>\r\n                </CardBody>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ListUser;\r\n\r\n"]},"metadata":{},"sourceType":"module"}
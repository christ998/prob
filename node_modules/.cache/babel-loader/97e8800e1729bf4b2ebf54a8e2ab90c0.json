{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Christian\\\\Desktop\\\\tele\\\\Nueva carpeta\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{Button,Col,Container,Form,FormGroup,Input,Card,CardBody,Label,Table,Modal,ModalHeader,ModalBody}from'reactstrap';import axios from'../../../helpers/axiosConfig';import useList from'hooks/useList';import{getList}from'helpers/ListHelper';import SimpleModal from\"../components/SimpleModal\";var ListUser=function ListUser(){useEffect(function(){fetchUsers();},[]);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userMedicalAreas=_useState4[0],setUserMedicalAreas=_useState4[1];var userTypes=useList(\"list/user-type\");var medicalAreas=useList(\"list/medical-area\");var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),currentUser=_useState6[0],setCurrentUser=_useState6[1];var _useState7=useState('user'),_useState8=_slicedToArray(_useState7,2),group=_useState8[0],setGroup=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),searchTerm=_useState12[0],setSearchTerm=_useState12[1];var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getList(\"user\");case 2:res=_context.sent;setLoading(false);setUsers(res);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();var fetchAreas=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user_id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getList(\"user/user-medical-area/\"+user_id);case 2:res=_context2.sent;setUserMedicalAreas(res);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchAreas(_x){return _ref2.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{[e.target.name]:e.target.value}));};var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),displayModal=_useState14[0],setDisplayModal=_useState14[1];var showModal=function showModal(user){setCurrentUser(user);setGroup(\"user\");fetchAreas(user.user_id);setDisplayModal(!displayModal);};var changeGroup=function changeGroup(group){var form=document.getElementById('id-form-update');if(form.checkValidity()){setGroup(group);}else{document.getElementById('id-btn-save').click();};};var modalRef=useRef();var setModal=function setModal(options){modalRef.current.setModal(options);};var deleteUserMedicalArea=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user_medical_area_id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"user/user-medical-area/\"+user_medical_area_id);case 2:fetchAreas(currentUser.user_id);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteUserMedicalArea(_x2){return _ref3.apply(this,arguments);};}();var updateStateUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(run){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.put(\"user/\"+run);case 2:setModal({});fetchUsers();case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function updateStateUser(_x3){return _ref4.apply(this,arguments);};}();var saveUserMedicalArea=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.post(\"user/user-medical-area\",{user_id:currentUser.user_id,medical_area_id:currentUser.medical_area_id});case 3:res=_context5.sent;if(!res.data.error){fetchAreas(currentUser.user_id);}else{console.log('Err: '+res.data.result.code+' '+res.data.result.sqlMessage);}_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.log('Err: '+_context5.t0);case 10:;case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function saveUserMedicalArea(){return _ref5.apply(this,arguments);};}();var updateUser=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(e){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:e.preventDefault();_context6.prev=1;_context6.next=4;return axios.put(\"user\",currentUser);case 4:res=_context6.sent;_context6.t0=res.data.result[0][0].cod;_context6.next=_context6.t0===0?8:_context6.t0===1?11:_context6.t0===2?13:15;break;case 8:fetchUsers();setDisplayModal(!displayModal);return _context6.abrupt(\"break\",17);case 11:setModal({title:'Usuario',text:'El usuario '+currentUser.run+' ya existe.',type:1});return _context6.abrupt(\"break\",17);case 13:setModal({title:'Usuario',text:'El usuario '+currentUser.run+' ya existe pero esta inactivo',type:1});return _context6.abrupt(\"break\",17);case 15:setModal({title:'Error',text:'Despierte al administrador de sistemas '+res.data.result[0][0].msg,type:1});return _context6.abrupt(\"break\",17);case 17:;_context6.next=23;break;case 20:_context6.prev=20;_context6.t1=_context6[\"catch\"](1);console.log('Err: '+_context6.t1);case 23:;case 24:case\"end\":return _context6.stop();}}},_callee6,null,[[1,20]]);}));return function updateUser(_x4){return _ref6.apply(this,arguments);};}();var reqTag=/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#DC3545\"}},\"*\");return/*#__PURE__*/React.createElement(Container,{className:\"mt-3\"},/*#__PURE__*/React.createElement(SimpleModal,{ref:modalRef}),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Listado de usuarios\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Buscar...\",name:\"look_for\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/React.createElement(\"br\",null),loading?/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"})):/*#__PURE__*/React.createElement(Table,{className:\"align-items-center\",responsive:true},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"N\\xB0\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Apellido\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Run\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Rol\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"}),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,users.filter(function(val){if(searchTerm==\"\"){return val;}else if(val.run.includes(searchTerm)||val.fullname.toLowerCase().includes(searchTerm.toLowerCase())){return val;}}).map(function(user){return/*#__PURE__*/React.createElement(\"tr\",{className:\"text-center\",key:user.user_id},/*#__PURE__*/React.createElement(\"td\",null,user.user_id),/*#__PURE__*/React.createElement(\"td\",null,user.names),/*#__PURE__*/React.createElement(\"td\",null,user.lastnames),/*#__PURE__*/React.createElement(\"td\",null,user.run),/*#__PURE__*/React.createElement(\"td\",null,user.role),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:function onClick(){return showModal(user);}},\"Editar\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{color:\"danger\",size:\"sm\",onClick:function onClick(){return setModal({title:'Usuario',text:'Desea eliminar al usuario '+user.run+'?',type:2,fx:function fx(){return updateStateUser(user.run);}});}},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-trash-alt\"}))));}))),/*#__PURE__*/React.createElement(Modal,{isOpen:displayModal},/*#__PURE__*/React.createElement(Form,{id:\"id-form-update\",role:\"form\",onSubmit:function onSubmit(e){return updateUser(e);}},/*#__PURE__*/React.createElement(ModalHeader,{toggle:function toggle(){setDisplayModal(!displayModal);}},currentUser.user_type_id==2?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{href:\"#\",style:_objectSpread({paddingRight:\"15px\",cursor:\"pointer\"},group==='user'?{color:\"#11cdef\"}:{}),onClick:function onClick(){return changeGroup('user');}},\"Usuario\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",style:_objectSpread({paddingRight:\"15px\",cursor:\"pointer\"},group==='area'?{color:\"#11cdef\"}:{}),onClick:function onClick(){return changeGroup('area');}},\"Especialidad\")):\"Usuario\"),group==='user'&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"h5\",{style:{color:\"#DC3545\"}},\"* Existen campos obligatorios\"),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"Nombres \",reqTag),/*#__PURE__*/React.createElement(Input,{autoComplete:\"off\",type:\"text\",required:true,name:\"names\",value:currentUser.names,onChange:function onChange(e){return handleInputChange(e);}}))),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"Apellidos \",reqTag),/*#__PURE__*/React.createElement(Input,{autoComplete:\"off\",type:\"text\",name:\"lastnames\",value:currentUser.lastnames,onChange:function onChange(e){return handleInputChange(e);},required:true}))),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"N\\xFAmero de Identidad \",reqTag),/*#__PURE__*/React.createElement(Input,{required:true,autoComplete:\"off\",type:\"text\",name:\"run\",value:currentUser.run,onChange:function onChange(e){return handleInputChange(e);}}))),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"Rol\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"user_type_id\",onChange:function onChange(e){return handleInputChange(e);},value:currentUser.user_type_id},userTypes.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{key:e.user_type_id,value:e.user_type_id},e.name);})))),/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"Email\"),/*#__PURE__*/React.createElement(Input,{autoComplete:\"off\",type:\"email\",name:\"email\",onChange:function onChange(e){return handleInputChange(e);},value:currentUser.email}))),/*#__PURE__*/React.createElement(\"div\",{className:\"float-right mb-4 mr-2\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\",id:\"id-btn-save\",color:\"primary\"},\"Guardar\"),' ',/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){setDisplayModal(!displayModal);},color:\"secondary\"},\"Cancelar\")))),group==='area'&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(FormGroup,{className:\"row\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Label,{className:\"form-control-label\"},\"Especialidad\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"medical_area_id\",onChange:function onChange(e){return handleInputChange(e);},value:currentUser.medical_area_id},/*#__PURE__*/React.createElement(\"option\",{hidden:true,value:\"\"},\"Seleccione...\"),medicalAreas.map(function(e){return/*#__PURE__*/React.createElement(\"option\",{key:e.medical_area_id,value:e.medical_area_id},e.name);})))),/*#__PURE__*/React.createElement(Table,{className:\"align-items-center\",responsive:true},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Especialidad\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Eliminar\"))),/*#__PURE__*/React.createElement(\"tbody\",null,userMedicalAreas.map(function(userMedicalArea){return/*#__PURE__*/React.createElement(\"tr\",{className:\"text-center\",key:userMedicalArea.user_medical_area_id},/*#__PURE__*/React.createElement(\"td\",null,userMedicalArea.name),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){deleteUserMedicalArea(userMedicalArea.user_medical_area_id);},className:\"mr-2\",color:\"danger\",size:\"sm\"},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-trash-alt\"}))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"float-right mb-4 mr-2\"},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){saveUserMedicalArea();},color:\"primary\"},\"Agregar\"),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){setDisplayModal(!displayModal);},color:\"secondary\"},\"Salir\")))))))));};export default ListUser;","map":{"version":3,"sources":["C:/Users/Christian/Desktop/tele/Nueva carpeta/src/views/pages/patient/list-user.js"],"names":["React","useState","useEffect","useRef","Button","Col","Container","Form","FormGroup","Input","Card","CardBody","Label","Table","Modal","ModalHeader","ModalBody","axios","useList","getList","SimpleModal","ListUser","fetchUsers","users","setUsers","userMedicalAreas","setUserMedicalAreas","userTypes","medicalAreas","currentUser","setCurrentUser","group","setGroup","loading","setLoading","searchTerm","setSearchTerm","res","fetchAreas","user_id","handleInputChange","e","target","name","value","displayModal","setDisplayModal","showModal","user","changeGroup","form","document","getElementById","checkValidity","click","modalRef","setModal","options","current","deleteUserMedicalArea","user_medical_area_id","delete","updateStateUser","run","put","saveUserMedicalArea","post","medical_area_id","data","error","console","log","result","code","sqlMessage","updateUser","preventDefault","cod","title","text","type","msg","reqTag","color","filter","val","includes","fullname","toLowerCase","map","names","lastnames","role","fx","user_type_id","paddingRight","cursor","email","userMedicalArea"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport {Button, Col, Container, Form, FormGroup, Input, Card, CardBody, Label, Table, Modal, ModalHeader, ModalBody} from 'reactstrap';\r\nimport axios from '../../../helpers/axiosConfig';\r\nimport useList from 'hooks/useList';\r\nimport {getList} from 'helpers/ListHelper';\r\nimport SimpleModal from \"../components/SimpleModal\";\r\n\r\nconst ListUser = () => {\r\n    useEffect(() => {fetchUsers()}, []);\r\n    const [users, setUsers] = useState([]);\r\n    const [userMedicalAreas, setUserMedicalAreas] = useState([]);\r\n    const userTypes = useList(\"list/user-type\");\r\n    const medicalAreas = useList(\"list/medical-area\");\r\n    const [currentUser, setCurrentUser] = useState({});\r\n    const [group, setGroup] = useState('user');\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n    const fetchUsers = async () => {\r\n        const res = await getList(\"user\");\r\n        setLoading(false)\r\n        setUsers(res);\r\n    };\r\n\r\n    const fetchAreas = async (user_id) => {\r\n        const res = await getList(\"user/user-medical-area/\" + user_id);\r\n        setUserMedicalAreas(res);\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        setCurrentUser({\r\n            ...currentUser,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const [displayModal, setDisplayModal] = useState(false);\r\n    const showModal = (user) => {\r\n        setCurrentUser(user);\r\n        setGroup(\"user\");\r\n        fetchAreas(user.user_id);\r\n        setDisplayModal(!displayModal);\r\n    }\r\n\r\n    const changeGroup = (group) => {\r\n        var form = document.getElementById('id-form-update');\r\n        if (form.checkValidity()) {\r\n            setGroup(group);\r\n        } else {\r\n            document.getElementById('id-btn-save').click();\r\n        };\r\n    };\r\n\r\n    const modalRef = useRef()\r\n    const setModal = (options) => {\r\n        modalRef.current.setModal(options);\r\n    };\r\n\r\n    const deleteUserMedicalArea = async (user_medical_area_id) => {\r\n        await axios.delete(\"user/user-medical-area/\" + user_medical_area_id);\r\n        fetchAreas(currentUser.user_id);\r\n    };\r\n\r\n    const updateStateUser = async (run) => {\r\n        await axios.put(\"user/\" + run);\r\n        setModal({});\r\n        fetchUsers();\r\n    };\r\n\r\n    const saveUserMedicalArea = async () => {\r\n        try {\r\n            const res = await axios.post(\"user/user-medical-area\",\r\n                {user_id: currentUser.user_id, medical_area_id: currentUser.medical_area_id}\r\n            );\r\n            if (!res.data.error) {\r\n                fetchAreas(currentUser.user_id);\r\n            } else {\r\n                console.log('Err: ' + res.data.result.code + ' ' + res.data.result.sqlMessage);\r\n            }\r\n        } catch (e) {\r\n            console.log('Err: ' + e);\r\n        };\r\n    };\r\n\r\n    const updateUser = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.put(\"user\", currentUser);\r\n            switch (res.data.result[0][0].cod) {\r\n                case 0:\r\n                    fetchUsers();\r\n                    setDisplayModal(!displayModal);\r\n                    break;\r\n                case 1:\r\n                    setModal({title: 'Usuario', text: 'El usuario ' + currentUser.run + ' ya existe.', type: 1});\r\n                    break;\r\n                case 2:\r\n                    setModal({title: 'Usuario', text: 'El usuario ' + currentUser.run + ' ya existe pero esta inactivo', type: 1});\r\n                    break;\r\n                default:\r\n                    setModal({title: 'Error', text: 'Despierte al administrador de sistemas ' + res.data.result[0][0].msg, type: 1});\r\n                    break;\r\n            };\r\n        } catch (e) {\r\n            console.log('Err: ' + e);\r\n        };\r\n    };\r\n\r\n    const reqTag = <span style={{color:\"#DC3545\"}}>*</span>\r\n\r\n    return (\r\n        <Container className=\"mt-3\">\r\n            <SimpleModal ref={modalRef}/>\r\n            <Card>\r\n                <CardBody>\r\n                    <h1>Listado de usuarios</h1>\r\n                    <Input \r\n                        type=\"text\" \r\n                        placeholder=\"Buscar...\"\r\n                        name=\"look_for\"\r\n                        value={searchTerm}\r\n                        onChange={e => setSearchTerm(e.target.value)}\r\n                    />\r\n                    <br/>\r\n                    {loading \r\n                        ?<div className=\"w-100 d-flex justify-content-center\">\r\n                            <div className=\"loader\"></div>\r\n                        </div>\r\n                        :<Table className=\"align-items-center\" responsive>\r\n                            <thead className=\"thead-light\">\r\n                            <tr className=\"text-center\">\r\n                                <th scope=\"col\">N°</th>\r\n                                <th scope=\"col\">Nombre</th>\r\n                                <th scope=\"col\">Apellido</th>\r\n                                <th scope=\"col\">Run</th>\r\n                                <th scope=\"col\">Rol</th>\r\n                                <th scope=\"col\"></th>\r\n                                <th scope=\"col\"></th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {users.filter(val => {\r\n                                    if(searchTerm == \"\") {\r\n                                        return val;\r\n                                    } else if (val.run.includes(searchTerm) || val.fullname.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n                                        return val;\r\n                                    }\r\n                            }).map(user => (\r\n                                <tr className=\"text-center\" key={user.user_id}>\r\n                                    <td>{user.user_id}</td>\r\n                                    <td>{user.names}</td>\r\n                                    <td>{user.lastnames}</td>\r\n                                    <td>{user.run}</td>\r\n                                    <td>{user.role}</td>\r\n                                    <td>\r\n                                        <Button color=\"primary\" onClick={() => showModal(user)}>Editar</Button>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Button color=\"danger\" size=\"sm\" onClick={() => setModal({title: 'Usuario', text: 'Desea eliminar al usuario ' + user.run + '?', type: 2, fx: () => updateStateUser(user.run)})}><i className=\"far fa-trash-alt\"></i></Button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            </tbody>\r\n                        </Table>\r\n                    }\r\n                    <Modal isOpen={displayModal}>\r\n                        <Form id=\"id-form-update\" role=\"form\" onSubmit={e => updateUser(e)}>\r\n                            <ModalHeader toggle={() => {setDisplayModal(!displayModal)}}>\r\n                                {currentUser.user_type_id == 2\r\n                                    ? <>\r\n                                        <a href=\"#\" style={{paddingRight: \"15px\", cursor: \"pointer\", ...(group === 'user' ? {color: \"#11cdef\"} : {})}} onClick={() => changeGroup('user')}>Usuario</a>\r\n                                        <a href=\"#\" style={{paddingRight: \"15px\", cursor: \"pointer\", ...(group === 'area' ? {color: \"#11cdef\"} : {})}} onClick={() => changeGroup('area')}>Especialidad</a>\r\n                                      </>\r\n                                    : \"Usuario\"\r\n                                }\r\n                            </ModalHeader>\r\n                            {group === 'user' && <>\r\n                                <ModalBody>\r\n                                    <h5 style={{color:\"#DC3545\"}}>* Existen campos obligatorios</h5>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Nombres {reqTag}</Label>\r\n                                            <Input\r\n                                                autoComplete=\"off\"\r\n                                                type=\"text\"\r\n                                                required\r\n                                                name=\"names\"\r\n                                                value={currentUser.names}\r\n                                                onChange={e => handleInputChange(e)}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Apellidos {reqTag}</Label>\r\n                                            <Input\r\n                                                autoComplete=\"off\"\r\n                                                type=\"text\"\r\n                                                name=\"lastnames\"\r\n                                                value={currentUser.lastnames}\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                required\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Número de Identidad {reqTag}</Label>\r\n                                            <Input\r\n                                                required\r\n                                                autoComplete=\"off\"\r\n                                                type=\"text\"\r\n                                                name=\"run\"\r\n                                                value={currentUser.run}\r\n                                                onChange={e => handleInputChange(e)}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Rol</Label>\r\n                                            <Input\r\n                                                type=\"select\"\r\n                                                name=\"user_type_id\"\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                value={currentUser.user_type_id}>\r\n                                                {userTypes.map(e => (<option key={e.user_type_id} value={e.user_type_id}>{e.name}</option>))}\r\n                                            </Input>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Email</Label>\r\n                                            <Input\r\n                                                autoComplete=\"off\"\r\n                                                type=\"email\"\r\n                                                name=\"email\"\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                value={currentUser.email}\r\n                                            />\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <div className=\"float-right mb-4 mr-2\">\r\n                                        <Button type=\"submit\" id=\"id-btn-save\"color=\"primary\">Guardar</Button>{' '}\r\n                                        <Button onClick={() => {setDisplayModal(!displayModal)}} color=\"secondary\">Cancelar</Button>\r\n                                    </div>\r\n                                </ModalBody>\r\n                            </>}\r\n                            {group === 'area' && <>\r\n                                <ModalBody>\r\n                                    <FormGroup className=\"row\">\r\n                                        <Col>\r\n                                            <Label className=\"form-control-label\">Especialidad</Label>\r\n                                            <Input\r\n                                                type=\"select\"\r\n                                                name=\"medical_area_id\"\r\n                                                onChange={e => handleInputChange(e)}\r\n                                                value={currentUser.medical_area_id}>\r\n                                                <option hidden value=\"\">Seleccione...</option>\r\n                                                {medicalAreas.map(e => (<option key={e.medical_area_id} value={e.medical_area_id}>{e.name}</option>))}\r\n                                            </Input>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <Table className=\"align-items-center\" responsive>\r\n                                        <thead className=\"thead-light\">\r\n                                        <tr className=\"text-center\">\r\n                                            <th scope=\"col\">Especialidad</th>\r\n                                            <th scope=\"col\">Eliminar</th>\r\n                                        </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {userMedicalAreas.map(userMedicalArea => (\r\n                                            <tr className=\"text-center\" key={userMedicalArea.user_medical_area_id}>\r\n                                                <td>{userMedicalArea.name}</td>\r\n                                                <td>\r\n                                                    <Button onClick={() => {deleteUserMedicalArea(userMedicalArea.user_medical_area_id)}} className=\"mr-2\" color=\"danger\" size=\"sm\"><i className=\"far fa-trash-alt\"/></Button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))}\r\n                                        </tbody>\r\n                                    </Table>\r\n                                    <div className=\"float-right mb-4 mr-2\">\r\n                                        <Button onClick={() => {saveUserMedicalArea()}} color=\"primary\">Agregar</Button>\r\n                                        <Button onClick={() => {setDisplayModal(!displayModal)}} color=\"secondary\">Salir</Button>\r\n                                    </div>\r\n                                </ModalBody>\r\n                            </>}\r\n                        </Form>\r\n                    </Modal>\r\n                </CardBody>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ListUser;\r\n\r\n"]},"metadata":{},"sourceType":"module"}